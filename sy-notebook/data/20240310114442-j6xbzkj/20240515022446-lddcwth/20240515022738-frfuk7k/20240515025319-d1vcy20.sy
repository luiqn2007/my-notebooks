{"ID":"20240515025319-d1vcy20","Spec":"1","Type":"NodeDocument","Properties":{"icon":"mysql.ico","id":"20240515025319-d1vcy20","title":"触发器","type":"doc","updated":"20240515025339"},"Children":[{"ID":"20240515025327-z0okzss","Type":"NodeParagraph","Properties":{"id":"20240515025327-z0okzss","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"触发器：与表有关的对象，在 insert，update，delete 之前或之后触发并执行触发器定义的 SQL 语句集合（钩子函数 or 事件监听？），并提供 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"OLD"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"NEW"},{"Type":"NodeText","Data":"​ 用于引用发生变化的数据内容"}]},{"ID":"20240515025327-ublq7ad","Type":"NodeList","ListData":{},"Properties":{"id":"20240515025327-ublq7ad","updated":"20240515025327"},"Children":[{"ID":"20240515025327-lktzfa3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240515025327-lktzfa3","updated":"20240515025327"},"Children":[{"ID":"20240515025327-wgldj9g","Type":"NodeParagraph","Properties":{"id":"20240515025327-wgldj9g","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"insert：NEW 表示新插入数据，OLD 无用"}]}]},{"ID":"20240515025327-e0mopfw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240515025327-e0mopfw","updated":"20240515025327"},"Children":[{"ID":"20240515025327-0xr7z0r","Type":"NodeParagraph","Properties":{"id":"20240515025327-0xr7z0r","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"update：NEW，OLD 分别表示新旧数据"}]}]},{"ID":"20240515025327-rv2symg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240515025327-rv2symg","updated":"20240515025327"},"Children":[{"ID":"20240515025327-nrhstqt","Type":"NodeParagraph","Properties":{"id":"20240515025327-nrhstqt","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"delete：OLD 表示要删除数据，NEW 无用"}]}]}]},{"ID":"20240515025327-t8epj2j","Type":"NodeParagraph","Properties":{"id":"20240515025327-t8epj2j","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"触发器仅支持行级触发（即影响了几行就出发几次），不支持语句级触发"}]},{"ID":"20240515025327-0j8tqff","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240515025327-0j8tqff","updated":"20240515025327"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bXlzcWw="},{"Type":"NodeCodeBlockCode","Data":"-- 创建触发器\ncreate trigger 触发器名 before|after insert|update|delete on 表名 for each row\nbegin\n  -- 待执行 SQL 语句\nend;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240515025327-51qvl2t","Type":"NodeParagraph","Properties":{"id":"20240515025327-51qvl2t","updated":"20240515025327"},"Children":[{"Type":"NodeText","Data":"创建的所有触发器可通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"show triggers;"},{"Type":"NodeText","Data":"​ 查看，并使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"drop"},{"Type":"NodeText","Data":"​ 删除"}]},{"ID":"20240515025327-9gsjwds","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240515025327-9gsjwds","updated":"20240515025327"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bXlzcWw="},{"Type":"NodeCodeBlockCode","Data":"-- 查看触发器\nshow triggers;\n-- 删除触发器\ndrop trigger [数据库名.]触发器名;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240515025327-dsx6n97","Type":"NodeParagraph","Properties":{"id":"20240515025327-dsx6n97","updated":"20240515025339"},"Children":[{"Type":"NodeText","Data":"数据库名默认使用当前使用的数据库"}]}]}