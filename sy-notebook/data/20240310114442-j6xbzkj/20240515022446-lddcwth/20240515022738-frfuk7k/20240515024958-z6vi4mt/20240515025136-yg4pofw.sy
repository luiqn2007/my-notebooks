{"ID":"20240515025136-yg4pofw","Spec":"1","Type":"NodeDocument","Properties":{"icon":"mysql.ico","id":"20240515025136-yg4pofw","title":"游标","type":"doc","updated":"20240515025145"},"Children":[{"ID":"20240515025145-rsxy22x","Type":"NodeParagraph","Properties":{"id":"20240515025145-rsxy22x","updated":"20240515025145"},"Children":[{"Type":"NodeText","Data":"Curosr 游标是一种特殊的类型，用于查询结果集。游标内的数据可以被过程和函数循环处理."}]},{"ID":"20240515025145-cy7yker","Type":"NodeParagraph","Properties":{"id":"20240515025145-cy7yker","updated":"20240515025145"},"Children":[{"Type":"NodeText","Data":"游标类型为 cursor，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"且需要在其他类型变量之后声明"},{"Type":"NodeText","Data":"，从声明到使用结束的一般流程如下："}]},{"ID":"20240515025145-mzlbpan","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240515025145-mzlbpan","updated":"20240515025145"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bXlzcWw="},{"Type":"NodeCodeBlockCode","Data":"-- 0. 声明其他变量：变量1, 变量2, ...\ndeclare ...;\n-- 1. 声明游标\ndeclare 游标名称 cursor for 查询语句;\n-- 2. 声明 02000 开头的条件处理(或 not found)结束时关闭游标\ndeclare exit handler for not found close 游标名称;\n-- 3. 打开游标\nopen 游标名称;\n-- 4. 查询记录\nwhile true do\n  fetch 游标名称 into 变量1, 变量2, ...;\n  -- 4. 使用变量执行 SQL 语句\n-- 5. 关闭游标\nclose 游标名称;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}