{"ID":"20240515024624-y38dky2","Spec":"1","Type":"NodeDocument","Properties":{"icon":"mysql.ico","id":"20240515024624-y38dky2","title":"limit","type":"doc","updated":"20240515024641"},"Children":[{"ID":"20240515024624-6mobvpj","Type":"NodeParagraph","Properties":{"id":"20240515024624-6mobvpj","updated":"20240515024624"}},{"ID":"20240515024635-bk9rc2e","Type":"NodeParagraph","Properties":{"id":"20240515024635-bk9rc2e","updated":"20240515024635"},"Children":[{"Type":"NodeText","Data":"limit 返回数据第 n 到 n+k 项，当 n 很大时效率很低，MySQL 需要对前 n+k 项进行排序后返回第 n 到 n+k 项，其他数据丢弃，代价很大。"}]},{"ID":"20240515024635-tfo4vdp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240515024635-tfo4vdp","updated":"20240515024635"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bXlzcWw="},{"Type":"NodeCodeBlockCode","Data":"-- 通过分页查询，查询第 9000000 到 9000010 条数据\nselect * from tb limit 9000000, 10;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240515024635-5v787s4","Type":"NodeParagraph","Properties":{"id":"20240515024635-5v787s4","updated":"20240515024635"},"Children":[{"Type":"NodeText","Data":"使用覆盖查询+子查询/联合查询可以提高效率"}]},{"ID":"20240515024635-9kl2qlg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240515024635-9kl2qlg","updated":"20240515024635"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"bXlzcWw="},{"Type":"NodeCodeBlockCode","Data":"-- 1. 查找 id 第 9000000 - 9000010 条数据到表 a（id 有索引）\n-- 2. 将 tb 与 a 表联合查询，条件为 tb.id = a\n-- 3. 只返回 tb.* 的数据\nselect tb.* from tb, (select id from tb order by id limit 9000000, 10) a where tb.id = a;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240515024641-i7xx1kn","Type":"NodeParagraph","Properties":{"id":"20240515024641-i7xx1kn"}}]}