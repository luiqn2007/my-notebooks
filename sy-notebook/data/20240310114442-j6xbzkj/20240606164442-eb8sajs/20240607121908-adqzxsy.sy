{"ID":"20240607121908-adqzxsy","Spec":"1","Type":"NodeDocument","Properties":{"icon":"docker.png","id":"20240607121908-adqzxsy","title":"Docker Compose","type":"doc","updated":"20240610223007"},"Children":[{"ID":"20240607121908-z6focks","Type":"NodeParagraph","Properties":{"id":"20240607121908-z6focks","updated":"20240610165053"},"Children":[{"Type":"NodeText","Data":"Docker Compose 是 Docker 官方开发的负责对 Docker 容器集群快速编排的工具"}]},{"ID":"20240610165440-lotxtl1","Type":"NodeParagraph","Properties":{"id":"20240610165440-lotxtl1","updated":"20240610165555"},"Children":[{"Type":"NodeText","Data":"Docker Compose 可以允许使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose.yml"},{"Type":"NodeText","Data":"​ 文件定义一组相关联应用作为一个项目，通过配置文件管理 Docker 容器。"}]},{"ID":"20240610165628-igd1pqw","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240610165628-igd1pqw","updated":"20240610170444"},"Children":[{"ID":"20240610165629-f6bpss3","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240610165629-f6bpss3","updated":"20240610165629"},"Children":[{"ID":"20240610165629-smgdg3r","Type":"NodeParagraph","Properties":{"id":"20240610165629-smgdg3r","updated":"20240610165833"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240607121828-n4buv1l","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Dockerfile"},{"Type":"NodeText","Data":"​ 定制应用容器环境"}]}]},{"ID":"20240610165655-bqyx6qx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240610165655-bqyx6qx","updated":"20240610170444"},"Children":[{"ID":"20240610165655-zxqcoe6","Type":"NodeParagraph","Properties":{"id":"20240610165655-zxqcoe6","updated":"20240610170444"},"Children":[{"Type":"NodeText","Data":"使用 Compose "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240610170430-hg7i7w8","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"模板文件"},{"Type":"NodeText","Data":"定制应用程序"}]},{"ID":"20240610165857-j3sgjvx","Type":"NodeList","ListData":{},"Properties":{"id":"20240610165857-j3sgjvx","updated":"20240610170035"},"Children":[{"ID":"20240610165901-b1znkjm","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240610165901-b1znkjm","updated":"20240610170001"},"Children":[{"ID":"20240610165901-rgvls2e","Type":"NodeParagraph","Properties":{"id":"20240610165901-rgvls2e","updated":"20240610170001"},"Children":[{"Type":"NodeText","Data":"模板文件可以来自于本地或网络，以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".yml"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".yaml"},{"Type":"NodeText","Data":"​ 为扩展名"}]}]},{"ID":"20240610165940-ieqx5ab","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240610165940-ieqx5ab","updated":"20240610170035"},"Children":[{"ID":"20240610165940-m96pib3","Type":"NodeParagraph","Properties":{"id":"20240610165940-m96pib3","updated":"20240610170035"},"Children":[{"Type":"NodeText","Data":"模板文件默认读取当前目录中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose.yml"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose.yaml"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240610165742-x7zdnl2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240610165742-x7zdnl2"},"Children":[{"ID":"20240610165742-f1wjypr","Type":"NodeParagraph","Properties":{"id":"20240610165742-f1wjypr","updated":"20240610165808"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose up"},{"Type":"NodeText","Data":"​ 启动应用程序"}]}]}]},{"ID":"20240610170044-2pfwbz7","Type":"NodeParagraph","Properties":{"id":"20240610170044-2pfwbz7","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240610170413"},"Children":[{"Type":"NodeText","Data":"Windows 下，Docker Desktop 自动安装 Docker Compose，Linux 和 Mac 需要单独安装"}]},{"ID":"20240610170423-6180t75","Type":"NodeBlockquote","Properties":{"id":"20240610170423-6180t75","updated":"20240610223007"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240610222124-yq7obyn","Type":"NodeParagraph","Properties":{"id":"20240610222124-yq7obyn","updated":"20240610222203"},"Children":[{"Type":"NodeText","Data":"Docker Compose 常用"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240610222154-c9r1h45","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"指令"}]},{"ID":"20240610222140-mho09sq","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;","id":"20240610222140-mho09sq","updated":"20240610223007"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"指令"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose \u0026lt;command\u0026gt; --help"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查看某指令帮助"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose up -d \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"构建并启动名为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​ 的容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose exec \u0026lt;name\u0026gt; bash"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"登入 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​ 容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose down"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"停止 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose up"},{"Type":"NodeText","Data":"​ 启动的所有容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose ps"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"列出项目中所有容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose build \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"构建镜像"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose build --no-cache \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"构建镜像（不带缓存）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose top"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查看各个服务容器内运行的进程"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose logs -f \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查看 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​ 的实时日志"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose images"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"列出 Compose 文件包含的镜像"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose config"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"验证文件配置，输出错误信息"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose events --json \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"以 JSON 格式输出 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​ 容器的 Docker 日志"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose pause \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"暂停容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose unpause \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"恢复容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose stop \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"停止容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose rm \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"删除容器，必须先停止容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose restart \u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"重启容器"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker-compose run --no-deps --rm \u0026lt;name\u0026gt; \u0026lt;command\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;name\u0026gt;"},{"Type":"NodeText","Data":"​ 容器中不启动关联容器，执行 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;command\u0026gt;"},{"Type":"NodeText","Data":"​ 命令后删除容器"}]}]}]}]}]}