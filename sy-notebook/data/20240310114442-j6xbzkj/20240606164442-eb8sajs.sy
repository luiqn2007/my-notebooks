{"ID":"20240606164442-eb8sajs","Spec":"1","Type":"NodeDocument","Properties":{"icon":"docker.png","id":"20240606164442-eb8sajs","title":"Docker","type":"doc","updated":"20240610165135"},"Children":[{"ID":"20240606172609-vfbyct5","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 1181px; height: 484px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240606173602-efqu4bp","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","id":"20240606172609-vfbyct5","updated":"20240607001436"}},{"ID":"20240606164446-hfbm7gd","Type":"NodeParagraph","Properties":{"id":"20240606164446-hfbm7gd","updated":"20240606172132"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Docker"},{"Type":"NodeText","Data":"​ 是一种轻量级虚拟化技术。相比传统虚拟化技术或虚拟机来说，特点有："}]},{"ID":"20240606172132-148tf4j","Type":"NodeList","ListData":{},"Properties":{"id":"20240606172132-148tf4j","updated":"20240606172133"},"Children":[{"ID":"20240606172133-pigls79","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240606172133-pigls79","updated":"20240606172133"},"Children":[{"ID":"20240606172133-awkvxbw","Type":"NodeParagraph","Properties":{"id":"20240606172133-awkvxbw","updated":"20240606172221"},"Children":[{"Type":"NodeText","Data":"轻量，高效：由 Docker 引擎负责调度和隔离，不需要每个容器运行一个系统"}]}]},{"ID":"20240606172221-0on1552","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240606172221-0on1552"},"Children":[{"ID":"20240606172221-u9q3dxd","Type":"NodeParagraph","Properties":{"id":"20240606172221-u9q3dxd","updated":"20240606172356"},"Children":[{"Type":"NodeText","Data":"灵活，可维护，可扩展，易迁移：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dockerfile"},{"Type":"NodeText","Data":"​ 进行配置"}]}]},{"ID":"20240606172404-1cchdbj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240606172404-1cchdbj"},"Children":[{"ID":"20240606172404-ql3i6ix","Type":"NodeParagraph","Properties":{"id":"20240606172404-ql3i6ix","updated":"20240606172443"},"Children":[{"Type":"NodeText","Data":"权限提升：容器内用户可以获取宿主机权限"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"甚至 root 权限"}]}]},{"ID":"20240606172445-v0rwlve","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240606172445-v0rwlve"},"Children":[{"ID":"20240606172445-7ul19bs","Type":"NodeParagraph","Properties":{"id":"20240606172445-7ul19bs","updated":"20240606172534"},"Children":[{"Type":"NodeText","Data":"硬件不隔离："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"容器受到攻击易被扩散到主机"}]}]}]},{"ID":"20240607002059-ggsomwa","Type":"NodeParagraph","Properties":{"id":"20240607002059-ggsomwa","updated":"20240607003011"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Docker"},{"Type":"NodeText","Data":"​ 分为三部分："}]},{"ID":"20240607003011-q4firqc","Type":"NodeList","ListData":{},"Properties":{"id":"20240607003011-q4firqc","updated":"20240607003012"},"Children":[{"ID":"20240607003012-o7qwtf6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607003012-o7qwtf6","updated":"20240607003012"},"Children":[{"ID":"20240607003012-rpgyoq9","Type":"NodeParagraph","Properties":{"id":"20240607003012-rpgyoq9","updated":"20240607003502"},"Children":[{"Type":"NodeText","Data":"镜像：容器的模板，只读，可以包含一个完整的系统、服务器和依赖组件等"}]}]},{"ID":"20240607003404-x034qrl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607003404-x034qrl"},"Children":[{"ID":"20240607003404-a5qywsv","Type":"NodeParagraph","Properties":{"id":"20240607003404-a5qywsv","updated":"20240607003708"},"Children":[{"Type":"NodeText","Data":"容器：通过镜像创建的运行实例，是独立运行的一个或一组程序"}]}]},{"ID":"20240607003408-8vel9lr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607003408-8vel9lr"},"Children":[{"ID":"20240607003408-ft34is3","Type":"NodeParagraph","Properties":{"id":"20240607003408-ft34is3","updated":"20240607003739"},"Children":[{"Type":"NodeText","Data":"镜像仓库：集中存放镜像的地方，如 Docker Hub"}]}]}]},{"ID":"20240607003823-pdos9u5","Type":"NodeParagraph","Properties":{"id":"20240607003823-pdos9u5","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240607004525"},"Children":[{"Type":"NodeText","Data":"镜像是应用系统的静态存在形式，包括应用程序的文件、代码本身，依赖的其他组件\n容器是应用系统的动态存在形式，是程序运行时的状态"}]},{"ID":"20240607004553-mew98jo","Type":"NodeParagraph","Properties":{"id":"20240607004553-mew98jo","updated":"20240607004604"},"Children":[{"Type":"NodeText","Data":"容器系统本身分为三部分："}]},{"ID":"20240607005049-rt6eszn","Type":"NodeSuperBlock","Properties":{"id":"20240607005049-rt6eszn","updated":"20240607005020"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240607004604-dlaa7l7","Type":"NodeList","ListData":{},"Properties":{"id":"20240607004604-dlaa7l7","updated":"20240607005049"},"Children":[{"ID":"20240607004604-b3yo3th","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607004604-b3yo3th","updated":"20240607004604"},"Children":[{"ID":"20240607004604-ryxm1wo","Type":"NodeParagraph","Properties":{"id":"20240607004604-ryxm1wo","updated":"20240607004714"},"Children":[{"Type":"NodeText","Data":"容器规范，容器配置文件的格式。Open Container Initiative（OCI）发布了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"runtime spec"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"image format spec"},{"Type":"NodeText","Data":"​ 两个规范"}]}]},{"ID":"20240607004720-hjl4pr8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607004720-hjl4pr8","updated":"20240607005025"},"Children":[{"ID":"20240607004720-hyrsucj","Type":"NodeParagraph","Properties":{"id":"20240607004720-hyrsucj","updated":"20240607005025"},"Children":[{"Type":"NodeText","Data":"容器 runtime，程序真正运行的地方。"}]}]},{"ID":"20240607004834-jagbmv2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607004834-jagbmv2","updated":"20240607005046"},"Children":[{"ID":"20240607004834-0ucgbpp","Type":"NodeParagraph","Properties":{"id":"20240607004834-0ucgbpp","updated":"20240607005046"},"Children":[{"Type":"NodeText","Data":"容器管理工具，对内与 runtime 交互，对外与用户交互"}]}]}]},{"ID":"20240607004919-42cfbwp","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240607004919-42cfbwp","style":"width: 25%; flex: 0 0 auto;","updated":"20240607005020"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"容器类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"容器"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"容器管理工具"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Docker"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"runc"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Docker Engine"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"Linux"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"lxc"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"lxd"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"CoreOS"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"rkt"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"rkt cli"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240607005101-tjuvwkt","Type":"NodeParagraph","Properties":{"id":"20240607005101-tjuvwkt","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240607005342"},"Children":[{"Type":"NodeText","Data":"编排：orchestration，包括容器管理、调度、集群定义和服务发现等。容器通过容器编排引擎组成微服务应用，实现业务需求"}]},{"ID":"20240607005349-tiumv2k","Type":"NodeList","ListData":{},"Properties":{"id":"20240607005349-tiumv2k","updated":"20240610165135"},"Children":[{"ID":"20240607005351-9qq14s1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607005351-9qq14s1","updated":"20240610165130"},"Children":[{"ID":"20240607005351-tz0v06q","Type":"NodeParagraph","Properties":{"id":"20240607005351-tz0v06q","updated":"20240610165130"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240607121933-6qe0odm","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Docker Swarm"},{"Type":"NodeText","Data":"：Docker 容器编排引擎"}]}]},{"ID":"20240607005410-2frsudi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607005410-2frsudi","updated":"20240610165135"},"Children":[{"ID":"20240607005410-9yl6p1v","Type":"NodeParagraph","Properties":{"id":"20240607005410-9yl6p1v","updated":"20240610165135"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240607121958-4fsd1e5","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Kubernetes"},{"Type":"NodeText","Data":"：Google 开发的编排引擎，支持 Docker 和 CoreOS"}]}]},{"ID":"20240607005433-gttsoze","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607005433-gttsoze"},"Children":[{"ID":"20240607005433-r7dd02h","Type":"NodeParagraph","Properties":{"id":"20240607005433-r7dd02h","updated":"20240607005459"},"Children":[{"Type":"NodeText","Data":"Mesos：通用集群调度平台，与 Marathon 共同提供编排引擎功能"}]}]}]},{"ID":"20240607005500-yyakm30","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240607005500-yyakm30","updated":"20240607121728"},"Children":[{"Type":"NodeText","Data":"安装"}]},{"ID":"20240607005634-7ld9n64","Type":"NodeList","ListData":{},"Properties":{"id":"20240607005634-7ld9n64","updated":"20240607005636"},"Children":[{"ID":"20240607005636-g4dff6e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607005636-g4dff6e","updated":"20240607005636"},"Children":[{"ID":"20240607005636-kflouy0","Type":"NodeParagraph","Properties":{"id":"20240607005636-kflouy0","updated":"20240607005716"},"Children":[{"Type":"NodeText","Data":"Windows：先安装 WSL2 并将其设为默认版本"}]}]},{"ID":"20240607005642-6z2rxgq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607005642-6z2rxgq"},"Children":[{"ID":"20240607005642-ysikp02","Type":"NodeParagraph","Properties":{"id":"20240607005642-ysikp02","updated":"20240607005841"},"Children":[{"Type":"NodeText","Data":"Linux：需要添加 Docker 的源"}]}]}]},{"ID":"20240607005854-7ovdzrr","Type":"NodeParagraph","Properties":{"id":"20240607005854-7ovdzrr","updated":"20240607005918"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"docker run hello-world"},{"Type":"NodeText","Data":"​ 可以检查是否正常安装"}]},{"ID":"20240607103037-4g4zdgf","Type":"NodeParagraph","Properties":{"id":"20240607103037-4g4zdgf","updated":"20240607103037"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240607103037-3sbvvtk.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240607120644-9tsop0k","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240607120644-9tsop0k","updated":"20240607121728"},"Children":[{"Type":"NodeText","Data":"引擎"}]},{"ID":"20240607120652-plyhfig","Type":"NodeParagraph","Properties":{"id":"20240607120652-plyhfig","updated":"20240607120729"},"Children":[{"Type":"NodeText","Data":"旧版本 Docker 由 LXC、Docker daemon 组成。"}]},{"ID":"20240607121711-uao2d88","Type":"NodeSuperBlock","Properties":{"id":"20240607121711-uao2d88","updated":"20240607121717"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240607121716-nhcex3h","Type":"NodeSuperBlock","Properties":{"id":"20240607121716-nhcex3h","updated":"20240607121717"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240607120729-np72rjd","Type":"NodeParagraph","Properties":{"id":"20240607120729-np72rjd","updated":"20240607121717"},"Children":[{"Type":"NodeText","Data":"LXC 基于 Linux，后被平台无关的 Libcontainer 取代。daemon 也被拆解。现阶段 Docker 由 Docker client、daemon、containerd、runc 组成。"}]},{"ID":"20240607121343-3gshd2k","Type":"NodeList","ListData":{},"Properties":{"id":"20240607121343-3gshd2k","updated":"20240607121717"},"Children":[{"ID":"20240607121346-24e5prn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607121346-24e5prn","updated":"20240607121659"},"Children":[{"ID":"20240607121346-hrqm7gj","Type":"NodeParagraph","Properties":{"id":"20240607121346-hrqm7gj","updated":"20240607121554"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"runc"},{"Type":"NodeText","Data":"​：OCI 容器运行时标准的参考实现，实质是一个轻量级、针对 Libcontainer 的命令行交互工具，用于创建容器"}]}]},{"ID":"20240607121550-k98t4qq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240607121550-k98t4qq","updated":"20240607121649"},"Children":[{"ID":"20240607121550-shxvzhe","Type":"NodeParagraph","Properties":{"id":"20240607121550-shxvzhe","updated":"20240607121649"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"containerd"},{"Type":"NodeText","Data":"​：管理容器生命周期，管理镜像等"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240607121052-tsvo6ic","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 271px; height: 350px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240607121330-faskfiq","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","id":"20240607121052-tsvo6ic","updated":"20240607121711"}},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240607121728-2215v86","Type":"NodeParagraph","Properties":{"id":"20240607121728-2215v86"}}]}