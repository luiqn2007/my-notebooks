{"ID":"20240611202848-igtrn3w","Spec":"1","Type":"NodeDocument","Properties":{"icon":"linux.png","id":"20240611202848-igtrn3w","title":"Linux Cgroups","type":"doc","updated":"20240611211450"},"Children":[{"ID":"20240611202848-raocaxr","Type":"NodeParagraph","Properties":{"id":"20240611202848-raocaxr","updated":"20240611203252"},"Children":[{"Type":"NodeText","Data":"Linux Cgroups 提供对一组进程及子进程的资源限制、限制和统计，包括 CPU、内存、存储、网络等，主要由 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"subsystem"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 组成"}]},{"ID":"20240611203253-bz10kvr","Type":"NodeList","ListData":{},"Properties":{"id":"20240611203253-bz10kvr","updated":"20240611203254"},"Children":[{"ID":"20240611203254-ugi2t5c","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611203254-ugi2t5c","updated":"20240611203254"},"Children":[{"ID":"20240611203254-rk0xts5","Type":"NodeParagraph","Properties":{"id":"20240611203254-rk0xts5","updated":"20240611203313"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​：一种进程分组管理机制。一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 包含一组进程，并在这个进程组里增加 Linux subsystem 参数配置"}]}]},{"ID":"20240611203314-idm1s8j","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611203314-idm1s8j"},"Children":[{"ID":"20240611203314-7k8llob","Type":"NodeParagraph","Properties":{"id":"20240611203314-7k8llob","updated":"20240611203405"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"subsystem"},{"Type":"NodeText","Data":"​：一组资源控制模块，关联到一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 上，对该进程组的进程做限制和控制"}]},{"ID":"20240611203454-ox4e5x1","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|width: 668px;","id":"20240611203454-ox4e5x1","updated":"20240611204337"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"subsystem 模块"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"功能"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"blkio"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制对块设备（硬盘等）输入输出的访问"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpu"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 内进程的 CPU 调度策略"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpuacct"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"统计 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程的 CPU 占用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpuset"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程的 CPU 和"},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"仅限 NUMA 架构","TextMarkTextContent":"内存"},{"Type":"NodeText","Data":"占用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"devices"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程对设备的访问"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"freezer"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程的挂起和恢复"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"memory"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程的内存占用"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"net_cls"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"分析 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程产生的网络包，分类以便 "},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"traffic controller","TextMarkTextContent":"tc"},{"Type":"NodeText","Data":" 限流或监控"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"net_prio"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"控制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中进程产生网络包的优先级"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ns"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"使 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 的进程在新 Namespace 中 fork 新进程时，创建出一个新 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​，该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 包含新 Namespace 进程"}]}]}]},{"ID":"20240611203700-qhypycm","Type":"NodeParagraph","Properties":{"id":"20240611203700-qhypycm","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240611203738"},"Children":[{"Type":"NodeText","Data":"这里只是一部分，还有 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"perf_event"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"pids"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"rdma"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"misc"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 等"}]},{"ID":"20240611204352-ce896wm","Type":"NodeParagraph","Properties":{"id":"20240611204352-ce896wm","updated":"20240611204414"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"lssubsys -a"},{"Type":"NodeText","Data":"​ 可以查看系统支持的模块"}]},{"ID":"20240611204414-9vl7eu0","Type":"NodeParagraph","Properties":{"id":"20240611204414-9vl7eu0","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240611204445"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"lssubsys"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 包含在 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"cgroup-tools"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 软件包中"}]}]},{"ID":"20240611203319-6tryrpu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611203319-6tryrpu"},"Children":[{"ID":"20240611203319-l1g4xsp","Type":"NodeParagraph","Properties":{"id":"20240611203319-l1g4xsp","updated":"20240611204637"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​：把一组 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 串成树状结构，实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 的继承，该树状结构即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​。"}]}]}]},{"ID":"20240611204656-c00tcox","Type":"NodeParagraph","Properties":{"id":"20240611204656-c00tcox","updated":"20240611204744"},"Children":[{"Type":"NodeText","Data":"Cgroups 通过三个组件的互相协作实现的"}]},{"ID":"20240611204744-s39xmfk","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240611204744-s39xmfk","updated":"20240611210301"},"Children":[{"ID":"20240611204745-g4mjryo","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240611204745-g4mjryo","updated":"20240611210301"},"Children":[{"ID":"20240611204745-qaq5f7b","Type":"NodeParagraph","Properties":{"id":"20240611204745-qaq5f7b","updated":"20240611210301"},"Children":[{"Type":"NodeText","Data":"系统创建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​（同时自动创建一个根 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 节点），系统中所有进程加入该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 根节点"}]}]},{"ID":"20240611204833-xyrfvyd","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240611204833-xyrfvyd"},"Children":[{"ID":"20240611204833-4au7m3s","Type":"NodeParagraph","Properties":{"id":"20240611204833-4au7m3s","updated":"20240611204902"},"Children":[{"Type":"NodeText","Data":"一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"subsystem"},{"Type":"NodeText","Data":"​ 只能附加到一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 上，一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 可以附加多个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"subsystem"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240611204907-vt42j0g","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240611204907-vt42j0g"},"Children":[{"ID":"20240611204907-8tnvpzv","Type":"NodeParagraph","Properties":{"id":"20240611204907-8tnvpzv","updated":"20240611204932"},"Children":[{"Type":"NodeText","Data":"一个进程可以属于多个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​，但每个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 必须在不同 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 中"}]}]},{"ID":"20240611204937-5vllcsx","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240611204937-5vllcsx","updated":"20240611205022"},"Children":[{"ID":"20240611204937-rb0b4od","Type":"NodeParagraph","Properties":{"id":"20240611204937-rb0b4od","updated":"20240611205022"},"Children":[{"Type":"NodeText","Data":"一个进程 fork 出新进程时，子进程属于父进程的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​，也可以移动到其他 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中"}]}]}]},{"ID":"20240611203110-msmib0a","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240611203110-msmib0a","updated":"20240611211450"},"Children":[{"Type":"NodeText","Data":"Kernal 接口使用"}]},{"ID":"20240611205050-ebfhsbm","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240611205050-ebfhsbm","updated":"20240611211450"},"Children":[{"ID":"20240611205054-7vf49mj","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240611205054-7vf49mj","updated":"20240611205054"},"Children":[{"ID":"20240611205054-9485ctx","Type":"NodeParagraph","Properties":{"id":"20240611205054-9485ctx","updated":"20240611205155"},"Children":[{"Type":"NodeText","Data":"创建并挂载一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240611205331-dtn7pv8","Type":"NodeParagraph","Properties":{"id":"20240611205331-dtn7pv8","updated":"20240611205429"},"Children":[{"Type":"NodeText","Data":"创建一个目录（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup-test"},{"Type":"NodeText","Data":"​）作为挂载点，挂载到 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 作为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240611205159-p1s61bl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240611205159-p1s61bl","updated":"20240611205327"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"mkdir cgroup-test\nsudo mount -t cgroup -o none,name=cgroup-test cgroup-test ./cgroup-test\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240611205431-4p2a6op","Type":"NodeParagraph","Properties":{"id":"20240611205431-4p2a6op","updated":"20240611205542"},"Children":[{"Type":"NodeText","Data":"挂载后，该目录下自动创建的文件即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 的配置文件"}]},{"ID":"20240611205546-xyc10pb","Type":"NodeParagraph","Properties":{"id":"20240611205546-xyc10pb","updated":"20240611205546"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240611205546-ebg30oe.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240611205548-fp9jt15","Type":"NodeList","ListData":{},"Properties":{"id":"20240611205548-fp9jt15","updated":"20240611205551"},"Children":[{"ID":"20240611205551-fhs6kgj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611205551-fhs6kgj","updated":"20240611205551"},"Children":[{"ID":"20240611205551-1vhu45y","Type":"NodeParagraph","Properties":{"id":"20240611205551-1vhu45y","updated":"20240611205714"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup.clone_children"},{"Type":"NodeText","Data":"​：默认为 0。若该文件值为 1，子 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 继承父 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cpuset"},{"Type":"NodeText","Data":"​ 配置"}]}]},{"ID":"20240611205715-oi86k9f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611205715-oi86k9f"},"Children":[{"ID":"20240611205715-yiad41l","Type":"NodeParagraph","Properties":{"id":"20240611205715-yiad41l","updated":"20240611205858"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup.procs"},{"Type":"NodeText","Data":"​：树中当前节点 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 的进程组 ID，根节点则为系统中进程组的 ID"}]}]},{"ID":"20240611205737-58efbis","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611205737-58efbis"},"Children":[{"ID":"20240611205737-53o9sbn","Type":"NodeParagraph","Properties":{"id":"20240611205737-53o9sbn","updated":"20240611210124"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"notify_on_release"},{"Type":"NodeText","Data":"​：标记该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroup"},{"Type":"NodeText","Data":"​ 最后一个进程退出时是否执行了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"release_agent"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240611205744-16vozns","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611205744-16vozns"},"Children":[{"ID":"20240611205744-zadjv4a","Type":"NodeParagraph","Properties":{"id":"20240611205744-zadjv4a","updated":"20240611210150"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"release_agent"},{"Type":"NodeText","Data":"​：通常用于进程退出后自动清理不再需要的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240611205752-kcuqnes","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240611205752-kcuqnes"},"Children":[{"ID":"20240611205752-dn9qzv5","Type":"NodeParagraph","Properties":{"id":"20240611205752-dn9qzv5","updated":"20240611210235"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"tasks"},{"Type":"NodeText","Data":"​：该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 下的进程 ID，可用于将进程加入该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240611205156-ab5jc9p","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240611205156-ab5jc9p"},"Children":[{"ID":"20240611205156-gz2tx70","Type":"NodeParagraph","Properties":{"id":"20240611205156-gz2tx70","updated":"20240611210329"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hierarchy"},{"Type":"NodeText","Data":"​ 的根节点扩展出两个子 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 节点"}]},{"ID":"20240611210507-t9gthi8","Type":"NodeParagraph","Properties":{"id":"20240611210507-t9gthi8","updated":"20240611210524"},"Children":[{"Type":"NodeText","Data":"直接创建目录即可，系统自动创建对应配置文件"}]},{"ID":"20240611210437-jb74336","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240611210437-jb74336","updated":"20240611210502"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"cd cgroup-test/\nsudo mkdir cgroup-1\nsudo mkdir cgroup-2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240611210503-bvxrsw1","Type":"NodeParagraph","Properties":{"id":"20240611210503-bvxrsw1","updated":"20240611210530"},"Children":[{"Type":"NodeText","Data":"可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"tree"},{"Type":"NodeText","Data":"​ 查看"}]},{"ID":"20240611210545-bf5f6wu","Type":"NodeParagraph","Properties":{"id":"20240611210545-bf5f6wu","updated":"20240611210545"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240611210545-cogusvy.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240611210549-zy8e7a4","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240611210549-zy8e7a4"},"Children":[{"ID":"20240611210549-ktb8lsr","Type":"NodeParagraph","Properties":{"id":"20240611210549-ktb8lsr","updated":"20240611210925"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 中移动进程。系统默认进程在根 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 上，只需要将进程 ID 写入对应 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"tasks"},{"Type":"NodeText","Data":"​ 上即可。"}]},{"ID":"20240611210929-bf1diau","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240611210929-bf1diau","updated":"20240611211027"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"cd cgroup-1\n# 将当前终端进程写入 cgroup-1 的 tasks 中\nsudo sh -c \"echo $$ \u003e\u003e tasks\"\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240611211029-4bjtsmi","Type":"NodeParagraph","Properties":{"id":"20240611211029-4bjtsmi","updated":"20240611211103"},"Children":[{"Type":"NodeText","Data":"可以通过查看 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/proc/\u0026lt;pid\u0026gt;/cgroup"},{"Type":"NodeText","Data":"​ 确认"}]},{"ID":"20240611211146-vsn0zvw","Type":"NodeParagraph","Properties":{"id":"20240611211146-vsn0zvw","updated":"20240611211146"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240611211146-epyb2r0.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240611211150-utifqll","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240611211150-utifqll","updated":"20240611211450"},"Children":[{"ID":"20240611211150-j5zzw01","Type":"NodeParagraph","Properties":{"id":"20240611211150-j5zzw01","updated":"20240611211209"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"subsystem"},{"Type":"NodeText","Data":"​ 限制 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cgroups"},{"Type":"NodeText","Data":"​ 资源"}]},{"ID":"20240611211209-3adhsc9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240611211209-3adhsc9","updated":"20240611211450"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"sudo sh -c \"echo \"100m\" \u003e memory.limit_in_bytes\"\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240611205351-qo6mhl4","Type":"NodeParagraph","Properties":{"id":"20240611205351-qo6mhl4"}}]}