{"ID":"20240312205154-rbgo8og","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f630","id":"20240312205154-rbgo8og","title":"Android 字节码","type":"doc","updated":"20240322121311"},"Children":[{"ID":"20240322015303-bt3tnml","Type":"NodeParagraph","Properties":{"id":"20240322015303-bt3tnml","updated":"20240322015353"},"Children":[{"Type":"NodeText","Data":"Android 使用 dex 文件字节码，与 JVM 的 class 字节码有所不同，适合基于寄存器的虚拟机。"}]},{"ID":"20240322015546-ct192yp","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 1293px; height: 116px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240322015804-zh0epvj","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","id":"20240322015546-ct192yp","updated":"20240322015546"}},{"ID":"20240322015404-8rxh7ip","Type":"NodeParagraph","Properties":{"id":"20240322015404-8rxh7ip","updated":"20240322015834"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dx"},{"Type":"NodeText","Data":"​ 工具可以将 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".class"},{"Type":"NodeText","Data":"​ 文件编译为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".dex"},{"Type":"NodeText","Data":"​ 文件。与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".class"},{"Type":"NodeText","Data":"​ 文件不同，Android 将所有源代码文件都编译进一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dex"},{"Type":"NodeText","Data":"​ 文件中，且默认使用小端字节序存储。"}]},{"ID":"20240322015714-58gft4d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322015714-58gft4d","updated":"20240322102344"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct dex {\n    header      header_items;      // 文件头\n    string_ids  string_id_item[];  // 字符串索引\n    type_ids    type_id_item[];    // 类型索引\n    proto_ids   proto_id_item[];   // 方法原型索引\n    field_ids   field_id_item[];   // 字段索引\n    method_ids  method_id_item[];  // 方法索引\n    class_Defs  class_def_item[];  // 类定义\n    data        ubyte[];           // 数据区\n    link_data   ubyte[];           // 链接数据区\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322020341-fackilb","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322020341-fackilb","updated":"20240322121208"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"header"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322073540-38icvrv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322073540-38icvrv","updated":"20240322121208"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct header {\n    ubyte magic[8];       // 魔数\n    int   checksum;       // 校验和\n    ubyte signature[20];  // 签名\n    uint  file_size;      // 文件大小\n    uint  header_size;    // 文件头大小\n    uint  endian_tag;     // 大小端字节序\n    uint  link_size;\n    uint  link_off;\n    uint  map_off;\n    uint  string_ids_size;\n    uint  string_ids_off;\n    uint  type_ids_size;\n    uint  type_ids_off;\n    uint  proto_ids_size;\n    uint  proto_ids_off;\n    uint  field_ids_size;\n    uint  field_ids_off;\n    uint  method_ids_size;\n    uint  method_ids_off;\n    uint  class_defs_size;\n    uint  class_defs_off;\n    uint  data_size;\n    uint  data_off;\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322074153-xm2xnyp","Type":"NodeList","ListData":{},"Properties":{"id":"20240322074153-xm2xnyp","updated":"20240322121208"},"Children":[{"ID":"20240322074201-nnmheod","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074201-nnmheod","updated":"20240322111223"},"Children":[{"ID":"20240322074201-zd7nxn8","Type":"NodeParagraph","Properties":{"id":"20240322074201-zd7nxn8","updated":"20240322111223"},"Children":[{"Type":"NodeText","Data":"魔数："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"magic"},{"Type":"NodeText","Data":"​，开头 8 个字节。前 4 个字节是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dex\\n"},{"Type":"NodeText","Data":"​，后四个字节是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dex"},{"Type":"NodeText","Data":"​ 版本号（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"035\\0"},{"Type":"NodeText","Data":"​）"}]}]},{"ID":"20240322074307-rcq0brt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074307-rcq0brt","updated":"20240322111225"},"Children":[{"ID":"20240322074307-x9hj8c8","Type":"NodeParagraph","Properties":{"id":"20240322074307-x9hj8c8","updated":"20240322111225"},"Children":[{"Type":"NodeText","Data":"校验和："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"checksum"},{"Type":"NodeText","Data":"​，4个字节，使用 Adler-32 算法计算的校验和"}]}]},{"ID":"20240322074341-kuwsqpn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074341-kuwsqpn","updated":"20240322111227"},"Children":[{"ID":"20240322074341-jrsdlfp","Type":"NodeParagraph","Properties":{"id":"20240322074341-jrsdlfp","updated":"20240322111227"},"Children":[{"Type":"NodeText","Data":"签名："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"signature"},{"Type":"NodeText","Data":"​，20 个字节，dex 文件签名，由 SHA-1 算法生成（不包括前 32 个字节），判断 dex 是否被修改和校验合法性"}]}]},{"ID":"20240322074457-6o777lt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074457-6o777lt","updated":"20240322111230"},"Children":[{"ID":"20240322074457-ltocy7i","Type":"NodeParagraph","Properties":{"id":"20240322074457-ltocy7i","updated":"20240322111230"},"Children":[{"Type":"NodeText","Data":"文件大小："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"file_size"},{"Type":"NodeText","Data":"​，4个字节，dex 文件长度（低位在前，高位在后）"}]}]},{"ID":"20240322074541-mb4u2qg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074541-mb4u2qg","updated":"20240322111232"},"Children":[{"ID":"20240322074541-ny895yi","Type":"NodeParagraph","Properties":{"id":"20240322074541-ny895yi","updated":"20240322111232"},"Children":[{"Type":"NodeText","Data":"文件头大小："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"header_size"},{"Type":"NodeText","Data":"​，4 字节，header 区长度，一般为 0x70（112）"}]}]},{"ID":"20240322074607-u0h9aqp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322074607-u0h9aqp","updated":"20240322111235"},"Children":[{"ID":"20240322074607-pk3qerj","Type":"NodeParagraph","Properties":{"id":"20240322074607-pk3qerj","updated":"20240322111235"},"Children":[{"Type":"NodeText","Data":"大小端字节序："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"endian_tag"},{"Type":"NodeText","Data":"​，默认 0x12345678，表示小端字节序；若为 0x87654321 表示大端字节序"}]}]},{"ID":"20240322121053-z6iy0nz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322121053-z6iy0nz","updated":"20240322121056"},"Children":[{"ID":"20240322121053-qalvcxn","Type":"NodeParagraph","Properties":{"id":"20240322121053-qalvcxn","updated":"20240322121056"},"Children":[{"Type":"NodeText","Data":"其他字段：string，type，field，method，class，data 区域偏移量"}]}]}]},{"ID":"20240322121120-tkrshhp","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322121120-tkrshhp","updated":"20240322121123"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string_ids"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322074943-7cbf8dr","Type":"NodeParagraph","Properties":{"id":"20240322074943-7cbf8dr","updated":"20240322121149"},"Children":[{"Type":"NodeText","Data":"根据 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string_ids_offset"},{"Type":"NodeText","Data":"​ 找到字符串常量池位置，第一个字节是字符串长度，第二个是字节是指字符串长度类型，0x3C 指 "},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"Little Endian Based 128，小端字节序、变长的编码格式，有利于减小 dex 文件体积","TextMarkTextContent":"LEB128"},{"Type":"NodeText","Data":"，字符串最后以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"00"},{"Type":"NodeText","Data":"​ 结尾"}]},{"ID":"20240322111619-tpneif1","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322111619-tpneif1","updated":"20240322121159"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"type_ids"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121151-lmu9r6k","Type":"NodeParagraph","Properties":{"id":"20240322121151-lmu9r6k","updated":"20240322121159"},"Children":[{"Type":"NodeText","Data":"存储 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dex"},{"Type":"NodeText","Data":"​ 中所有类型相关信息，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"type_ids_offset"},{"Type":"NodeText","Data":"​ 每个指向地址后每个值代表一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string_ids"},{"Type":"NodeText","Data":"​ 数组下标"}]},{"ID":"20240322111853-v9kwzbl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322111853-v9kwzbl","updated":"20240322121159"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct type_id_item {\n    uint descriptor_idx;\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322111829-y9upriu","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322111829-y9upriu","updated":"20240322121222"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"proto_ids"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121219-pre5x7v","Type":"NodeParagraph","Properties":{"id":"20240322121219-pre5x7v","updated":"20240322121222"},"Children":[{"Type":"NodeText","Data":"存储 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dex"},{"Type":"NodeText","Data":"​ 中所有方法的原型列表。"}]},{"ID":"20240322113635-gthz06d","Type":"NodeSuperBlock","Properties":{"id":"20240322113635-gthz06d","updated":"20240322121222"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240322112020-8pao1ce","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322112020-8pao1ce","updated":"20240322112254"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct proto_id {\n    uint shorty_idx;       // 方法原型简写\n    uint return_type_idx;  // 返回值类型描述符\n    uint parameters_off;   // 方法参数类型描述符偏移量\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322112321-41e8dhd","Type":"NodeBlockquote","Properties":{"id":"20240322112321-41e8dhd","updated":"20240322112323"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240322112329-y4myaoo","Type":"NodeParagraph","Properties":{"id":"20240322112329-y4myaoo","updated":"20240322112444"},"Children":[{"Type":"NodeText","Data":"方法类型简写：返回值+形参列表，无括号，引用类型使用 L，例如"}]},{"ID":"20240322112356-l2mr0ks","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240322112356-l2mr0ks","updated":"20240322112545"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"简写"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"描述符"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"void foo()"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"V"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"()V"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"String foo()"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"L"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"()Ljava/lang/String;"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"String foo(int x, String y)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"LIL"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"(ILjava/lang/String;)Ljava/lang/String;"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"void foo(int x, String y)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"VIL"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"(ILjava/lang/String;)V"}]}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240322112014-bpkk6a6","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322112014-bpkk6a6","updated":"20240322121230"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"field_ids"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121229-kif6wjc","Type":"NodeParagraph","Properties":{"id":"20240322121229-kif6wjc","updated":"20240322121230"},"Children":[{"Type":"NodeText","Data":"存储所有字段信息的数组"}]},{"ID":"20240322112813-apvd9b8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322112813-apvd9b8","updated":"20240322121230"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct field_ids {\n    ushort class_idx;  // 所在类名，指向 type_ids 的索引\n    ushort type_idx;   // 变量类型，指向 types_ids 的索引\n    uint   name_idx;   // 变量名，指向 string_ids 的索引\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322112648-gmn03sl","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322112648-gmn03sl","updated":"20240322121239"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"method_ids"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121237-3qv7ltl","Type":"NodeParagraph","Properties":{"id":"20240322121237-3qv7ltl","updated":"20240322121239"},"Children":[{"Type":"NodeText","Data":"存储所有方法信息的数组"}]},{"ID":"20240322113152-je7lbyn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322113152-je7lbyn","updated":"20240322121239"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct method_ids {\n    ushort class_idx;  // 所在类名，指向 type_ids 的索引\n    ushort proto_idx;  // 方法原型，指向 proto_ids 的索引\n    uint   name_idx;   // 变量名，指向 string_ids 的索引\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322112656-7pk2ct4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322112656-7pk2ct4","updated":"20240322121247"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class_defs"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121245-0ingt19","Type":"NodeParagraph","Properties":{"id":"20240322121245-0ingt19","updated":"20240322121247"},"Children":[{"Type":"NodeText","Data":"存储类信息的数组"}]},{"ID":"20240322114742-sn1bpl8","Type":"NodeSuperBlock","Properties":{"id":"20240322114742-sn1bpl8","updated":"20240322121247"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240322113701-qv1r9lu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322113701-qv1r9lu","updated":"20240322114300"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct class_def_item {\n    uint class_idx;         // class 类型，指向 type_ids 的索引\n    uint access_flags;      // 类访问修饰符\n    uint superclass_idx;    // 基类类型，指向 type_ids 的索引\n    uint interfaces_off;    // 实现接口的数据区域的偏移量 or 0\n    uint source_file_idx;   // 源文件信息（源文件名），指向 string_ids 的索引\n    uint annotations_off;   // 注解数据区域的偏移量 or 0\n    uint class_data_off;    // 类详细信息，class_data_item，指向 data 区域的偏移量\n    uint static_values_off; // 静态变量初始值偏移量，指向 data 区域\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322114627-42uzx8c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322114627-42uzx8c","updated":"20240322114738"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct class_data_item {\n    uleb128 static_field_size;    // 静态字段数量\n    uleb128 instance_fields_size; // 非静态成员变量数量\n    uleb128 direct_method_size;   // 非虚方法数量\n    uleb128 virtual_method_size;  // 虚方法数量\n    encoded_field[static_field_size]    static_fields;\n    encoded_field[instance_field_size]  instance_fields;\n    encoded_method[direct_method_size]  direct_methods;\n    encoded_method[virtual_method_size] virtual_methods;\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240322114746-k9ncq4g","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322114746-k9ncq4g","updated":"20240322121257"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct encoded_method {\n    uleb128 method_idx_diff; // 指向 method_ids 列表的索引\n    uleb128 access_flags;    // 访问修饰符\n    uleb128 code_off;        // 指向 data 区偏移量，code_item 类型，代码细节\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322112705-4l1wf1s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322112705-4l1wf1s","updated":"20240322121257"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"struct code_item {\n    ushort                     registers_size;  // 所需寄存器个数\n    ushort                     ins_size;        // 入参占用空间大小\n    ushort                     outs_size;       // 调用其它参数传参所需空间大小\n    ushort                     tries_size;      // try 块数量\n    uint                       debug_info_off;  // 调试信息偏移量，记录行号、局部变量等信息\n    uint                       insns_size;      // 方法指令码数组长度\n    ushort[insns_size]         insns;           // 方法指令码数组\n    ushort                     padding;         // 指令对齐，可选\n    try_item[tries_size]       tries;           // try 块信息\n    encoded_catch_handler_list handlers;        // 各个 handler 块信息\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322115631-xyf7mzm","Type":"NodeParagraph","Properties":{"id":"20240322115631-xyf7mzm","updated":"20240322121247"},"Children":[{"Type":"NodeTextMark","TextMarkType":"text","TextMarkTextContent":"😰"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240322120737-ibmsvsn","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"dex 字节码与 class 字节码有所不同"},{"Type":"NodeText","Data":"。以下面的代码为例，其中 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v0"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v1"},{"Type":"NodeText","Data":"​ 是寄存器，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v1"},{"Type":"NodeText","Data":"​ 寄存器存储入参："}]},{"ID":"20240322120244-q2j4a57","Type":"NodeSuperBlock","Properties":{"id":"20240322120244-q2j4a57","updated":"20240322121247"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240322120239-n51wfhq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322120239-n51wfhq","updated":"20240322120239"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"static boolean isEmpty(String s) {\n    return s == null || s.length() == 0;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322115839-03gspnw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322115839-03gspnw","updated":"20240322120549"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"0000 if-eqz v1, 0008                                   // if (v1==null) goto 0008\n0002 invoke-virtual {v1}, Ljava/lang/String;.length()I // v1.length();\n0005 move-result v0                                    // v0 = v1.length()\n0006 if-nez v0, 000a                                   // if (v0!=0) goto 000a\n0008 const/4 v0, #int 1                                // v0 = 1\n0009 return v0                                         // return v0\n000a const/4 v0, #int 0                                // v0 = 0\n000b goto 009                                          // goto 0009\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240322114809-8q6370m","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322114809-8q6370m","updated":"20240322121306"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"data"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121302-7vqzinz","Type":"NodeParagraph","Properties":{"id":"20240322121302-7vqzinz","updated":"20240322121306"},"Children":[{"Type":"NodeText","Data":"数据区，存储 dex 文件大部分重要数据内容"}]},{"ID":"20240322120655-o5wscu3","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240322120655-o5wscu3","updated":"20240322121311"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"link_data"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240322121309-t52st4k","Type":"NodeParagraph","Properties":{"id":"20240322121309-t52st4k","updated":"20240322121311"},"Children":[{"Type":"NodeText","Data":"静态链接文件中使用的数据"}]},{"ID":"20240322102306-cr4ypml","Type":"NodeParagraph","Properties":{"id":"20240322102306-cr4ypml","updated":"20240322121311"}}]}