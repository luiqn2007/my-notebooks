{"ID":"20240322120737-ibmsvsn","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f630","id":"20240322120737-ibmsvsn","title":"Android 字节码指令","type":"doc","updated":"20240322123139"},"Children":[{"ID":"20240322120737-x6gpoko","Type":"NodeParagraph","Properties":{"id":"20240322120737-x6gpoko","updated":"20240322121619"},"Children":[{"Type":"NodeText","Data":"Android 设备多使用 ARM 结构，采用基于寄存器的虚拟机。Android 的寄存器最多可以有 64k 个。"}]},{"ID":"20240322121447-64zze8i","Type":"NodeList","ListData":{},"Properties":{"id":"20240322121447-64zze8i","updated":"20240322121545"},"Children":[{"ID":"20240322121545-nlgy9kg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322121545-nlgy9kg","updated":"20240322121545"},"Children":[{"ID":"20240322121545-dcr8usf","Type":"NodeParagraph","Properties":{"id":"20240322121545-dcr8usf","updated":"20240322121545"},"Children":[{"Type":"NodeText","Data":"优点：通过寄存器直接访问数据，速度更快"}]}]},{"ID":"20240322121551-r14ruvq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322121551-r14ruvq"},"Children":[{"ID":"20240322121551-krzax7y","Type":"NodeParagraph","Properties":{"id":"20240322121551-krzax7y","updated":"20240322121552"},"Children":[{"Type":"NodeText","Data":"缺点：指令必须指定源和目标，指令会更大"}]}]}]},{"ID":"20240322122216-6urlfe0","Type":"NodeSuperBlock","Properties":{"id":"20240322122216-6urlfe0","updated":"20240322122216"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240322121641-qnn7qmo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322121641-qnn7qmo","updated":"20240322122216"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public int foo(int x, int y) {\n    int z = x + y;\n    return 2 * z;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322121706-kze8ij2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322121706-kze8ij2","updated":"20240322122216"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public int foo(int, int):\n  iload_1\n  iload_2\n  iadd\n  istore_3\n  iconst_2\n  iload_3\n  imul\n  ireturn\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240322122308-4tam914","Type":"NodeSuperBlock","Properties":{"id":"20240322122308-4tam914","updated":"20240322122309"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240322121808-mqipnp7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240322121808-mqipnp7","updated":"20240322122309"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"foo:(II)I\n  add-int v0, v2, v3\n  mul-int/lit8 v0, v0, #int 2\n  return v0\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240322122300-6bd8d1x","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240322122906-nn4pfgz","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","data-assets":"assets/widget-excalidraw/0-20240322122906-nn4pfgz","id":"20240322122300-6bd8d1x","options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","updated":"20240322122309"}},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240322121944-mwysq11","Type":"NodeParagraph","Properties":{"id":"20240322121944-mwysq11","updated":"20240322122157"},"Children":[{"Type":"NodeText","Data":"Android 字节码指令风格偏向 Intel 风格，即将目标操作数放在最前面，赋值方向从右向左。"}]},{"ID":"20240322122254-qmm4lps","Type":"NodeList","ListData":{},"Properties":{"id":"20240322122254-qmm4lps","updated":"20240322123036"},"Children":[{"ID":"20240322122924-3mar8cn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322122924-3mar8cn","updated":"20240322123006"},"Children":[{"ID":"20240322122924-mvihvx6","Type":"NodeParagraph","Properties":{"id":"20240322122924-mvihvx6","updated":"20240322123006"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240322122953-msbxhzv","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"条件跳转指令"}]}]},{"ID":"20240322122928-2fgzgwx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322122928-2fgzgwx","updated":"20240322123016"},"Children":[{"ID":"20240322122928-miuvz8l","Type":"NodeParagraph","Properties":{"id":"20240322122928-miuvz8l","updated":"20240322123016"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240322123011-in3tm13","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"循环实现"}]}]},{"ID":"20240322122931-49zp0s6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322122931-49zp0s6","updated":"20240322123026"},"Children":[{"ID":"20240322122931-xr2achm","Type":"NodeParagraph","Properties":{"id":"20240322122931-xr2achm","updated":"20240322123026"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240322123021-74tbdqu","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"switch 实现"}]}]},{"ID":"20240322122944-huuik1s","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240322122944-huuik1s","updated":"20240322123036"},"Children":[{"ID":"20240322122944-9wk8tr1","Type":"NodeParagraph","Properties":{"id":"20240322122944-9wk8tr1","updated":"20240322123036"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240322123031-9v92po5","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"try-catch 实现"}]}]}]},{"ID":"20240322123139-n2hcij4","Type":"NodeParagraph","Properties":{"id":"20240322123139-n2hcij4"}}]}