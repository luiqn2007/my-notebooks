{"ID":"20240501202132-qr8wnkh","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240501202132-qr8wnkh","title":"ACL 模块保护域对象安全性","type":"doc","updated":"20240507024744"},"Children":[{"ID":"20240501202132-s0tjbi7","Type":"NodeParagraph","Properties":{"id":"20240501202132-s0tjbi7","updated":"20240501232318"},"Children":[{"Type":"NodeText","Data":"ACL 模块允许在访问域对象（数据库数据）时，先验证用户是否具有访问权限。"}]},{"ID":"20240501232516-2xpgobp","Type":"NodeParagraph","Properties":{"id":"20240501232516-2xpgobp","updated":"20240501232516"},"Children":[{"Type":"NodeText","Data":"权限验证也是基于数据库的。"}]},{"ID":"20240501232331-ukhvsnt","Type":"NodeParagraph","Properties":{"id":"20240501232331-ukhvsnt","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240501232446"},"Children":[{"Type":"NodeText","Data":"通常 Security 数据库与存放域对象的数据库是不同的数据库"}]},{"ID":"20240501232446-g3m4ast","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240501232446-g3m4ast","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"数据库表设计"}]},{"ID":"20240507000533-3kk63zz","Type":"NodeParagraph","Properties":{"id":"20240507000533-3kk63zz","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"记录了管理的域对象类型和对象，以及各用户或角色的权限"}]},{"ID":"20240506234322-ccta5rv","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240506234322-ccta5rv","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"ACL_CLASS"}]},{"ID":"20240506234420-yltbu2d","Type":"NodeParagraph","Properties":{"id":"20240506234420-yltbu2d","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"应用程序中被 ACL 保护的域对象类型"}]},{"ID":"20240506234343-tf1o16g","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240506234343-tf1o16g","updated":"20240507001400"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"自增主键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"被保护类的全类名"}]}]}]},{"ID":"20240506234416-9s9qmfg","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240506234416-9s9qmfg","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"ACL_SID"}]},{"ID":"20240506234533-w3cjgdc","Type":"NodeParagraph","Properties":{"id":"20240506234533-w3cjgdc","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"系统中的主体和权限"}]},{"ID":"20240506234607-64uxtu5","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|width: 836px;","id":"20240506234607-64uxtu5","updated":"20240507001400"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"自增主键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"principal"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"类型，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"true"},{"Type":"NodeText","Data":"​ 表示为用户名（主体），"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"false"},{"Type":"NodeText","Data":"​ 表示为角色（权限）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sid"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"用户名或角色名"}]}]}]},{"ID":"20240506234812-d5xihhn","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240506234812-d5xihhn","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"ACL_OBJECT_IDENTITY"}]},{"ID":"20240506234844-zb7nq1c","Type":"NodeParagraph","Properties":{"id":"20240506234844-zb7nq1c","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"要保护的域对象，通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"object_id_class"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"object_id_identity"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"parent_object"},{"Type":"NodeText","Data":"​ 可以唯一确定域对象"}]},{"ID":"20240506234938-05g64ul","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|width: 429px;","id":"20240506234938-05g64ul","updated":"20240507001400"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"自增主键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"object_id_class"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"域对象全类名"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"object_id_identity"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"域对象 id"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"parent_object"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int?"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"若域对象具有父对象，则这里是父对象的 id"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"owner_sid"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"拥有域对象实例的用户或角色"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"entries_inheriting"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"该 ACL 条目是否继承自其他 ACL"}]}]}]},{"ID":"20240507000500-eox796u","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240507000500-eox796u","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"ACT_ENTRY"}]},{"ID":"20240507000514-3ypti64","Type":"NodeParagraph","Properties":{"id":"20240507000514-3ypti64","updated":"20240507001400"},"Children":[{"Type":"NodeText","Data":"分配给域对象的权限"}]},{"ID":"20240507000618-uqc6e9h","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240507000618-uqc6e9h","updated":"20240507001332"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"自增主键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"acl_object_identity"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"指向 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240506234812-d5xihhn","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"ACL_OBJECT_IDENTITY"},{"Type":"NodeText","Data":"​ 表 id 列的外键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ace_order"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"访问控制条目顺序，优先级"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sid"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"指向 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240506234416-9s9qmfg","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"ACL_SID"},{"Type":"NodeText","Data":"​ 表 id 列的外键"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mask"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"权限掩码："},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"1 - 读"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"2 - 写"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"8 - 删除"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"16 - 管理许可"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"granting"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mask"},{"Type":"NodeText","Data":"​ 掩码对应的权限是否允许"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"audit_success"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"审核成功的权限标记"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"audit_failure"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"审核失败的权限标记"}]}]}]},{"ID":"20240507001404-fcgzryz","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240507001404-fcgzryz","updated":"20240507001410"},"Children":[{"Type":"NodeText","Data":"USERS"}]},{"ID":"20240507001410-l3p0fcf","Type":"NodeParagraph","Properties":{"id":"20240507001410-l3p0fcf","updated":"20240507001414"},"Children":[{"Type":"NodeText","Data":"用户表"}]},{"ID":"20240507001423-jttgigj","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240507001423-jttgigj","updated":"20240507001518"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"username"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"用户名"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"password"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"密码"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"enabled"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"用户是否启用"}]}]}]},{"ID":"20240507001716-hz8deum","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240507001716-hz8deum","updated":"20240507001731"},"Children":[{"Type":"NodeText","Data":"AUTHORITIES"}]},{"ID":"20240507001910-wy9fcd3","Type":"NodeParagraph","Properties":{"id":"20240507001910-wy9fcd3","updated":"20240507001928"},"Children":[{"Type":"NodeText","Data":"记录每个用户对应的角色"}]},{"ID":"20240507001908-tkfge7k","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240507001908-tkfge7k","updated":"20240507001958"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"列名"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类型"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"username"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"用户名"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"authority"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"角色"}]}]}]},{"ID":"20240506234238-cteeius","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240506234238-cteeius","updated":"20240506234247"},"Children":[{"Type":"NodeText","Data":"用户认证"}]},{"ID":"20240507013156-y4rxepr","Type":"NodeParagraph","Properties":{"id":"20240507013156-y4rxepr","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240507013203"},"Children":[{"Type":"NodeText","Data":"依赖："},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"org.springframework.security:spring-security-acl"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240501232530-n4kzhar","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240501232530-n4kzhar","updated":"20240507014920"},"Children":[{"ID":"20240507012009-xc4lo8p","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240507012009-xc4lo8p","updated":"20240507012009"},"Children":[{"ID":"20240507012009-g02f9d2","Type":"NodeParagraph","Properties":{"id":"20240507012009-g02f9d2","updated":"20240507012036"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JdbcDaoImpl"},{"Type":"NodeText","Data":"​ 作为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AuthenticationManager"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240507012048-70e06jy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240507012048-70e06jy","updated":"20240507012106"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbean id=\"userDetailsService\" class=\"org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl\"\u003e\n    \u003cproperty name=\"dataSource\" ref=\"dataSource\" /\u003e\n\u003c/bean\u003e\n\n\u003csecurity:authentication-manager\u003e\n    \u003csecurity:authentication-provider user-service-ref=\"userDetailsService\"\u003e\n        \u003csecurity:password-encoder hash=\"bcrypt\" /\u003e\n    \u003c/security:authentication-provider\u003e\n\u003c/security:authentication-manager\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240507012042-d4fwnu6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240507012042-d4fwnu6","updated":"20240507012224"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity, DataSource dataSource) throws Exception {\n    httpSecurity.csrf(AbstractHttpConfigurer::disable);\n    JdbcDaoImpl userDetailsManager = new JdbcDaoImpl();\n    userDetailsManager.setDataSource(dataSource);\n    httpSecurity.userDetailsService(userDetailsManager);\n\n    // ...\n\n    return httpSecurity.build();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240507012039-q38d67r","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240507012039-q38d67r","updated":"20240507014920"},"Children":[{"ID":"20240507012039-76nj8o5","Type":"NodeParagraph","Properties":{"id":"20240507012039-76nj8o5","updated":"20240507013959"},"Children":[{"Type":"NodeText","Data":"配置 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JdbcMutableAclService"},{"Type":"NodeText","Data":"​ 用于对数据库的 ACL 权限配置进行 CRUD 操作"}]},{"ID":"20240507014010-xvc1uw7","Type":"NodeParagraph","Properties":{"id":"20240507014010-xvc1uw7","updated":"20240507014051"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JdbcMutableAclService"},{"Type":"NodeText","Data":"​ 除 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DataSource"},{"Type":"NodeText","Data":"​ 外，还需要一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LookupStrategy"},{"Type":"NodeText","Data":"​ 和一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AclCache"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240507014052-bniegbw","Type":"NodeList","ListData":{},"Properties":{"id":"20240507014052-bniegbw","updated":"20240507014920"},"Children":[{"ID":"20240507014056-47u3ds4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240507014056-47u3ds4","updated":"20240507014920"},"Children":[{"ID":"20240507014056-so8umy1","Type":"NodeParagraph","Properties":{"id":"20240507014056-so8umy1","updated":"20240507014313"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AclCache"},{"Type":"NodeText","Data":"​：ACL 缓存的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AclCache"},{"Type":"NodeText","Data":"​ 对象"}]},{"ID":"20240507014838-fe93buj","Type":"NodeParagraph","Properties":{"id":"20240507014838-fe93buj","updated":"20240507014845"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"EhCacheBasedAclCache"},{"Type":"NodeText","Data":"​： 是一个利用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"EhCache"},{"Type":"NodeText","Data":"​ 2.x 缓存 ACL 的实现"}]},{"ID":"20240507014848-rmp71bl","Type":"NodeParagraph","Properties":{"id":"20240507014848-rmp71bl","updated":"20240507014920"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpringCacheBasedAclCache"},{"Type":"NodeText","Data":"​：Spring 缓存实现"}]}]},{"ID":"20240507014117-2hsbnpa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240507014117-2hsbnpa"},"Children":[{"ID":"20240507014117-55bikdv","Type":"NodeParagraph","Properties":{"id":"20240507014117-55bikdv"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LookupStrategy"},{"Type":"NodeText","Data":"​："}]}]}]}]}]},{"ID":"20240507012227-hwnap31","Type":"NodeList","ListData":{"Typ":3},"Properties":{"id":"20240507012227-hwnap31","updated":"20240507024744"},"Children":[{"ID":"20240507024737-dca0jvk","Type":"NodeListItem","ListData":{"Typ":3,"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240507024737-dca0jvk","updated":"20240507024744"},"Children":[{"Type":"NodeTaskListItemMarker"},{"ID":"20240507024737-xhy10iy","Type":"NodeParagraph","Properties":{"id":"20240507024737-xhy10iy","updated":"20240507024744"},"Children":[{"Type":"NodeText","Data":"JSR107 JCache"}]}]}]}]}