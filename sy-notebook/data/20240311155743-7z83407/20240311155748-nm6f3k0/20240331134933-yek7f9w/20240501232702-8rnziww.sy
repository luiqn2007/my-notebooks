{"ID":"20240501232702-8rnziww","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240501232702-8rnziww","title":"方法级安全配置","type":"doc","updated":"20240507001834"},"Children":[{"ID":"20240506231808-h3qxwbh","Type":"NodeParagraph","Properties":{"id":"20240506231808-h3qxwbh","updated":"20240506231808"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;global-method-security\u0026gt;"},{"Type":"NodeText","Data":"​ 元素启用注解配置方法安全，并在对应方法（可以是接口方法）使用注解指定权限"}]},{"ID":"20240506231808-lmjvp8a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240506231808-lmjvp8a","updated":"20240506233103"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cglobal-method-security secured-annotate=\"enable\" pre-post-annotations=\"enable\" jsr250-annotations=\"enable\" /\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240506233217-tf4drkb","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240506233217-tf4drkb","updated":"20240506233220"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240506231808-mwj8fdm","Type":"NodeTable","TableAligns":[0,0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;|","id":"20240506231808-mwj8fdm","updated":"20240507001834"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"注解"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"参数"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"其他"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Secured"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String[]"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"允许访问的用户权限"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"要求 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"secured-annotate=\u0026quot;enable\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@PreAuthorize"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"测试访问权限，支持 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hasRole"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hasAnyRole"},{"Type":"NodeText","Data":"​ 等安全方式"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"要求 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"pre-post-annotations=\u0026quot;enable\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240403005833-ettwjns","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"JSR250"},{"Type":"NodeText","Data":" 注解"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"JSR250 安全注解"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"要求 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"jsr250-annotations=\u0026quot;enable\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240506231808-8gahkhi","Type":"NodeParagraph","Properties":{"id":"20240506231808-8gahkhi","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240506231808"},"Children":[{"Type":"NodeText","Data":"方法保护基于 AOP，如果使用 AspectJ 替代 Spring AOP，需要 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"\u0026lt;global-method-security mode=\u0026quot;aspectj\u0026quot; ... /\u0026gt;"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​，且 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"@Secured"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 注解硬添加到具体实现类中而"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"strong","TextMarkTextContent":"不能在接口上"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"}]},{"ID":"20240506231808-mgpdd8u","Type":"NodeParagraph","Properties":{"id":"20240506231808-mgpdd8u","updated":"20240506231808"}}]}