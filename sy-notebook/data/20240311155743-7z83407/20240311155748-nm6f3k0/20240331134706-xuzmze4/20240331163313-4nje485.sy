{"ID":"20240331163313-4nje485","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f4e6","id":"20240331163313-4nje485","title":"注入 Bean","type":"doc","updated":"20240401021700"},"Children":[{"ID":"20240331163330-7bhsnyj","Type":"NodeParagraph","Properties":{"id":"20240331163330-7bhsnyj","updated":"20240401012913"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 表示声明一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​，相当于一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;bean\u0026gt;"},{"Type":"NodeText","Data":"​ 标签。如果存在多个相同的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​，在后面 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"register"},{"Type":"NodeText","Data":"​ 的容器配置类中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 会覆盖前面的"}]},{"ID":"20240331163330-0uqinf4","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240331163330-0uqinf4","updated":"20240401012431"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 属性"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"等效 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;bean\u0026gt;"},{"Type":"NodeText","Data":"​ 属性"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"value"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"id"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"如果留空，使用方法名"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"autowireCandidate"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"autowire-candidate"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"initMethod"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"init-method"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"destroyMethod"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"destroy-method"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"如果一个 bean 定义了一个公有的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"close()"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"shutdown()"},{"Type":"NodeText","Data":"​，则将其作为默认销毁方法"}]}]}]},{"ID":"20240331170030-bp9fcse","Type":"NodeParagraph","Properties":{"id":"20240331170030-bp9fcse","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240331170056"},"Children":[{"Type":"NodeText","Data":"|若要取消该默认的 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"close()"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"shutdown()"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 销毁方法，使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"destroyMethod=\u0026quot;\u0026quot;"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 即可"}]},{"ID":"20240331163330-850tk7r","Type":"NodeParagraph","Properties":{"id":"20240331163330-850tk7r","updated":"20240331163330"},"Children":[{"Type":"NodeText","Data":"其他属性则由额外的注解实现："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Scope"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@DependsOn"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Lazy"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Primary"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Autowired"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Value"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240331163330-ze80xe6","Type":"NodeParagraph","Properties":{"id":"20240331163330-ze80xe6","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240401012301"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 注解还可以在被 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"@Component"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"@Named"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 注解的类中的方法上使用。"}]},{"ID":"20240331163400-hgm7wu0","Type":"NodeBlockquote","Properties":{"id":"20240331163400-hgm7wu0","updated":"20240401012608"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240331163418-rk0aiyq","Type":"NodeParagraph","Properties":{"id":"20240331163418-rk0aiyq","updated":"20240331163806"},"Children":[{"Type":"NodeText","Data":"获取 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 创建的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 的方法有三种："}]},{"ID":"20240331163430-z225rjy","Type":"NodeList","ListData":{},"Properties":{"id":"20240331163430-z225rjy","updated":"20240401012608"},"Children":[{"ID":"20240331163431-fpo8yq4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331163431-fpo8yq4","updated":"20240401012608"},"Children":[{"ID":"20240331163431-89x9t0g","Type":"NodeParagraph","Properties":{"id":"20240331163431-89x9t0g","updated":"20240401012608"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ApplicationContext"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getBean()"},{"Type":"NodeText","Data":"​ 和显式调用返回依赖项的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 方法"}]}]},{"ID":"20240331163502-qjsqmmb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331163502-qjsqmmb","updated":"20240331164043"},"Children":[{"ID":"20240331163502-9mb65ob","Type":"NodeParagraph","Properties":{"id":"20240331163502-9mb65ob","updated":"20240331163828"},"Children":[{"Type":"NodeText","Data":"将依赖项指定为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 方法的参数，Spring 负责调用与依赖项相对应的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 方法并作为参数提供"}]},{"ID":"20240331163859-j1f0u1k","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331163859-j1f0u1k","updated":"20240331164043"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Bean(\"accountStatementDao\")\npublic AccountStatementDao accountStatementDao() {}\n\n@Bean(\"accountStatementService\")\npublic AccountStatementService accountStatementService(AccountStatementDao accountStatementDao) {}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240331163615-e24n2gi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331163615-e24n2gi","updated":"20240331163654"},"Children":[{"ID":"20240331163615-xjsxi54","Type":"NodeParagraph","Properties":{"id":"20240331163615-xjsxi54","updated":"20240331163654"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 类使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Autowired"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Inject"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Resource"},{"Type":"NodeText","Data":"​ 注解注入"}]}]}]}]},{"ID":"20240331165713-xtnjgv5","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240331165713-xtnjgv5","updated":"20240401012150"},"Children":[{"Type":"NodeText","Data":"注入 BeanPostProcessors 与 BeanFactoryPostProcessors"}]},{"ID":"20240401012152-417si1s","Type":"NodeParagraph","Properties":{"id":"20240401012152-417si1s","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240401012152"},"Children":[{"Type":"NodeText","Data":"使用注解配置容器，不需要再注入 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"CommonAnnotationBeanPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240330063536-03ozxn7","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"JSR250 "},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"也会生效"}]},{"ID":"20240401012152-q0w7e4r","Type":"NodeParagraph","Properties":{"id":"20240401012152-q0w7e4r","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240401012152"},"Children":[{"Type":"NodeText","Data":"使用注解配置容器，不需要再注入 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"MethodValidationPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240331110028-8pfxozk","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"JSR380"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":" 也会生效"}]},{"ID":"20240401012152-mk9jhl8","Type":"NodeParagraph","Properties":{"id":"20240401012152-mk9jhl8","updated":"20240401012224"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BeanPostProcessors"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BeanFactoryPostProcessors"},{"Type":"NodeText","Data":"​ 可以直接以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Bean"},{"Type":"NodeText","Data":"​ 的方式注入，但需要用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static"},{"Type":"NodeText","Data":"​ 函数"}]},{"ID":"20240401012224-jrhn9sr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240401012224-jrhn9sr","updated":"20240401012240"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Bean\npublic static ApplicationConfigurer applicationConfigurer() {\n    ApplicationConfigurer configurer = new ApplicationConfigurer();\n    configurer.setOrder(0);\n    return configurer;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240401014702-rh3dnpc","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240401014702-rh3dnpc","updated":"20240401021354"},"Children":[{"Type":"NodeText","Data":"条件注入"}]},{"ID":"20240401021354-xu5858t","Type":"NodeParagraph","Properties":{"id":"20240401021354-xu5858t","updated":"20240401021442"},"Children":[{"Type":"NodeText","Data":"可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Conditional"},{"Type":"NodeText","Data":"​ 自定义注入条件。该注解也可以作为元注解。"}]},{"ID":"20240401021442-87rcbr2","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240401021442-87rcbr2","updated":"20240401021447"},"Children":[{"Type":"NodeText","Data":"函数式注册"}]},{"ID":"20240401021447-5gxcrrk","Type":"NodeParagraph","Properties":{"id":"20240401021447-5gxcrrk","updated":"20240401021537"},"Children":[{"Type":"NodeText","Data":"可以直接使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"context.registerBean(name, ...)"},{"Type":"NodeText","Data":"​ 注册 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240401021613-20ft4i4","Type":"NodeParagraph","Properties":{"id":"20240401021613-20ft4i4","updated":"20240401021636"},"Children":[{"Type":"NodeText","Data":"可以直接使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"context.registerAlias(name, ...)"},{"Type":"NodeText","Data":"​ 注册 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 别名"}]},{"ID":"20240401021636-axokptg","Type":"NodeParagraph","Properties":{"id":"20240401021636-axokptg","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240401021700"},"Children":[{"Type":"NodeText","Data":"函数式注册后，应使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"refresh()"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 方法刷新容器"}]}]}