{"ID":"20240331111637-28rd7xd","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f4e6","id":"20240331111637-28rd7xd","title":"Validator 校验","type":"doc","updated":"20240331111655"},"Children":[{"ID":"20240331111655-4ke23hh","Type":"NodeParagraph","Properties":{"id":"20240331111655-4ke23hh","updated":"20240331111655"},"Children":[{"Type":"NodeText","Data":"首先，我们需要创建一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"org.springframework.validation.Validator"},{"Type":"NodeText","Data":"​ 接口的实现类："}]},{"ID":"20240331111655-4p336nj","Type":"NodeList","ListData":{},"Properties":{"id":"20240331111655-4p336nj","updated":"20240331111655"},"Children":[{"ID":"20240331111655-u4pcu7b","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331111655-u4pcu7b","updated":"20240331111655"},"Children":[{"ID":"20240331111655-1ilwk6b","Type":"NodeParagraph","Properties":{"id":"20240331111655-1ilwk6b","updated":"20240331111655"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"supports"},{"Type":"NodeText","Data":"​：校验给定 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 类型是否需要校验"}]}]},{"ID":"20240331111655-ca2ce7v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331111655-ca2ce7v","updated":"20240331111655"},"Children":[{"ID":"20240331111655-hdkof8c","Type":"NodeParagraph","Properties":{"id":"20240331111655-hdkof8c","updated":"20240331111655"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"validate"},{"Type":"NodeText","Data":"​：进行校验，若出现错误，将错误放入 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Errors"},{"Type":"NodeText","Data":"​ 参数中"}]}]}]},{"ID":"20240331111655-4nycadf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331111655-4nycadf","updated":"20240331111655"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class FixedDepositValidator implements Validator {\n\n    @Override\n    public boolean supports(Class\u003c?\u003e clazz) {\n        return FixedDepositDao.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        FixedDepositDetails fixedDepositDetails = (FixedDepositDetails) target;\n        if (fixedDepositDetails.getDepositAmount() == 0) {\n            errors.reject(\"zeroDepositAmount\");\n        }\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240331111655-y6zfico","Type":"NodeParagraph","Properties":{"id":"20240331111655-y6zfico","updated":"20240331111655"},"Children":[{"Type":"NodeText","Data":"之后，在需要的地方进行校验"}]},{"ID":"20240331111655-zhhc4i8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331111655-zhhc4i8","updated":"20240331111655"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public boolean createFixedDeposit(FixedDepositDetails fdd) {\n    BeanPropertyBindingResult bindingResult = new BeanPropertyBindingResult(fdd, \"fixedDepositDetails\");\n    FixedDepositValidator validator = new FixedDepositValidator();\n    validator.validate(fdd, bindingResult);\n    if (bindingResult.hasErrors()) {\n        LOGGER.error(\"Validation failed for FixedDepositDetails\");\n        return false;\n    }\n\n    // 校验通过\n    // do something ...\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}