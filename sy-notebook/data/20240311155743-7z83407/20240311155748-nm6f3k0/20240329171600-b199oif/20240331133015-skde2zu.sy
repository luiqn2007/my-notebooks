{"ID":"20240331133015-skde2zu","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240331133015-skde2zu","title":"自定义配置文件","type":"doc","updated":"20240504135443"},"Children":[{"ID":"20240331133028-3qvmubq","Type":"NodeParagraph","Properties":{"id":"20240331133028-3qvmubq","updated":"20240504135424"},"Children":[{"Type":"NodeText","Data":"Spring 允许将"},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"给定的一组 bean 的逻辑名称","TextMarkTextContent":"配置文件"},{"Type":"NodeText","Data":"与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 相关联。配置文件被设置为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"spring.profiles.active"},{"Type":"NodeText","Data":"​ 属性，"}]},{"ID":"20240331133613-nai4225","Type":"NodeParagraph","Properties":{"id":"20240331133613-nai4225","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240331133854"},"Children":[{"Type":"NodeText","Data":"配置文件可以定义为系统属性、环境变量、JVM 属性、servlet 参数或 JNDI 条目等。"}]},{"ID":"20240331133015-7c91u13","Type":"NodeParagraph","Properties":{"id":"20240331133015-7c91u13","updated":"20240331133432"},"Children":[{"Type":"NodeText","Data":"若 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"spring.profiles.active"},{"Type":"NodeText","Data":"​ 属性包含某个参数，表示某配置处于活跃状态。"}]},{"ID":"20240331133451-hxyyzzm","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240331133451-hxyyzzm","updated":"20240504135443"},"Children":[{"ID":"20240331133455-rzow4ci","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240331133455-rzow4ci","updated":"20240331133846"},"Children":[{"ID":"20240331133455-ty8hqrp","Type":"NodeParagraph","Properties":{"id":"20240331133455-ty8hqrp","updated":"20240331133652"},"Children":[{"Type":"NodeText","Data":"设置活跃配置文件，多个不同配置使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 分隔"}]},{"ID":"20240331133656-e13opqh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331133656-e13opqh","updated":"20240331133732"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"System.setProperty(\"spring.profiles.active\", \"mybatis, production\");\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240331133506-49mwvvu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240331133506-49mwvvu","updated":"20240504135443"},"Children":[{"ID":"20240331133506-lvovfai","Type":"NodeParagraph","Properties":{"id":"20240331133506-lvovfai","updated":"20240331134147"},"Children":[{"Type":"NodeText","Data":"根据配置文件，加载不同 bean 配置。"}]},{"ID":"20240331134148-eh6bfxi","Type":"NodeParagraph","Properties":{"id":"20240331134148-eh6bfxi","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240331134159"},"Children":[{"Type":"NodeText","Data":"在配置前加 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"!"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 可以表示某个配置不处于活跃状态时加载"}]},{"ID":"20240331133534-5yshdop","Type":"NodeList","ListData":{},"Properties":{"id":"20240331133534-5yshdop","updated":"20240504135443"},"Children":[{"ID":"20240331133536-77efppe","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331133536-77efppe","updated":"20240504135443"},"Children":[{"ID":"20240331133536-5mtbi9s","Type":"NodeParagraph","Properties":{"id":"20240331133536-5mtbi9s","updated":"20240504135443"},"Children":[{"Type":"NodeText","Data":"基于 XML 配置：在一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;beans\u0026gt;"},{"Type":"NodeText","Data":"​ 的"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"末尾"},{"Type":"NodeText","Data":"可以添加一个或多个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;beans\u0026gt;"},{"Type":"NodeText","Data":"​ 标签，并设置 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"profile"},{"Type":"NodeText","Data":"​ 属性"}]},{"ID":"20240331133734-tmno68l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331133734-tmno68l","updated":"20240331134322"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbeans ...\u003e\n    \u003c!-- ... 其他 bean 配置 --\u003e\n\n    \u003cbeans profile=\"dev\"\u003e\n        \u003c!-- 仅当 dev 活跃时加载 --\u003e\n    \u003c/beans\u003e\n\n    \u003cbeans profile=\"mybatis\"\u003e\n        \u003c!-- 仅当 mybatis 活跃时加载 --\u003e\n    \u003c/beans\u003e\n\n    \u003cbeans profile=\"!dev, production\"\u003e\n        \u003c!-- 仅当 dev 不活跃或 production 活跃时加载 --\u003e\n    \u003c/beans\u003e\n\u003c/beans\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240331133558-yhxdhoq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240331133558-yhxdhoq","updated":"20240331134604"},"Children":[{"ID":"20240331133558-6mzsubb","Type":"NodeParagraph","Properties":{"id":"20240331133558-6mzsubb","updated":"20240331133608"},"Children":[{"Type":"NodeText","Data":"基于注解"}]},{"ID":"20240331134202-hdv29tx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240331134202-hdv29tx","updated":"20240331134604"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Named(\"fixedDepositDao\")\n@Profile(\"ibatis\")\npublic class FixedDepositIbatisDao extends FixedDepositDao {}\n\n@Named(\"fixedDepositDao\")\n@Profile(\"hibernate\")\npublic class FixedDepositHibernateDao extends FixedDepositDao {}\n\n@Named(\"fixedDepositDao\")\n@Profile(\"jdbc, !production, default\")\npublic class FixedDepositJdbcDao extends FixedDepositDao {}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]}]}]},{"ID":"20240331134607-gt68nph","Type":"NodeParagraph","Properties":{"id":"20240331134607-gt68nph"}}]}