{"ID":"20240404181047-zb9y8xs","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240404181047-zb9y8xs","title":"Repository SQL 方法","type":"doc","updated":"20240405104727"},"Children":[{"ID":"20240404212112-d2sq973","Type":"NodeParagraph","Properties":{"id":"20240404212112-d2sq973","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Repository"},{"Type":"NodeText","Data":"​ 接口的方法可以不实现，Spring 默认根据方法名生成对应的代理实现。设 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​ 为实体类"}]},{"ID":"20240404212112-9pco8s6","Type":"NodeList","ListData":{},"Properties":{"id":"20240404212112-9pco8s6","updated":"20240405104727"},"Children":[{"ID":"20240404212112-7blnusu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-7blnusu","updated":"20240405104727"},"Children":[{"ID":"20240404212112-8l9cp3i","Type":"NodeParagraph","Properties":{"id":"20240404212112-8l9cp3i","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"数据库查找：即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select"},{"Type":"NodeText","Data":"​ 语句"}]},{"ID":"20240404212112-0xq3nfc","Type":"NodeParagraph","Properties":{"id":"20240404212112-0xq3nfc","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"查找语句方法签名格式为："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"find\u0026lt;查找条目\u0026gt;By\u0026lt;查找条件\u0026gt;(..., [Pageable/Sort])"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240404212112-8cnyysc","Type":"NodeList","ListData":{},"Properties":{"id":"20240404212112-8cnyysc","updated":"20240405104727"},"Children":[{"ID":"20240404212112-risxw1y","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-risxw1y","updated":"20240404212112"},"Children":[{"ID":"20240404212112-vaez80v","Type":"NodeParagraph","Properties":{"id":"20240404212112-vaez80v","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"查找条目：可选，包括 All，First，Top。"}]},{"ID":"20240404212112-nggc20i","Type":"NodeList","ListData":{},"Properties":{"id":"20240404212112-nggc20i","updated":"20240404212112"},"Children":[{"ID":"20240404212112-acy0dxh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-acy0dxh","updated":"20240404212112"},"Children":[{"ID":"20240404212112-r7c4b35","Type":"NodeParagraph","Properties":{"id":"20240404212112-r7c4b35","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findAll"},{"Type":"NodeText","Data":"​ 查找所有条目，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-rqujf2h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-rqujf2h","updated":"20240404212112"},"Children":[{"ID":"20240404212112-ls3twi8","Type":"NodeParagraph","Properties":{"id":"20240404212112-ls3twi8","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findFirst"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findTop"},{"Type":"NodeText","Data":"​ 表示查找第一条符合条件的条目，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Optional\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-c394eg7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-c394eg7","updated":"20240404212112"},"Children":[{"ID":"20240404212112-np2vxm6","Type":"NodeParagraph","Properties":{"id":"20240404212112-np2vxm6","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findFirstN"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findTopN"},{"Type":"NodeText","Data":"​ 表示查找前 N 条符合条件的条目，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240404212112-0e3057t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-0e3057t","updated":"20240404212112"},"Children":[{"ID":"20240404212112-t4oi7ry","Type":"NodeParagraph","Properties":{"id":"20240404212112-t4oi7ry","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"设置查找条件，即 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"where"},{"Type":"NodeText","Data":"​ 后的内容，且查找内容应与形参匹配"}]},{"ID":"20240404212112-472ug48","Type":"NodeList","ListData":{},"Properties":{"id":"20240404212112-472ug48","updated":"20240404212112"},"Children":[{"ID":"20240404212112-inuhvup","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-inuhvup","updated":"20240404212112"},"Children":[{"ID":"20240404212112-gnxvm1s","Type":"NodeParagraph","Properties":{"id":"20240404212112-gnxvm1s","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findById(int id)"},{"Type":"NodeText","Data":"​ 相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select ... where id = :id"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-7626e24","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-7626e24","updated":"20240404212112"},"Children":[{"ID":"20240404212112-mbg3idh","Type":"NodeParagraph","Properties":{"id":"20240404212112-mbg3idh","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findByIdAndName(int id, String name)"},{"Type":"NodeText","Data":"​ 相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select ... where id = :id and name = :name"},{"Type":"NodeText","Data":"​。连接词还支持 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Or"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-46rorwo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-46rorwo","updated":"20240404212112"},"Children":[{"ID":"20240404212112-x0aw5yx","Type":"NodeParagraph","Properties":{"id":"20240404212112-x0aw5yx","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"findByIdLessThanOrAgeGreaterThan(int id, int age)"},{"Type":"NodeText","Data":"​ 相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select ... where id \u0026lt; :id or age \u0026gt; :age"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240404212112-s1iou75","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-s1iou75","updated":"20240404212112"},"Children":[{"ID":"20240404212112-hlgrei6","Type":"NodeParagraph","Properties":{"id":"20240404212112-hlgrei6","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"分页："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"find...(..., Pageable pageable)"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Pageable"},{"Type":"NodeText","Data":"​ 表示分页访问，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Page\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Slice\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240404212112-ou8sy4c","Type":"NodeList","ListData":{},"Properties":{"id":"20240404212112-ou8sy4c","updated":"20240404212112"},"Children":[{"ID":"20240404212112-ys0notb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-ys0notb","updated":"20240404212112"},"Children":[{"ID":"20240404212112-pfz1oz0","Type":"NodeParagraph","Properties":{"id":"20240404212112-pfz1oz0","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：仅返回查询页的内容"}]}]},{"ID":"20240404212112-3f4yrfi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-3f4yrfi","updated":"20240404212112"},"Children":[{"ID":"20240404212112-2zs4xr8","Type":"NodeParagraph","Properties":{"id":"20240404212112-2zs4xr8","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Page\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：额外查询实体总数"}]}]},{"ID":"20240404212112-n5nyufd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-n5nyufd","updated":"20240404212112"},"Children":[{"ID":"20240404212112-1agfsne","Type":"NodeParagraph","Properties":{"id":"20240404212112-1agfsne","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Slice\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​：额外提供是否包含下一页"}]}]}]}]},{"ID":"20240404212112-x7rgoi0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-x7rgoi0","updated":"20240404212112"},"Children":[{"ID":"20240404212112-fx733h1","Type":"NodeParagraph","Properties":{"id":"20240404212112-fx733h1","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"排序："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"find...(..., Sort sort)"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Sort"},{"Type":"NodeText","Data":"​ 表示排序方式"}]}]},{"ID":"20240404212112-lkgyw4u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-lkgyw4u","updated":"20240404212112"},"Children":[{"ID":"20240404212112-coyafz1","Type":"NodeParagraph","Properties":{"id":"20240404212112-coyafz1","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"可返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 的对象还可以返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Stream\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​，使用流不需要等待所有结果全部查询，而是查询出一个结果后立刻返回"}]},{"ID":"20240404212112-bqo1vbc","Type":"NodeParagraph","Properties":{"id":"20240404212112-bqo1vbc","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"注意：使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"Stream"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​​ 查询，应当在使用后调用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"close"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​​ 方法或使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"try-resource"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​​ 结构"}]}]},{"ID":"20240404212112-o2tmci4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-o2tmci4","updated":"20240404212112"},"Children":[{"ID":"20240404212112-lpksvn7","Type":"NodeParagraph","Properties":{"id":"20240404212112-lpksvn7","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"异步：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Async"},{"Type":"NodeText","Data":"​ 注解标注，并返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"CompletableFuture"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Future"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ListenableFuture"},{"Type":"NodeText","Data":"​，且使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@EnableAsync"},{"Type":"NodeText","Data":"​ 注解 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Configuration"},{"Type":"NodeText","Data":"​ 注解的类"}]},{"ID":"20240404212112-infsqgx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404212112-infsqgx","updated":"20240404212112"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Async\nCompletableFuture\u003cList\u003cFixedDepositDetails\u003e\u003e findAllByFdAmount(int fdAmount);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240404212112-cgctji5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-cgctji5","updated":"20240405104727"},"Children":[{"ID":"20240404212112-kwe4w0w","Type":"NodeParagraph","Properties":{"id":"20240404212112-kwe4w0w","updated":"20240405104727"},"Children":[{"Type":"NodeText","Data":"自定义：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Query"},{"Type":"NodeText","Data":"​ 注解可以自定义 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240405104714-n5w7pua","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"JPQL 查询语句"}]}]}]}]},{"ID":"20240404212112-fio59p1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-fio59p1","updated":"20240404212112"},"Children":[{"ID":"20240404212112-lqvbgg8","Type":"NodeParagraph","Properties":{"id":"20240404212112-lqvbgg8","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"保存："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"T save(T value)"},{"Type":"NodeText","Data":"​，相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert"},{"Type":"NodeText","Data":"​ + "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"update"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-tbtjz59","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-tbtjz59","updated":"20240404212112"},"Children":[{"ID":"20240404212112-8a6d4nm","Type":"NodeParagraph","Properties":{"id":"20240404212112-8a6d4nm","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"删除："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"void delete(T value)"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"deleteBy...(...)"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404212112-vzdjb3m","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404212112-vzdjb3m","updated":"20240404212112"},"Children":[{"ID":"20240404212112-48k4cpm","Type":"NodeParagraph","Properties":{"id":"20240404212112-48k4cpm","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"计数："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"countBy...(...)"},{"Type":"NodeText","Data":"​，相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"select count(*) ..."},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240404212112-medn77a","Type":"NodeParagraph","Properties":{"id":"20240404212112-medn77a","updated":"20240404212112"},"Children":[{"Type":"NodeText","Data":"如果需要自定义实现，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@PersistenceContext"},{"Type":"NodeText","Data":"​ 注入 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"EntityManager"},{"Type":"NodeText","Data":"​ 对象进行操作。"}]},{"ID":"20240405102536-043vd5i","Type":"NodeParagraph","Properties":{"id":"20240405102536-043vd5i","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240405102628"},"Children":[{"Type":"NodeText","Data":"所有接口和实现类上都不需要注解，只需要在 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"@EnableJpaRepositories"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"basePackages"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 属性指定包名即可"}]},{"ID":"20240405102206-ltz52cp","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240405102206-ltz52cp","updated":"20240405102921"},"Children":[{"ID":"20240405102214-gmm8mpd","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240405102214-gmm8mpd","updated":"20240405102214"},"Children":[{"ID":"20240405102214-j3h2h7m","Type":"NodeParagraph","Properties":{"id":"20240405102214-j3h2h7m","updated":"20240405102436"},"Children":[{"Type":"NodeText","Data":"如果有自定义实现的需求，创建一个新接口放置自定义实现的内容，例如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~Custom"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240405102513-u1xjxet","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240405102513-u1xjxet","updated":"20240405102528"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public interface BankAccountRepositoryCustom {\n    void subtractFromAccount(int bankAccountId, float amount);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240405102256-1m8hfxg","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240405102256-1m8hfxg"},"Children":[{"ID":"20240405102256-j4w7dwd","Type":"NodeParagraph","Properties":{"id":"20240405102256-j4w7dwd","updated":"20240405102417"},"Children":[{"Type":"NodeText","Data":"创建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~Impl"},{"Type":"NodeText","Data":"​ 实现类，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Impl"},{"Type":"NodeText","Data":"​ 后缀由 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@EnableJpaRepositories"},{"Type":"NodeText","Data":"​ 决定"}]},{"ID":"20240405102530-vij5mo1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240405102530-vij5mo1","updated":"20240405102652"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class BankAccountRepositoryImpl implements BankAccountRepositoryCustom {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public void subtractFromAccount(int bankAccountId, float amount) {\n        BankAccountDetails bankAccount = entityManager.find(BankAccountDetails.class, bankAccountId);\n        if (bankAccount.getBalanceAmount() \u003c amount)\n            throw new IllegalArgumentException(\"Not enough money on account\");\n        bankAccount.setBalanceAmount(bankAccount.getBalanceAmount() - amount);\n        entityManager.merge(bankAccount);\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240405102417-xyy4vlb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240405102417-xyy4vlb","updated":"20240405102704"},"Children":[{"ID":"20240405102417-xe7xjok","Type":"NodeParagraph","Properties":{"id":"20240405102417-xe7xjok","updated":"20240405102510"},"Children":[{"Type":"NodeText","Data":"创建接口，实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Repository"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"~Custom"},{"Type":"NodeText","Data":"​ 接口，同时按命名加入其他需要的查询方法"}]},{"ID":"20240405102655-ll8ktyo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240405102655-ll8ktyo","updated":"20240405102820"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public interface BankAccountRepository extends JpaRepository\u003cBankAccountDetails, Integer\u003e, BankAccountRepositoryCustom {\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240405102833-lo0mtrs","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240405102833-lo0mtrs","updated":"20240405102921"},"Children":[{"ID":"20240405102833-jpqxe72","Type":"NodeParagraph","Properties":{"id":"20240405102833-jpqxe72","updated":"20240405102910"},"Children":[{"Type":"NodeText","Data":"在需要的地方（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Service"},{"Type":"NodeText","Data":"​ 类）直接注入使用即可"}]},{"ID":"20240405102852-geyld40","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240405102852-geyld40","updated":"20240405102921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class BankAccountServiceJpaDataImpl {\n\n    @Autowired\n    private BankAccountRepository bankAccountRepository;\n\n    @Override\n    @Transactional\n    public void createAccount(BankAccountDetails bankAccountDetails) {\n        bankAccountRepository.save(bankAccountDetails);\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240405102814-zm67rlv","Type":"NodeParagraph","Properties":{"id":"20240405102814-zm67rlv","updated":"20240405102814"}}]}