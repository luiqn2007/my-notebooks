{"ID":"20240507110236-yz4kpgu","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240507110236-yz4kpgu","title":"Spring boot 多数据库源配置","type":"doc","updated":"20240507110544"},"Children":[{"ID":"20240507110236-9hslatv","Type":"NodeParagraph","Properties":{"id":"20240507110236-9hslatv","updated":"20240507110329"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"application.properties"},{"Type":"NodeText","Data":"​ 中可以配置多个数据源，使用不同的名称"}]},{"ID":"20240507110311-p7hypsr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240507110311-p7hypsr","updated":"20240507110400"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHJvcGVydGllcw=="},{"Type":"NodeCodeBlockCode","Data":"# 用于存放数据的数据库\nspring.datasource.url=jdbc:mysql://localhost:3306/spring_bank_app_db\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n# 用于安全检查的数据库\nspring.security-database.url=jdbc:mysql://localhost:3306/securitydb\nspring.security-database.driverClassName=com.mysql.cj.jdbc.Driver\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240507110401-4dofuqv","Type":"NodeParagraph","Properties":{"id":"20240507110401-4dofuqv","updated":"20240507110438"},"Children":[{"Type":"NodeText","Data":"之后，需要在代码中初始化数据库，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ConfigurationProperties"},{"Type":"NodeText","Data":"​ 指定前缀"}]},{"ID":"20240507110439-kj89ceu","Type":"NodeParagraph","Properties":{"id":"20240507110439-kj89ceu","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240507110544"},"Children":[{"Type":"NodeText","Data":"必要情况下可以使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"@Primary"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 设置主数据库"}]},{"ID":"20240507110415-l38qq9j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240507110415-l38qq9j","updated":"20240507110423"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Primary\n@Bean\n@ConfigurationProperties(prefix = \"spring.datasource\")\npublic DataSource dataSource() {\n    return DataSourceBuilder.create().build();\n}\n@Bean\n@ConfigurationProperties(prefix = \"spring.security-datasource\")\npublic DataSource securityDataSource() {\n    return DataSourceBuilder.create().build();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}