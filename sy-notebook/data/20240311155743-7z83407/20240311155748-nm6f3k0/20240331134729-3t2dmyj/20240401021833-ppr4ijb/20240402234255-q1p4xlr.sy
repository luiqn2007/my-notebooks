{"ID":"20240402234255-q1p4xlr","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f4e6","id":"20240402234255-q1p4xlr","title":"使用 Hibernate 框架","type":"doc","updated":"20240403123758"},"Children":[{"ID":"20240402234447-u1vjlv4","Type":"NodeParagraph","Properties":{"id":"20240402234447-u1vjlv4","updated":"20240402234610"},"Children":[{"Type":"NodeText","Data":"Spring ORM 模块提供与 Hibernate，Java Persistence API（JPA），Java 数据对象（JDO）的集成。"}]},{"ID":"20240402234318-hehtlw3","Type":"NodeParagraph","Properties":{"id":"20240402234318-hehtlw3","updated":"20240402234612"},"Children":[{"Type":"NodeText","Data":"Hibernate 是一个 JPA 提供程序，可以使用 JPA 注解将持久实体映射到数据库表。"}]},{"ID":"20240403000544-lf6wvny","Type":"NodeParagraph","Properties":{"id":"20240403000544-lf6wvny","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240403000559"},"Children":[{"Type":"NodeText","Data":"依赖："},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"org.hibernate.orm:hibernate-core"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240403000601-69ddyaz","Type":"NodeParagraph","Properties":{"id":"20240403000601-69ddyaz","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240403000619"},"Children":[{"Type":"NodeText","Data":"依赖："},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"org.springframework:spring-orm"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240402234501-oocjcdg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240402234501-oocjcdg","updated":"20240403123758"},"Children":[{"ID":"20240403001040-08l1ce6","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240403001040-08l1ce6","updated":"20240403123758"},"Children":[{"ID":"20240403001040-bqrby6b","Type":"NodeParagraph","Properties":{"id":"20240403001040-bqrby6b","updated":"20240403123758"},"Children":[{"Type":"NodeText","Data":"配置持久类，将持久类使用 JPA 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Entity"},{"Type":"NodeText","Data":"​ 等注解配置好"}]}]},{"ID":"20240402234636-gpj9e33","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240402234636-gpj9e33","updated":"20240402234636"},"Children":[{"ID":"20240402234636-014948n","Type":"NodeParagraph","Properties":{"id":"20240402234636-014948n","updated":"20240403001028"},"Children":[{"Type":"NodeText","Data":"配置 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SessionFactory"},{"Type":"NodeText","Data":"​：创建 Hibernate 的 Session 对象的工厂"}]},{"ID":"20240403000810-0ybvgfa","Type":"NodeParagraph","Properties":{"id":"20240403000810-0ybvgfa","updated":"20240403001000"},"Children":[{"Type":"NodeText","Data":"在声明的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"sessionFactory"},{"Type":"NodeText","Data":"​ 变量中，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"dataSource"},{"Type":"NodeText","Data":"​ 属性指定 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DataSource"},{"Type":"NodeText","Data":"​ 对象，之后使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"packageToScan"},{"Type":"NodeText","Data":"​ 指定一个包用于自动扫描，或使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"annotatedClasses"},{"Type":"NodeText","Data":"​ 手动指定持久类。"}]},{"ID":"20240402234712-vwb4r7h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240402234712-vwb4r7h","updated":"20240403000744"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"\u003e\n    \u003cproperty name=\"dataSource\" ref=\"dataSource\" /\u003e\n    \u003cproperty name=\"packagesToScan\" value=\"com.example.mybank.domain\" /\u003e\n    \u003cproperty name=\"annotatedClasses\"\u003e\n        \u003clist\u003e\n            \u003cvalue\u003ecom.example.mybank.domain.BankAccountDetails\u003c/value\u003e\n            \u003cvalue\u003ecom.example.mybank.domain.FixedDepositDetails\u003c/value\u003e\n        \u003c/list\u003e\n    \u003c/property\u003e\n\u003c/bean\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240402234645-x9hns4b","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240402234645-x9hns4b","updated":"20240403122242"},"Children":[{"ID":"20240402234645-rws2pbq","Type":"NodeParagraph","Properties":{"id":"20240402234645-rws2pbq","updated":"20240402234710"},"Children":[{"Type":"NodeText","Data":"创建使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Hibernate API"},{"Type":"NodeText","Data":"​ 交互的 Dao"}]},{"ID":"20240403024659-zhn31j0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240403024659-zhn31j0","updated":"20240403122242"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Autowired\nprivate SessionFactory sessionFactory;\n\npublic FixedDepositDetails getFixedDeposit(int id) {\n    String hql = \"from FixedDepositDetails where FixedDepositDetails.id=\" + id;\n    return sessionFactory.getCurrentSession().createQuery(hql, FixedDepositDetails.class).uniqueResult();\n}\n\npublic int createFixedDetail(FixedDepositDetails fixedDepositDetails) {\n    sessionFactory.getCurrentSession().persist(fixedDepositDetails);\n    return fixedDepositDetails.getId();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240403020621-w8cxksn","Type":"NodeParagraph","Properties":{"id":"20240403020621-w8cxksn"}}]}