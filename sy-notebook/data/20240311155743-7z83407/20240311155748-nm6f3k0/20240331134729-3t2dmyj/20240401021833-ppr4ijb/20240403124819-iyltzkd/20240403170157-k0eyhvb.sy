{"ID":"20240403170157-k0eyhvb","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240403170157-k0eyhvb","title":"声明式事务管理","type":"doc","updated":"20240404092240"},"Children":[{"ID":"20240403170157-jakjmm3","Type":"NodeParagraph","Properties":{"id":"20240403170157-jakjmm3","updated":"20240403195419"},"Children":[{"Type":"NodeText","Data":"Spring 支持注解的声明式事务管理，使用 Spring 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeText","Data":"​ 注解对应方法和类即可。"}]},{"ID":"20240403195429-x9p7txr","Type":"NodeParagraph","Properties":{"id":"20240403195429-x9p7txr","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240403195526"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"@Transactional"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 注解类，则类中所有方法的数据库操作均会作为事务提交"}]},{"ID":"20240403195633-s5vshk4","Type":"NodeParagraph","Properties":{"id":"20240403195633-s5vshk4","updated":"20240404092240"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"tx:annotation-driven"},{"Type":"NodeText","Data":"​ 开启声明式事务管理。Java 注解 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@EnableTransactionManagement"},{"Type":"NodeText","Data":"​ 与改标签作用相同，标注在被 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Configuration"},{"Type":"NodeText","Data":"​ 注解的类上。"}]},{"ID":"20240403195658-cmqwcof","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240403195658-cmqwcof","updated":"20240403195902"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbeans ...\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"... http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\"\u003e\n\n    \u003cbean id=\"txManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"\u003e\n        \u003cproperty name=\"dataSource\" ref=\"dataSource\"/\u003e\n    \u003c/bean\u003e\n\n    \u003ctx:annotation-driven transaction-manager=\"txManager\" /\u003e\n\u003c/beans\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240403195818-zag61ng","Type":"NodeParagraph","Properties":{"id":"20240403195818-zag61ng","updated":"20240403200019"},"Children":[{"Type":"NodeText","Data":"允许定义和使用多个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"TransactionManager"},{"Type":"NodeText","Data":"​。此时 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"transaction-manager"},{"Type":"NodeText","Data":"​ 属性省略，并在注解时指定事务管理器"}]},{"ID":"20240403200020-5h8exk8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240403200020-5h8exk8","updated":"20240403200050"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Transactional(transactionManager = \"txManager\")\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}