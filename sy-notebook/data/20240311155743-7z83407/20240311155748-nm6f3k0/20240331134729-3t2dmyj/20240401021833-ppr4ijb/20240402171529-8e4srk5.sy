{"ID":"20240402171529-8e4srk5","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240402171529-8e4srk5","title":"SimpleJdbcInsert","type":"doc","updated":"20240402173056"},"Children":[{"ID":"20240402171538-czxat30","Type":"NodeParagraph","Properties":{"id":"20240402171538-czxat30","updated":"20240402171649"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SimpleJdbcInsert"},{"Type":"NodeText","Data":"​ 是一个利用数据库元数据简化 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert"},{"Type":"NodeText","Data":"​ 语句的辅助类，可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DataSource"},{"Type":"NodeText","Data":"​ 创建。"}]},{"ID":"20240402171651-1api6rm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240402171651-1api6rm","updated":"20240402173023"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"private SimpleJdbcInsert simpleJdbcInsert;\n\n@Autowired\nprivate void setDataSource(DataSource dataSource) {\n    simpleJdbcInsert = new SimpleJdbcInsert(dataSource)\n            .withTableName(\"fixed_deposit_details\")\n            .usingGeneratedKeyColumns(\"FIXED_DEPOSIT_ID\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240402171540-ngvk9ng","Type":"NodeParagraph","Properties":{"id":"20240402171540-ngvk9ng","updated":"20240402173056"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SimpleJdbcInsert"},{"Type":"NodeText","Data":"​ 可以直接通过参数构建 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"insert"},{"Type":"NodeText","Data":"​ 语句，也可以直接获取通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"usingGeneratedKeyColumns"},{"Type":"NodeText","Data":"​ 传入的主键，不需要使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"KeyHolder"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240402171529-nj5ruck","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240402171529-nj5ruck","updated":"20240402172428"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public int createFixedDetail(FixedDepositDetails fixedDepositDetails) {\n    Map\u003cString, Object\u003e arguments = new HashMap\u003c\u003e();\n    arguments.put(\"account\", fixedDepositDetails.getBankAccountId());\n    arguments.put(\"creation_date\", new Date(fixedDepositDetails.getCreationDate().getTime()));\n    arguments.put(\"amount\", fixedDepositDetails.getDepositAmount());\n    arguments.put(\"tenure\", fixedDepositDetails.getTenure());\n    arguments.put(\"active\", fixedDepositDetails.isActive() ? \"Y\" : \"N\");\n    int fixedDepositId = simpleJdbcInsert.executeAndReturnKey(arguments).intValue();\n    fixedDepositDetails.setId(fixedDepositId);\n    return fixedDepositId;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240402172429-06qsn0p","Type":"NodeParagraph","Properties":{"id":"20240402172429-06qsn0p"}}]}