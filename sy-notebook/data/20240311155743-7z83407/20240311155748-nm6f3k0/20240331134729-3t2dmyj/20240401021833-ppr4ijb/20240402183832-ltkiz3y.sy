{"ID":"20240402183832-ltkiz3y","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240402183832-ltkiz3y","title":"MappingSqlQuery","type":"doc","updated":"20240402184206"},"Children":[{"ID":"20240402183936-aqjelxx","Type":"NodeParagraph","Properties":{"id":"20240402183936-aqjelxx","updated":"20240402184129"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MappingSqlQuery"},{"Type":"NodeText","Data":"​ 可以将一个查询的结果 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ResultSet"},{"Type":"NodeText","Data":"​ 直接转换为一个对象，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setParameters"},{"Type":"NodeText","Data":"​ 设置参数"}]},{"ID":"20240402183838-778vavm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240402183838-778vavm","updated":"20240402184206"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class FixedDepositDetailsMappingSqlQuery extends MappingSqlQuery\u003cFixedDepositDetails\u003e {\n    private static final String SQL_QUERY_DEPOSIT_BY_ID = \"select * from fixed_deposit_details where FIXED_DEPOSIT_ID = ?\";\n    public FixedDepositDetailsMappingSqlQuery(DataSource ds) {\n        super(ds, SQL_QUERY_DEPOSIT_BY_ID);\n        setParameters(new SqlParameter(\"id\", java.sql.Types.INTEGER));\n    }\n    @Override\n    protected FixedDepositDetails mapRow(ResultSet rs, int rowNum) throws SQLException {\n        return FixedDepositDetails.builder()\n                .id(rs.getInt(\"FIXED_DEPOSIT_ID\"))\n                .bankAccountId(rs.getInt(\"ACCOUNT_ID\"))\n                .creationDate(rs.getDate(\"FD_CREATION_DATE\"))\n                .depositAmount(rs.getInt(\"AMOUNT\"))\n                .tenure(rs.getInt(\"TENURE\"))\n                .active(rs.getString(\"ACTIVE\").equals(\"Y\"))\n                .build();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240402183839-vxfttku","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240402183839-vxfttku","updated":"20240402183930"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"private MappingSqlQuery\u003cFixedDepositDetails\u003e mappingSqlQuery;\n\n@Autowired\nprivate void setDataSource(DataSource dataSource) {\n    // ...\n    mappingSqlQuery = new FixedDepositDetailsMappingSqlQuery(dataSource);\n}\n\npublic FixedDepositDetails getFixedDeposit(int id) {\n    return mappingSqlQuery.findObject(id);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}