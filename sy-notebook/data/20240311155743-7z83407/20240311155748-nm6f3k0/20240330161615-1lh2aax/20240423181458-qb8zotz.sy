{"ID":"20240423181458-qb8zotz","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240423181458-qb8zotz","title":"SpEL 成员访问","type":"doc","updated":"20240423192743"},"Children":[{"ID":"20240423190131-dlksruy","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240423190131-dlksruy","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"成员访问 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"."},{"Type":"NodeText","Data":"​"}]},{"ID":"20240423181519-yfii03d","Type":"NodeParagraph","Properties":{"id":"20240423181519-yfii03d","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"SpEL 支持使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"."},{"Type":"NodeText","Data":"​ 访问对象的方法（包括构造函数）、属性（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getXxx"},{"Type":"NodeText","Data":"​ 方法）、公共字段等"}]},{"ID":"20240423192743-yshzsau","Type":"NodeParagraph","Properties":{"id":"20240423192743-yshzsau","updated":"20240423192743"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"?."},{"Type":"NodeText","Data":"​ 表示空安全的成员访问，若原本对象为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​，则返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240423181932-yys64sh","Type":"NodeParagraph","Properties":{"id":"20240423181932-yys64sh","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"属性的首字母不分大小写，但实测是区分大小写的"}]},{"ID":"20240423185941-6vxkc61","Type":"NodeParagraph","Properties":{"id":"20240423185941-6vxkc61","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"允许使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"new"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 通过构造函数创建对象"}]},{"ID":"20240423181519-thnunj3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240423181519-thnunj3","updated":"20240423190136"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// String 的 bytes 属性，即 String#getBytes() 方法\nexp = parser.parseExpression(\"'Hello World'.bytes\");\nassertArrayEquals(\"Hello World\".getBytes(), exp.getValue(byte[].class));\n// byte[] 的 length 公共字段\nexp = parser.parseExpression(\"'Hello World'.bytes.length\");\nassertEquals(\"Hello World\".getBytes().length, exp.getValue());\n// String 的 length() 方法\nexp = parser.parseExpression(\"'Hello World'.length()\");\nassertEquals(\"Hello World\".length(), exp.getValue(int.class));\n// String 的 length() 方法\nexp = parser.parseExpression(\"'Hello World'.length()\");\nassertEquals(\"Hello World\".length(), exp.getValue(int.class));\n// String 的 charAt() 方法\nexp = parser.parseExpression(\"'Hello World'.charAt(3)\");\nassertEquals(\"Hello World\".charAt(3), exp.getValue(char.class));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240423182928-1f1belc","Type":"NodeParagraph","Properties":{"id":"20240423182928-1f1belc","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{}"},{"Type":"NodeText","Data":"​ 可以内联创建列表（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"java.util.Collections$UnmodifiableRandomAccessList"},{"Type":"NodeText","Data":"​）"}]},{"ID":"20240423183001-plmkdxc","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240423183001-plmkdxc","updated":"20240423190136"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"exp = parser.parseExpression(\"{1,2,3,4,5}\");\nSystem.out.println(exp.getValueType());\nassertEquals(List.of(1,2,3,4,5), exp.getValue(List.class));\n// 创建的列表可以转换为数组\nassertArrayEquals(new int[]{1, 2, 3, 4, 5}, exp.getValue(int[].class));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240423181525-t14m46c","Type":"NodeParagraph","Properties":{"id":"20240423181525-t14m46c","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240423190136"},"Children":[{"Type":"NodeText","Data":"可以给 SpEL 配置一个"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240423175613-xmn615r","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"上下文"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"，上下文可以设置一个根对象，这样对根对象的调用可以省略。"}]},{"ID":"20240423190142-7bhgqc6","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240423190142-7bhgqc6","updated":"20240423190148"},"Children":[{"Type":"NodeText","Data":"索引 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[]"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240423181528-g1l3tne","Type":"NodeParagraph","Properties":{"id":"20240423181528-g1l3tne","updated":"20240423190148"},"Children":[{"Type":"NodeText","Data":"对于 Properties、List、Map 等，可直接使用索引器 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[]"},{"Type":"NodeText","Data":"​ 访问数据"}]},{"ID":"20240423182641-tzr95lg","Type":"NodeParagraph","Properties":{"id":"20240423182641-tzr95lg","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240423190148"},"Children":[{"Type":"NodeText","Data":"Spring 上下文内置 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"systemProperties"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 属性获取系统变量和虚拟机参数"}]},{"ID":"20240423181631-m8xey65","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240423181631-m8xey65","updated":"20240423190148"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"int[] array = new int[]{0, 1, 2, 3, 4, 5};\nexp = parser.parseExpression(\"[3]\");\nassertEquals(3, exp.getValue(array));\n\nList\u003cString\u003e list = List.of(\"a\", \"b\", \"c\", \"d\", \"e\");\nexp = parser.parseExpression(\"[3]\");\nassertEquals(\"d\", exp.getValue(list));\n\nMap\u003cString, String\u003e map = Map.of(\"a\", \"A\", \"b\", \"B\", \"c\", \"C\", \"d\", \"D\");\nexp = parser.parseExpression(\"['d']\");\nassertEquals(\"D\", exp.getValue(map));\n\nProperties properties = new Properties();\nproperties.put(\"a\", \"A\");\nproperties.put(\"b\", \"B\");\nproperties.put(\"c\", \"C\");\nexp = parser.parseExpression(\"['c']\");\nassertEquals(\"C\", exp.getValue(properties));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240423182919-k4mqlkh","Type":"NodeParagraph","Properties":{"id":"20240423182919-k4mqlkh","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240423190148"},"Children":[{"Type":"NodeText","Data":"可以使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"T(类型)"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240423185117-ehr1gro","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"引用"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"一个类型，用于访问静态成员、进行 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"instanceof"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 运算等"}]}]}