{"ID":"20240406140227-nxsoeb0","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f4e6","id":"20240406140227-nxsoeb0","title":"配置 ActiveMQ","type":"doc","updated":"20240407003513"},"Children":[{"ID":"20240406140227-w1iqf7k","Type":"NodeParagraph","Properties":{"id":"20240406140227-w1iqf7k","updated":"20240406143720"},"Children":[{"Type":"NodeText","Data":"配置 ActiveMQ，以"},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"ActiveMQ 代理与应用程序运行于同一个 JVM 中","TextMarkTextContent":"内嵌模式"},{"Type":"NodeText","Data":"运行："}]},{"ID":"20240406143701-4wt1e2r","Type":"NodeParagraph","Properties":{"id":"20240406143701-4wt1e2r","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240406143715"},"Children":[{"Type":"NodeText","Data":"依赖（Spring）："},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"org.springframework.boot:spring-boot-starter-activemq"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240406142901-1mphoek","Type":"NodeParagraph","Properties":{"id":"20240406142901-1mphoek","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240406164309"},"Children":[{"Type":"NodeText","Data":"依赖（ActiveMQ）："},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"org.apache.activemq:activemq-all"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​，若产生 Log 冲突可以单独导入 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"broker"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"client"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"spring"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"kahadb-store"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 四个包"}]},{"ID":"20240406144351-dbazjej","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240406144351-dbazjej","updated":"20240407003513"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"eG1s"},{"Type":"NodeCodeBlockCode","Data":"\u003cbeans ...\n       xmlns:amq=\"http://activemq.apache.org/schema/core\"\n       xsi:schemaLocation=\"...\n                           http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd\"\u003e\n\n    \u003camq:broker\u003e\n        \u003camq:transportConnectors\u003e\n            \u003camq:transportConnector uri=\"tcp://localhost:61616\" /\u003e\n        \u003c/amq:transportConnectors\u003e\n    \u003c/amq:broker\u003e\n\n    \u003camq:connectionFactory brokerURL=\"vm://localhost\" id=\"jmsFactory\"\u003e\n        \u003camq:trustedPackages\u003e\n            \u003cvalue\u003ecom.example.mybank\u003c/value\u003e\n            \u003cvalue\u003ejava.util\u003c/value\u003e\n        \u003c/amq:trustedPackages\u003e\n    \u003c/amq:connectionFactory\u003e\n\n    \u003cbean id=\"cachingConnectionFactory\" class=\"org.springframework.jms.connection.CachingConnectionFactory\"\u003e\n        \u003cproperty name=\"targetConnectionFactory\" ref=\"jmsFactory\"/\u003e\n    \u003c/bean\u003e\n\u003c/beans\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240406162111-w0bg0py","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240406162111-w0bg0py","updated":"20240406162503"},"Children":[{"ID":"20240406162115-q60fp38","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240406162115-q60fp38","updated":"20240406162115"},"Children":[{"ID":"20240406162115-fm2ptrm","Type":"NodeParagraph","Properties":{"id":"20240406162115-fm2ptrm","updated":"20240406162146"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"amq:broker"},{"Type":"NodeText","Data":"​ 标签用于声明一个 ActiveMQ 代理"}]}]},{"ID":"20240406162210-mhu7m4a","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240406162210-mhu7m4a"},"Children":[{"ID":"20240406162210-riga2jn","Type":"NodeParagraph","Properties":{"id":"20240406162210-riga2jn","updated":"20240406162321"},"Children":[{"Type":"NodeText","Data":"创建 JMS ConnectionFactory 实例，用于创建与 ActiveMQ 的连接"}]},{"ID":"20240406162325-o0ebpx3","Type":"NodeList","ListData":{},"Properties":{"id":"20240406162325-o0ebpx3","updated":"20240406162343"},"Children":[{"ID":"20240406162343-apnss5i","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240406162343-apnss5i","updated":"20240406162343"},"Children":[{"ID":"20240406162343-hqbzwl9","Type":"NodeParagraph","Properties":{"id":"20240406162343-hqbzwl9","updated":"20240406162343"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"broker"},{"Type":"NodeText","Data":"​ 指定 ActiveMQ 代理 URL，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"vm:localhost"},{"Type":"NodeText","Data":"​ 指定当前 VM 虚拟机。"}]}]},{"ID":"20240406162344-g5lvnfy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240406162344-g5lvnfy"},"Children":[{"ID":"20240406144900-2awkogr","Type":"NodeParagraph","Properties":{"id":"20240406144900-2awkogr","updated":"20240406145125"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"amq:trustedPackages"},{"Type":"NodeText","Data":"​ 定义了 ActiveMQ 信任包，即 ActiveMQ 仅能交换信任包中的对象。由于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BankAccountDetails"},{"Type":"NodeText","Data":"​ 用到了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"java.util.Date"},{"Type":"NodeText","Data":"​ 类，因此还要信任 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"java.util"},{"Type":"NodeText","Data":"​ 包。"}]}]}]}]},{"ID":"20240406162408-0i46ig7","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240406162408-0i46ig7","updated":"20240406162503"},"Children":[{"ID":"20240406162408-dd4ke9z","Type":"NodeParagraph","Properties":{"id":"20240406162408-dd4ke9z","updated":"20240406162503"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"CachingConnectionFactory"},{"Type":"NodeText","Data":"​ 是一个 JMS ConnectionFactory 的适配器，提供缓存 JMS Session，MessageProducer 和 MessageConsumer​"}]}]}]},{"ID":"20240406160821-0tx1q31","Type":"NodeParagraph","Properties":{"id":"20240406160821-0tx1q31"}}]}