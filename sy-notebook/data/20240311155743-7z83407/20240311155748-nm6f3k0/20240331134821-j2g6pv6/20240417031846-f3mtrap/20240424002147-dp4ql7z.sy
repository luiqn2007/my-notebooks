{"ID":"20240424002147-dp4ql7z","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240424002147-dp4ql7z","title":"数据绑定","type":"doc","updated":"20240425034759"},"Children":[{"ID":"20240424002147-igbknn1","Type":"NodeParagraph","Properties":{"id":"20240424002147-igbknn1","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240424180759"},"Children":[{"Type":"NodeText","Data":"数据绑定：应用程序提交表单时，请求中的请求参数自动设置在作为表单后台对象的模型特性上"}]},{"ID":"20240425022806-5vjn2hr","Type":"NodeParagraph","Properties":{"id":"20240425022806-5vjn2hr","updated":"20240425023116"},"Children":[{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"前面模型特性中，"},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"@ModelAttribute"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"解析模型特性时，将请求数据应用到对应变量上用的就是数据绑定。"}]},{"ID":"20240425023104-ut9zj60","Type":"NodeParagraph","Properties":{"id":"20240425023104-ut9zj60","updated":"20240425023123"},"Children":[{"Type":"NodeText","Data":"Spring 通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WebDataBinding"},{"Type":"NodeText","Data":"​ 类实现数据绑定。数据绑定的一般过程如下："}]},{"ID":"20240425023123-h7pkffe","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240425023123-h7pkffe","updated":"20240425033451"},"Children":[{"ID":"20240425023124-nky5fvo","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240425023124-nky5fvo","updated":"20240425023124"},"Children":[{"ID":"20240425023124-08zf925","Type":"NodeParagraph","Properties":{"id":"20240425023124-08zf925","updated":"20240425023206"},"Children":[{"Type":"NodeText","Data":"根据请求参数，在目标对象上查找 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setter"},{"Type":"NodeText","Data":"​ 方法，如果存在则尝试绑定该数据"}]}]},{"ID":"20240425023206-43e8yj8","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240425023206-43e8yj8","updated":"20240425033451"},"Children":[{"ID":"20240425023206-ti33kzo","Type":"NodeParagraph","Properties":{"id":"20240425023206-ti33kzo","updated":"20240425033451"},"Children":[{"Type":"NodeText","Data":"若对应 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setter"},{"Type":"NodeText","Data":"​ 函数接收的不是字符串类型，则尝试使用 "},{"Type":"NodeTextMark","TextMarkType":"code inline-memo","TextMarkInlineMemoContent":"Spring 内置的 PropertyEditor 位于 org.springframework.beans.propertyeditors 中。","TextMarkTextContent":"PropertyEditor"},{"Type":"NodeText","Data":"​ 将字符串转换成对应类型"}]}]}]},{"ID":"20240425023409-87jf1qb","Type":"NodeSuperBlock","Properties":{"id":"20240425023409-87jf1qb","updated":"20240425023409"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240425023259-n3lzr7u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240425023259-n3lzr7u","updated":"20240425024126"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Setter\npublic class MyObject {\n    private String x;\n    private N y;\n}\n\n@Controller\nclass MyController {\n\n    @RequestMapping(params = { \"a\", \"b\" })\n    public bindMyObject(@ModelAttribute MyObject myObject) {\n        // ...\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240425023356-o1va4ns","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 878px; height: 470px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240425024216-2toacxx","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","data-assets":"assets/widget-excalidraw/0-20240425024216-2toacxx","id":"20240425023356-o1va4ns","options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","updated":"20240425023409"}},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240425033341-4srqqyq","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240425033341-4srqqyq","updated":"20240425033524"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WebDataBinding"},{"Type":"NodeText","Data":"​ 初始化"}]},{"ID":"20240425033519-r7ka1ao","Type":"NodeParagraph","Properties":{"id":"20240425033519-r7ka1ao","updated":"20240425033524"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WebDataBinding"},{"Type":"NodeText","Data":"​ 初始化过程如下："}]},{"ID":"20240425030043-ni53xrt","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240425030043-ni53xrt","updated":"20240425030255"},"Children":[{"ID":"20240425030046-vug94k5","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240425030046-vug94k5","updated":"20240425030247"},"Children":[{"ID":"20240425030046-c78nlzx","Type":"NodeParagraph","Properties":{"id":"20240425030046-c78nlzx","updated":"20240425030539"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Controller"},{"Type":"NodeText","Data":"​ 类中定义的被 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240425025609-2rm4e6h","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"@InitBinder"},{"Type":"NodeText","Data":"​ 修饰的方法，由 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"RequestMappingHandlerAdapter"},{"Type":"NodeText","Data":"​ 负责"}]}]},{"ID":"20240425030125-m0e4dtb","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240425030125-m0e4dtb"},"Children":[{"ID":"20240425030125-nvce9md","Type":"NodeParagraph","Properties":{"id":"20240425030125-nvce9md","updated":"20240425030525"},"Children":[{"Type":"NodeText","Data":"使用在应用程序 Spring 容器中管理的 "},{"Type":"NodeTextMark","TextMarkType":"block-ref code","TextMarkBlockRefID":"20240425030259-1tt10bf","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"WebBindingInitializer"},{"Type":"NodeText","Data":"​ bean 对象初始化"}]}]},{"ID":"20240425030207-ju9kftn","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240425030207-ju9kftn","updated":"20240425030255"},"Children":[{"ID":"20240425030207-wm6gphh","Type":"NodeParagraph","Properties":{"id":"20240425030207-wm6gphh","updated":"20240425030544"},"Children":[{"Type":"NodeText","Data":"使用在 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240425025622-nqh92qh","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"@ControllerAdvice"},{"Type":"NodeText","Data":"​ 注解的类中定义的被 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@InitBinder"},{"Type":"NodeText","Data":"​ 修饰的方法"}]}]}]},{"ID":"20240425033530-uzdyws5","Type":"NodeParagraph","Properties":{"id":"20240425033530-uzdyws5","updated":"20240425033611"},"Children":[{"Type":"NodeText","Data":"以下配置通常需要在初始化时完成："}]},{"ID":"20240425033511-haq4b00","Type":"NodeList","ListData":{},"Properties":{"id":"20240425033511-haq4b00","updated":"20240425033909"},"Children":[{"ID":"20240425033512-dgrplx8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240425033512-dgrplx8","updated":"20240425033512"},"Children":[{"ID":"20240425033512-0ef3z9b","Type":"NodeParagraph","Properties":{"id":"20240425033512-0ef3z9b","updated":"20240425033616"},"Children":[{"Type":"NodeText","Data":"注册自定义的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"PropertyEditor"},{"Type":"NodeText","Data":"​ 转换"}]},{"ID":"20240425033634-jsephz4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240425033634-jsephz4","updated":"20240425033654"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"webDataBinder.registerCustomEditor(Date.class, new CustomDateEditor(new java.text.SimpleDateFormat(\"yyyy-MM-dd\"), false));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240425033616-onky96t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240425033616-onky96t","updated":"20240425033909"},"Children":[{"ID":"20240425033616-bn9to4s","Type":"NodeParagraph","Properties":{"id":"20240425033616-bn9to4s","updated":"20240425033629"},"Children":[{"Type":"NodeText","Data":"设置允许和禁止进行转换的属性字段"}]},{"ID":"20240425033700-cpaaj3x","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240425033700-cpaaj3x","updated":"20240425033909"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"webDataBinder.setDisallowedFields(...);\nwebDataBinder.setAllowedFields(...);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240425033359-ngipzl6","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240425033359-ngipzl6","updated":"20240425034158"},"Children":[{"Type":"NodeText","Data":"绑定错误"}]},{"ID":"20240425034246-edax3mr","Type":"NodeParagraph","Properties":{"id":"20240425034246-edax3mr","updated":"20240425034405"},"Children":[{"Type":"NodeText","Data":"可以在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@RequestMapping"},{"Type":"NodeText","Data":"​ 修饰的函数中传入一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BindingResult"},{"Type":"NodeText","Data":"​ 变量，当有属性绑定发生错误时，对应错误会被传入该变量中。"}]},{"ID":"20240425034406-3mavd9c","Type":"NodeParagraph","Properties":{"id":"20240425034406-3mavd9c","updated":"20240425034617"},"Children":[{"Type":"NodeText","Data":"如果有多个模型特性，应在对应模型特性参数后紧跟一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BindingResult"},{"Type":"NodeText","Data":"​ 变量表示收集该模型特性绑定的错误信息"}]},{"ID":"20240425034618-emsrjas","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240425034618-emsrjas","updated":"20240425034759"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@RequestMapping\npublic String doSomething(\n    @ModelAttribute(name=\"a\") AObject aObj, BindingResult bindingResultA,\n    @ModelAttribute(name=\"b\") BObject bObj, BindingResult bindingResultB,\n    ...\n) { /* ... */}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}