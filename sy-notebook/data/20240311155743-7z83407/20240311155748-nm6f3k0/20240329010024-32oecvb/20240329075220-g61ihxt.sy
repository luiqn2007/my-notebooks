{"ID":"20240329075220-g61ihxt","Spec":"1","Type":"NodeDocument","Properties":{"icon":"spring.png","id":"20240329075220-g61ihxt","title":"使用 BeanPostProcessor 处理 bean","type":"doc","updated":"20240329162811"},"Children":[{"ID":"20240329075220-q2tlfox","Type":"NodeParagraph","Properties":{"id":"20240329075220-q2tlfox","updated":"20240329122037"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeText","Data":"​ 用于在新建的 bean 实例的初始化之前或之后与其进行交互，执行自定义逻辑，直接在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"XML"},{"Type":"NodeText","Data":"​ 中创建其实例 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 即可生效"}]},{"ID":"20240329121850-chtwjae","Type":"NodeParagraph","Properties":{"id":"20240329121850-chtwjae","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240329122042"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 不会检查其他 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 类型的 bean 对象"}]},{"ID":"20240329121917-6bufgvk","Type":"NodeParagraph","Properties":{"id":"20240329121917-6bufgvk","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240329122046"},"Children":[{"Type":"NodeText","Data":"当存在多个 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 时，为每个 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 实现 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"Order"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 接口设置其执行过程"}]},{"ID":"20240329075504-cdnpnvl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240329075504-cdnpnvl","updated":"20240329075530"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public interface BeanPostProcessor {\n\t@Nullable\n\tdefault Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n\t\treturn bean;\n\t}\n\t@Nullable\n\tdefault Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n\t\treturn bean;\n\t}\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240329075532-6qign9k","Type":"NodeList","ListData":{},"Properties":{"id":"20240329075532-6qign9k","updated":"20240329075636"},"Children":[{"ID":"20240329075532-3uttpz9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240329075532-3uttpz9","updated":"20240329075532"},"Children":[{"ID":"20240329075532-d2f1th5","Type":"NodeParagraph","Properties":{"id":"20240329075532-d2f1th5","updated":"20240329075617"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"postProcessBeforeInitialization"},{"Type":"NodeText","Data":"​​：在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​​ 初始化方法被调用之前触发"}]}]},{"ID":"20240329075620-2xmoq5o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240329075620-2xmoq5o","updated":"20240329075636"},"Children":[{"ID":"20240329075620-xabfgf2","Type":"NodeParagraph","Properties":{"id":"20240329075620-xabfgf2","updated":"20240329075636"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"postProcessAfterInitialization"},{"Type":"NodeText","Data":"​​：在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​​ 初始化方法被调用之后触发"}]}]}]},{"ID":"20240329123834-7u2uoxs","Type":"NodeParagraph","Properties":{"id":"20240329123834-7u2uoxs","updated":"20240329124023"},"Children":[{"Type":"NodeText","Data":"对于使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FactoryBean"},{"Type":"NodeText","Data":"​ 接口创建的对象，由于其创建的对象是间接的，无论 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"isSingleton()"},{"Type":"NodeText","Data":"​ 的返回值是什么， "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FactoryBean"},{"Type":"NodeText","Data":"​ 的实现类是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"singleton"},{"Type":"NodeText","Data":"​ 的，"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240329075220-g61ihxt","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"BeanPostProcessor"},{"Type":"NodeText","Data":"​ 和其他生命周期接口调用有以下特点："}]},{"ID":"20240329123834-5a31206","Type":"NodeList","ListData":{},"Properties":{"id":"20240329123834-5a31206","updated":"20240329123834"},"Children":[{"ID":"20240329123834-42ja399","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240329123834-42ja399","updated":"20240329123834"},"Children":[{"ID":"20240329123834-yib86vf","Type":"NodeParagraph","Properties":{"id":"20240329123834-yib86vf","updated":"20240329123834"},"Children":[{"Type":"NodeText","Data":"对于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FactoryBean"},{"Type":"NodeText","Data":"​ 的实现类，Spring 同时调用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Before"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"After"},{"Type":"NodeText","Data":"​ 方法"}]}]},{"ID":"20240329123834-r0vjs2o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240329123834-r0vjs2o","updated":"20240329123834"},"Children":[{"ID":"20240329123834-woh0g9c","Type":"NodeParagraph","Properties":{"id":"20240329123834-woh0g9c","updated":"20240329123834"},"Children":[{"Type":"NodeText","Data":"对于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FactoryBean#getObject"},{"Type":"NodeText","Data":"​ 创建的对象，只会调用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"After"},{"Type":"NodeText","Data":"​ 方法"}]}]},{"ID":"20240329123834-390i91l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240329123834-390i91l","updated":"20240329123834"},"Children":[{"ID":"20240329123834-dbxiuzy","Type":"NodeParagraph","Properties":{"id":"20240329123834-dbxiuzy","updated":"20240329123834"},"Children":[{"Type":"NodeText","Data":"对于类似 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"InitializingBean"},{"Type":"NodeText","Data":"​ 的生命周期接口，最多只会调用一次，针对 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FactoryBean"},{"Type":"NodeText","Data":"​ 对象而不是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getObject"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240329131107-90mqodl","Type":"NodeParagraph","Properties":{"id":"20240329131107-90mqodl","updated":"20240329162525"},"Children":[{"Type":"NodeText","Data":"此时，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BeanFactoryPostProcessor"},{"Type":"NodeText","Data":"​。该接口可以获取所有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 的信息。"}]},{"ID":"20240329131817-a6mvr68","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;","id":"20240329131817-a6mvr68","updated":"20240329162751"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getBeanDefinitionNames"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"获取所有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 对象的 id"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getBeanDefinition"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"根据名称获取某个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 对象"}]}]}]},{"ID":"20240329162555-ddr77v3","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;","id":"20240329162555-ddr77v3","updated":"20240329162751"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"类"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"BeanDefinition"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"表示一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bean"},{"Type":"NodeText","Data":"​ 定义"}]}]}]},{"ID":"20240329162751-kbzy2v5","Type":"NodeParagraph","Properties":{"id":"20240329162751-kbzy2v5","updated":"20240329162811"},"Children":[{"Type":"NodeText","Data":"表示一个 bean 定义表示一个 bean 定义"}]}]}