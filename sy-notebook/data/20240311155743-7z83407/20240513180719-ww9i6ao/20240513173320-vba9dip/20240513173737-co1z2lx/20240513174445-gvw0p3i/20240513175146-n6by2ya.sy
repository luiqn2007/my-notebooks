{"ID":"20240513175146-n6by2ya","Spec":"1","Type":"NodeDocument","Properties":{"icon":"minecraft.ico","id":"20240513175146-n6by2ya","title":"Monad","type":"doc","updated":"20240513175245"},"Children":[{"ID":"20240513175146-6ki4aho","Type":"NodeParagraph","Properties":{"id":"20240513175146-6ki4aho","updated":"20240513175152"},"Children":[{"Type":"NodeText","Data":"monad 是一个可以扁平化（flatten）的 pointed functor。该容器允许延迟计算和自动剥离容器，每调用一次 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"join()"},{"Type":"NodeText","Data":"​ 脱一层容器，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"join()"},{"Type":"NodeText","Data":"​ 方法符合结合律、同一律。"}]},{"ID":"20240513175156-8u5zqq7","Type":"NodeList","ListData":{},"Properties":{"id":"20240513175156-8u5zqq7","updated":"20240513175235"},"Children":[{"ID":"20240513175157-efpu63z","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513175157-efpu63z","updated":"20240513175157"},"Children":[{"ID":"20240513175157-kfir04m","Type":"NodeParagraph","Properties":{"id":"20240513175157-kfir04m","updated":"20240513175204"},"Children":[{"Type":"NodeText","Data":"结合律："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"compose(join, map(join)) == compose(join, join)"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513175229-m1goxbt","Type":"NodeParagraph","Properties":{"id":"20240513175229-m1goxbt","updated":"20240513175229"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20231023024435"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20231023024435-20240513175229-nlbm3wr.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513175200-os37fl3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513175200-os37fl3","updated":"20240513175235"},"Children":[{"ID":"20240513175200-wzmcua4","Type":"NodeParagraph","Properties":{"id":"20240513175200-wzmcua4","updated":"20240513175211"},"Children":[{"Type":"NodeText","Data":"同一律："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"compose(join, of) == compose(join, map(of)) == id"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513175235-gw2jv0x","Type":"NodeParagraph","Properties":{"id":"20240513175235-gw2jv0x","updated":"20240513175235"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20231023024525"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20231023024525-20240513175235-zwmfj0o.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240513175204-c5q5p5i","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513175204-c5q5p5i","updated":"20240513175240"},"Children":[{"Type":"NodeText","Data":"flatMap"}]},{"ID":"20240513175245-pifq104","Type":"NodeParagraph","Properties":{"id":"20240513175245-pifq104","updated":"20240513175245"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"map"},{"Type":"NodeText","Data":"​ 后紧接 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"join"},{"Type":"NodeText","Data":"​ 的操作组合称为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"flatMap"},{"Type":"NodeText","Data":"​，在其他地方也有叫 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"chain"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bind"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026gt;\u0026gt;="},{"Type":"NodeText","Data":"​ 等。通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"flatMap"},{"Type":"NodeText","Data":"​ 可以直接获取 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"map"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ap"},{"Type":"NodeText","Data":"​ 函数"}]},{"ID":"20240513175245-nom2acn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513175245-nom2acn","updated":"20240513175245"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"interface Monad\u003cT\u003e {\n    Monad\u003cR\u003e flatMap(Function\u003cT, Monad\u003cR\u003e\u003e f);\n}\n\ninterface App\u003cT\u003e extends Monad\u003cT\u003e {\n    default App\u003cR\u003e map(Function\u003cT, R\u003e f) {\n        return flatMap(v -\u003e of(f.apply(v)));\n    }\n    default App\u003cR\u003e ap(App\u003cV\u003e v) {\n        return flatMap(f -\u003e v.map((Function\u003cV, R\u003e) f));\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}