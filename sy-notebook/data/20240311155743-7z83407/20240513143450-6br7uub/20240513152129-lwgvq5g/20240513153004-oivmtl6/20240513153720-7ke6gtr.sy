{"ID":"20240513153720-7ke6gtr","Spec":"1","Type":"NodeDocument","Properties":{"icon":"opengl.png","id":"20240513153720-7ke6gtr","title":"移动摄像机","type":"doc","updated":"20240513153947"},"Children":[{"ID":"20240513153720-1b6klis","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513153720-1b6klis","updated":"20240513153738"},"Children":[{"Type":"NodeText","Data":"移动"}]},{"ID":"20240513153811-ru1seyu","Type":"NodeParagraph","Properties":{"id":"20240513153811-ru1seyu","updated":"20240513153914"},"Children":[{"Type":"NodeText","Data":"利用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraFront"},{"Type":"NodeText","Data":"​ 替换 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraDirection"},{"Type":"NodeText","Data":"​ 以便计算 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraTarget"},{"Type":"NodeText","Data":"​。"}]},{"ID":"20240513153826-4cpojx0","Type":"NodeList","ListData":{},"Properties":{"id":"20240513153826-4cpojx0","updated":"20240513153918"},"Children":[{"ID":"20240513153917-yfkqrx2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513153917-yfkqrx2","updated":"20240513153918"},"Children":[{"ID":"20240513153917-w0jov6a","Type":"NodeParagraph","Properties":{"id":"20240513153917-w0jov6a","updated":"20240513153918"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraDirection"},{"Type":"NodeText","Data":"​ = "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraPos"},{"Type":"NodeText","Data":"​ + "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraFront"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513153834-72pl0jd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513153834-72pl0jd","updated":"20240513153834"},"Children":[{"ID":"20240513153834-dv7plbh","Type":"NodeParagraph","Properties":{"id":"20240513153834-dv7plbh","updated":"20240513153834"},"Children":[{"Type":"NodeText","Data":"前后移动时，直接修改 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraPos"},{"Type":"NodeText","Data":"​ 即可"}]}]},{"ID":"20240513153836-g916fx8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513153836-g916fx8"},"Children":[{"ID":"20240513153836-vgke39i","Type":"NodeParagraph","Properties":{"id":"20240513153836-vgke39i","updated":"20240513153838"},"Children":[{"Type":"NodeText","Data":"左右移动时，移动方向为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraFront"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraUp"},{"Type":"NodeText","Data":"​ 的叉乘方向"}]}]}]},{"ID":"20240513153827-l1hguhe","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513153827-l1hguhe","updated":"20240513153900"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"vec3 cameraPos;\nvec3 cameraFront;\nvec3 cameraUp;\n\n// 移动速度\nfloat cameraSpeed = 0.05f;\n// 向上移动\ncameraPos += cameraSpeed * cameraFront;\n// 向下移动\ncameraPos -= cameraSpeed * cameraFront;\n// 向左移动\ncameraPos -= normalize(cross(cameraFront, cameraUp)) * cameraSpeed;\n// 向右移动\ncameraPos += normalize(cross(cameraFront, cameraUp)) * cameraSpeed;\n\n// 新的 lookAt 矩阵\nview = glm::lookAt(cameraPos, cameraPos + cameraFront, cameraUp);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513153921-dcfhz9q","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513153921-dcfhz9q","updated":"20240513153931"},"Children":[{"Type":"NodeText","Data":"视角"}]},{"ID":"20240513153931-c54f301","Type":"NodeParagraph","Properties":{"id":"20240513153931-c54f301","updated":"20240513153940"},"Children":[{"Type":"NodeText","Data":"改变视角通过修改 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraFront"},{"Type":"NodeText","Data":"​ 实现，同时更新 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraRight"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cameraUp"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513153941-lc0mpaj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513153941-lc0mpaj","updated":"20240513153947"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"x = cos(glm::radians(pitch)) * cos(glm::radians(yaw));\ny = sin(glm::radians(pitch));\nz = cos(glm::radians(pitch)) * sin(glm::radians(yaw));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513153739-7sa79j4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513153739-7sa79j4","updated":"20240513153744"},"Children":[{"Type":"NodeText","Data":"缩放"}]},{"ID":"20240513153755-5st4zsm","Type":"NodeParagraph","Properties":{"id":"20240513153755-5st4zsm","updated":"20240513153810"},"Children":[{"Type":"NodeText","Data":"摄像机缩放即改变视野，通过修改 fov 实现"}]}]}