{"ID":"20240513165636-nty5u02","Spec":"1","Type":"NodeDocument","Properties":{"icon":"opengl.png","id":"20240513165636-nty5u02","title":"缓冲区","type":"doc","updated":"20240513165729"},"Children":[{"ID":"20240513165636-8fq3m8q","Type":"NodeParagraph","Properties":{"id":"20240513165636-8fq3m8q","updated":"20240513165646"},"Children":[{"Type":"NodeText","Data":"OpenGL 的缓冲区实际代表一块内存或显存，具体使用非常灵活，当且仅当绑定到特定缓冲区目标时才具有特殊意义。"}]},{"ID":"20240513165652-tbdt8qr","Type":"NodeList","ListData":{},"Properties":{"id":"20240513165652-tbdt8qr","updated":"20240513165652"},"Children":[{"ID":"20240513165652-mwyk5v0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165652-mwyk5v0","updated":"20240513165652"},"Children":[{"ID":"20240513165652-yh7037f","Type":"NodeParagraph","Properties":{"id":"20240513165652-yh7037f","updated":"20240513165652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glBufferData"},{"Type":"NodeText","Data":"​：分配一块内存，当 data 非 NULL 时将其中的数据作为缓冲区的初始内容"}]}]},{"ID":"20240513165652-ask6fo8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165652-ask6fo8","updated":"20240513165652"},"Children":[{"ID":"20240513165652-p1c2l1e","Type":"NodeParagraph","Properties":{"id":"20240513165652-p1c2l1e","updated":"20240513165652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glBufferSubData"},{"Type":"NodeText","Data":"​：填充部分缓冲区区域，需要一个 offset 偏移量和数据数目"}]}]},{"ID":"20240513165652-0h70e7b","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165652-0h70e7b","updated":"20240513165652"},"Children":[{"ID":"20240513165652-tal1dxg","Type":"NodeParagraph","Properties":{"id":"20240513165652-tal1dxg","updated":"20240513165652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glMapBuffer"},{"Type":"NodeText","Data":"​：返回一个指向缓冲区的指针，通过程序可以直接访问缓冲区"}]}]},{"ID":"20240513165652-aivtbjr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165652-aivtbjr","updated":"20240513165652"},"Children":[{"ID":"20240513165652-y1yvld8","Type":"NodeParagraph","Properties":{"id":"20240513165652-y1yvld8","updated":"20240513165652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glUnmapBuffer"},{"Type":"NodeText","Data":"​：解除一个缓冲区指针映射，对缓冲区的修改会在此时回写到缓冲区"}]}]},{"ID":"20240513165652-r37ve06","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165652-r37ve06","updated":"20240513165652"},"Children":[{"ID":"20240513165652-oyo2ag8","Type":"NodeParagraph","Properties":{"id":"20240513165652-oyo2ag8","updated":"20240513165652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glCopyBufferSubData"},{"Type":"NodeText","Data":"​：不通过 CPU 直接进行缓冲区数据复制"}]}]}]},{"ID":"20240513165659-2otwzf9","Type":"NodeParagraph","Properties":{"id":"20240513165659-2otwzf9","updated":"20240513165706"},"Children":[{"Type":"NodeText","Data":"各种缓冲区 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"target"},{"Type":"NodeText","Data":"​ 的作用如下："}]},{"ID":"20240513165659-u2vnsqe","Type":"NodeList","ListData":{},"Properties":{"id":"20240513165659-u2vnsqe","updated":"20240513165659"},"Children":[{"ID":"20240513165659-mf813dq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-mf813dq","updated":"20240513165659"},"Children":[{"ID":"20240513165659-oywbe5e","Type":"NodeParagraph","Properties":{"id":"20240513165659-oywbe5e","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_ARRAY_BUFFER"},{"Type":"NodeText","Data":"​：顶点缓冲区，用于提交给顶点着色器"}]}]},{"ID":"20240513165659-wxf0sub","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-wxf0sub","updated":"20240513165659"},"Children":[{"ID":"20240513165659-6nzqhe7","Type":"NodeParagraph","Properties":{"id":"20240513165659-6nzqhe7","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_ELEMENT_ARRAY_BUFFER"},{"Type":"NodeText","Data":"​：顶点索引缓冲区，用于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glDrawElements"},{"Type":"NodeText","Data":"​ 索引形式绘制"}]}]},{"ID":"20240513165659-g2kb2un","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-g2kb2un","updated":"20240513165659"},"Children":[{"ID":"20240513165659-mf9p7df","Type":"NodeParagraph","Properties":{"id":"20240513165659-mf9p7df","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_DRAW_INDIRECT_BUFFER"},{"Type":"NodeText","Data":"​：间接绘制缓冲区，用于间接绘制数据"}]}]},{"ID":"20240513165659-bw0zhqx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-bw0zhqx","updated":"20240513165659"},"Children":[{"ID":"20240513165659-p524vae","Type":"NodeParagraph","Properties":{"id":"20240513165659-p524vae","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_UNIFORM_BUFFER"},{"Type":"NodeText","Data":"​：绑定到缓冲区 uniform 对象，对大量数据快速赋值"}]}]},{"ID":"20240513165659-5sblufj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-5sblufj","updated":"20240513165659"},"Children":[{"ID":"20240513165659-jhyo4ju","Type":"NodeParagraph","Properties":{"id":"20240513165659-jhyo4ju","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_TEXTURE_BUFFER"},{"Type":"NodeText","Data":"​：纹理缓存，保存纹理数据（图片）"}]}]},{"ID":"20240513165659-vfyb7b2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-vfyb7b2","updated":"20240513165659"},"Children":[{"ID":"20240513165659-0avsqhm","Type":"NodeParagraph","Properties":{"id":"20240513165659-0avsqhm","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_TRANSFORM_FEEDBACK_BUFFER"},{"Type":"NodeText","Data":"​：可获取着色器顶点处理阶段完成后的数据"}]}]},{"ID":"20240513165659-rjo1hmw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-rjo1hmw","updated":"20240513165659"},"Children":[{"ID":"20240513165659-dvyyf7f","Type":"NodeParagraph","Properties":{"id":"20240513165659-dvyyf7f","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_PIXEL_PACK_BUFFER"},{"Type":"NodeText","Data":"​：读取 GL 中的纹理数据，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glReadPixels"},{"Type":"NodeText","Data":"​ 等"}]}]},{"ID":"20240513165659-zhzhwn8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-zhzhwn8","updated":"20240513165659"},"Children":[{"ID":"20240513165659-3s258jo","Type":"NodeParagraph","Properties":{"id":"20240513165659-3s258jo","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_PIXEL_UNPACK_BUFFER"},{"Type":"NodeText","Data":"​：使 GL 读取纹理数据，作为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"glTexImage2D"},{"Type":"NodeText","Data":"​ 等数据源使用"}]}]},{"ID":"20240513165659-5x7h1hw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165659-5x7h1hw","updated":"20240513165659"},"Children":[{"ID":"20240513165659-lq9m2hc","Type":"NodeParagraph","Properties":{"id":"20240513165659-lq9m2hc","updated":"20240513165659"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_COPY_[READ/WRITE]_BUFFER"},{"Type":"NodeText","Data":"​：在缓冲区之间拷贝数据，不会产生额外状态变化和其他调用"}]}]}]},{"ID":"20240513165711-6jtr58f","Type":"NodeParagraph","Properties":{"id":"20240513165711-6jtr58f","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"usage 可选值为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GL_[STREAM/STATIC/DYNAMIC]_[READ/COPY/DRAW]"},{"Type":"NodeText","Data":"​ 共 9 种组合方法。"}]},{"ID":"20240513165711-fwrmflp","Type":"NodeList","ListData":{},"Properties":{"id":"20240513165711-fwrmflp","updated":"20240513165711"},"Children":[{"ID":"20240513165711-himkpkt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-himkpkt","updated":"20240513165711"},"Children":[{"ID":"20240513165711-2yvw13f","Type":"NodeParagraph","Properties":{"id":"20240513165711-2yvw13f","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"STREAM：数据写入一次后几乎不再改变，也只使用几次"}]}]},{"ID":"20240513165711-a4ift5g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-a4ift5g","updated":"20240513165711"},"Children":[{"ID":"20240513165711-bbv03ce","Type":"NodeParagraph","Properties":{"id":"20240513165711-bbv03ce","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"STATIC：数据写入一次后几乎不再改变，但要多次使用"}]}]},{"ID":"20240513165711-rsazrda","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-rsazrda","updated":"20240513165711"},"Children":[{"ID":"20240513165711-jd3ya8j","Type":"NodeParagraph","Properties":{"id":"20240513165711-jd3ya8j","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"DYNAMIC：数据会重复修改，多次访问"}]}]},{"ID":"20240513165711-tdw2gmq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-tdw2gmq","updated":"20240513165711"},"Children":[{"ID":"20240513165711-2135xnd","Type":"NodeParagraph","Properties":{"id":"20240513165711-2135xnd","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"DRAW：数据在程序端修改，并在 GL 端使用"}]}]},{"ID":"20240513165711-b58sqg0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-b58sqg0","updated":"20240513165711"},"Children":[{"ID":"20240513165711-zovpbtn","Type":"NodeParagraph","Properties":{"id":"20240513165711-zovpbtn","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"READ：数据在 GL 端修改，并返回给程序"}]}]},{"ID":"20240513165711-dk5e1sj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513165711-dk5e1sj","updated":"20240513165711"},"Children":[{"ID":"20240513165711-6xarf5n","Type":"NodeParagraph","Properties":{"id":"20240513165711-6xarf5n","updated":"20240513165711"},"Children":[{"Type":"NodeText","Data":"COPY：数据在 GL 端修改，并在 GL 端使用"}]}]}]},{"ID":"20240513165720-u9r8742","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513165720-u9r8742","updated":"20240513165720"},"Children":[{"Type":"NodeText","Data":"具名缓冲区"}]},{"ID":"20240513165720-mtp4qz4","Type":"NodeParagraph","Properties":{"id":"20240513165720-mtp4qz4","updated":"20240513165721"},"Children":[{"Type":"NodeText","Data":"OpenGL 4.5 后 OpenGL 引入使用对象名而不是绑定位点对缓冲区的操作方法："}]},{"ID":"20240513165720-97t0pm6","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"width: 276px;|width: 195px;|width: 707px;","id":"20240513165720-97t0pm6","updated":"20240513165729"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"新方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"旧方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"备注"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glCreateBuffers"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glGenBuffers"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"旧方法仅返回未使用缓冲区名，新方法还会包含部分初始化操作"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glNamedBufferData"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glBufferData"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"仅用于初始化数据"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glNamedBufferSubData"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glBufferSubData"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glMapNamedBuffer"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glMapBuffer"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glUnmapNamedBuffer"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glUnmapBuffer"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glNamedBufferStorage"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"glBufferStorage"}]},{"Type":"NodeTableCell","Data":"td"}]}]}]}