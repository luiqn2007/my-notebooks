{"ID":"20240513172542-8y6kaog","Spec":"1","Type":"NodeDocument","Properties":{"icon":"opengl.png","id":"20240513172542-8y6kaog","title":"Blinn-Phong 光照模型","type":"doc","updated":"20240513172904"},"Children":[{"ID":"20240513172653-01wtted","Type":"NodeParagraph","Properties":{"id":"20240513172653-01wtted","updated":"20240513172708"},"Children":[{"Type":"NodeText","Data":"Phong 光照模型的镜面反射会在一些情况下出现问题，特别是物体反光度很低时，会导致大片（粗糙的）高光区域，如下图镜面高光区域的边缘出现了一道很明显的断层。"}]},{"ID":"20240513172704-8b9cyxp","Type":"NodeParagraph","Properties":{"id":"20240513172704-8b9cyxp","updated":"20240513172704"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230914015649"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230914015649-20240513172704-m4fsgk0.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513172821-vpsppyh","Type":"NodeSuperBlock","Properties":{"id":"20240513172821-vpsppyh","updated":"20240513172825"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240513172806-xjzkxwc","Type":"NodeSuperBlock","Properties":{"id":"20240513172806-xjzkxwc","updated":"20240513172825"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240513172653-y5uejeu","Type":"NodeParagraph","Properties":{"id":"20240513172653-y5uejeu","updated":"20240513172818"},"Children":[{"Type":"NodeText","Data":"出现这个问题的原因是观察向量和反射向量间的夹角不能大于 90°。如果点积的结果为负数，镜面光分量会变为 "},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"0.0"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240513172653-ydnj1ox","Type":"NodeParagraph","Properties":{"id":"20240513172653-ydnj1ox","updated":"20240513172817"},"Children":[{"Type":"NodeText","Data":"当考虑漫反射光的时候，如果法线和光源夹角大于90度，光源会处于被照表面的下方，这个时候光照的漫反射分量的确是为 "},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"0.0"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240513172825-4czrie3","Type":"NodeParagraph","Properties":{"id":"20240513172825-4czrie3","updated":"20240513172825"},"Children":[{"Type":"NodeText","Data":"但是，在考虑镜面高光时，我们测量的角度并不是光源与法线的夹角，而是视线与反射光线向量的夹角。"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240513172725-y3ngy10","Type":"NodeParagraph","Properties":{"id":"20240513172725-y3ngy10","updated":"20240513172822"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230914015826"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230914015826-20240513172725-d2qh4b4.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240513172751-dkl1q32","Type":"NodeSuperBlock","Properties":{"id":"20240513172751-dkl1q32","updated":"20240513172752"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240513172743-z7xs4mg","Type":"NodeSuperBlock","Properties":{"id":"20240513172743-z7xs4mg","updated":"20240513172752"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240513172653-g7f6u0k","Type":"NodeParagraph","Properties":{"id":"20240513172653-g7f6u0k","updated":"20240513172744"},"Children":[{"Type":"NodeText","Data":"Blinn-Phong模型采用半程向量(Halfway Vector)，即光线与视线夹角一半方向上的一个单位向量替换反射向量。当半程向量与法线向量越接近时，镜面光分量就越大。"}]},{"ID":"20240513172653-88deb04","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513172653-88deb04","updated":"20240513172744"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Yysr"},{"Type":"NodeCodeBlockCode","Data":"lightDir = normalize(lightPos - vFrogPos);\nviewDir = normalize(viewPos - vFrogPos);\n// Blinn-Phong 模型\nvec3 halfwayDir = normalize(lightDir + viewDir);\nfloat spec = pow(max(dot(normalize, halfwayDir), 0), 32);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240513172731-obheoxl","Type":"NodeParagraph","Properties":{"id":"20240513172731-obheoxl","updated":"20240513172752"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230914015956"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230914015956-20240513172731-m8sguhb.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240513172900-7lqxqju","Type":"NodeParagraph","Properties":{"id":"20240513172900-7lqxqju","updated":"20240513172904"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 971px;","style":"width: 961px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230914020228"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230914020228-20240513172900-7lf5qn9.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 961px;\" parent-style=\"width: 971px;\"}"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 977px;","style":"width: 967px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230914020252"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230914020252-20240513172904-5deggvx.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 967px;\" parent-style=\"width: 977px;\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513172653-iab5uch","Type":"NodeParagraph","Properties":{"id":"20240513172653-iab5uch","style":"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);","updated":"20240513172855"},"Children":[{"Type":"NodeText","Data":"Blinn-Phong 的镜面光分量会比冯氏模型更锐利一些。Blinn-Phong 的反光度通常是 Phong 模型的 2-4 倍"}]},{"ID":"20240513172905-2msancp","Type":"NodeParagraph","Properties":{"id":"20240513172905-2msancp"}}]}