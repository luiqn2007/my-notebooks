{"ID":"20240513154554-a8fmpb8","Spec":"1","Type":"NodeDocument","Properties":{"icon":"opengl.png","id":"20240513154554-a8fmpb8","title":"镜面反射","type":"doc","updated":"20240513154742"},"Children":[{"ID":"20240513154600-7ikf1e3","Type":"NodeParagraph","Properties":{"id":"20240513154600-7ikf1e3","updated":"20240513154600"},"Children":[{"Type":"NodeText","Data":"实现高光效果，表示表面反射特性，也与视线位置相关"}]},{"ID":"20240513154600-0n3l5l6","Type":"NodeParagraph","Properties":{"id":"20240513154600-0n3l5l6","updated":"20240513154703"},"Children":[{"Type":"NodeText","Data":"镜面反射需要的数据通常为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"uniform"},{"Type":"NodeText","Data":"​ 数据："}]},{"ID":"20240513154600-r2p8eb4","Type":"NodeList","ListData":{},"Properties":{"id":"20240513154600-r2p8eb4","updated":"20240513154639"},"Children":[{"ID":"20240513154600-gkc0yz7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513154600-gkc0yz7","updated":"20240513154600"},"Children":[{"ID":"20240513154600-761lrle","Type":"NodeParagraph","Properties":{"id":"20240513154600-761lrle","updated":"20240513154600"},"Children":[{"Type":"NodeText","Data":"视线位置（摄像机位置） "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"viewPos"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513154600-xfkvk7u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513154600-xfkvk7u","updated":"20240513154600"},"Children":[{"ID":"20240513154600-ylq4y5x","Type":"NodeParagraph","Properties":{"id":"20240513154600-ylq4y5x","updated":"20240513154600"},"Children":[{"Type":"NodeText","Data":"反光度 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"shininess"},{"Type":"NodeText","Data":"​ ，与材料有关，越大反射光越强，散射（光斑大小）越小"}]}]},{"ID":"20240513154600-s7njgga","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513154600-s7njgga","updated":"20240513154639"},"Children":[{"ID":"20240513154600-sa9b4jd","Type":"NodeParagraph","Properties":{"id":"20240513154600-sa9b4jd","updated":"20240513154639"},"Children":[{"Type":"NodeText","Data":"镜面强度 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"specularStrength"},{"Type":"NodeText","Data":"​，取值范围 "},{"Type":"NodeTextMark","TextMarkType":"inline-math","TextMarkInlineMathContent":"(0,1]"},{"Type":"NodeText","Data":"，越大越亮"}]}]}]},{"ID":"20240513154612-8xyn01k","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513154612-8xyn01k","updated":"20240513154742"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z2xzbA=="},{"Type":"NodeCodeBlockCode","Data":"// 镜面强度\nfloat specularStrength;\n\nuniform vec3 viewPos;\n\n// 来自漫反射计算\nvec3 vPosition;\nvec3 norm;\n\n// 方向向量\nvec3 viewDir = normalize(viewPos - vPosition);\nvec3 reflectDir = reflect(-lightDir, norm);\n\n// 计算反射光颜色\nfloat spec = pow(max(dot(viewDir, reflectDir), 0), shininess);\nvec3 specular = specularStrength * spec * lightColor;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}