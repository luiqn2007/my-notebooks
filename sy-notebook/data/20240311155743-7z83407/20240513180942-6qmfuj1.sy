{"ID":"20240513180942-6qmfuj1","Spec":"1","Type":"NodeDocument","Properties":{"icon":"architectury.ico","id":"20240513180942-6qmfuj1","title":"Architectury","type":"doc","updated":"20240513180945"},"Children":[{"ID":"20240513180945-bogt23l","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513180945-bogt23l","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"基本结构"}]},{"ID":"20240513180945-dhdoz0i","Type":"NodeParagraph","Properties":{"id":"20240513180945-dhdoz0i","updated":"20240513180946"},"Children":[{"Type":"NodeText","Data":"从 "},{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://github.com/architectury/architectury-templates","TextMarkTextContent":"architectury/architectury-templates: Downloads to template mods to set-up architectury mods. (github.com)"},{"Type":"NodeText","Data":" 下载模板，对应平台代码放置在不同模块中："}]},{"ID":"20240513180945-fu9zb2d","Type":"NodeList","ListData":{},"Properties":{"id":"20240513180945-fu9zb2d","updated":"20240513180946"},"Children":[{"ID":"20240513180945-xyw6cvg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-xyw6cvg","updated":"20240513180945"},"Children":[{"ID":"20240513180945-zuk1yvk","Type":"NodeParagraph","Properties":{"id":"20240513180945-zuk1yvk","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"common"},{"Type":"NodeText","Data":"​：平台无关代码"}]}]},{"ID":"20240513180945-wr5dggn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-wr5dggn","updated":"20240513180945"},"Children":[{"ID":"20240513180945-16hx370","Type":"NodeParagraph","Properties":{"id":"20240513180945-16hx370","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"forge"},{"Type":"NodeText","Data":"​：Forge 平台代码"}]}]},{"ID":"20240513180945-ytrs49q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-ytrs49q","updated":"20240513180945"},"Children":[{"ID":"20240513180945-3bey600","Type":"NodeParagraph","Properties":{"id":"20240513180945-3bey600","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"neoforge"},{"Type":"NodeText","Data":"​：NeoForge 平台代码"}]}]},{"ID":"20240513180945-vocccec","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-vocccec","updated":"20240513180945"},"Children":[{"ID":"20240513180945-77rm8kp","Type":"NodeParagraph","Properties":{"id":"20240513180945-77rm8kp","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"fabric"},{"Type":"NodeText","Data":"​：Fabric 平台代码"}]}]}]},{"ID":"20240513180945-aubab8e","Type":"NodeParagraph","Properties":{"id":"20240513180945-aubab8e","updated":"20240513180946"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"common"},{"Type":"NodeText","Data":"​ 模块通常包含一个以 Mod 主类命名的类用于存放平台无关的公共代码，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Mod主类Platform"},{"Type":"NodeText","Data":"​ 命名的类用于存放平台相关的公共代码。"}]},{"ID":"20240513180945-jph83pz","Type":"NodeParagraph","Properties":{"id":"20240513180945-jph83pz","updated":"20240513180946"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"common"},{"Type":"NodeText","Data":"​ 模块中某些类若涉及到对应平台代码，满足某些条件时 Architectury 会自动去对应平台查找具体实现。"}]},{"ID":"20240513180945-a1n1fzd","Type":"NodeList","ListData":{},"Properties":{"id":"20240513180945-a1n1fzd","updated":"20240513180946"},"Children":[{"ID":"20240513180945-g8xb57m","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-g8xb57m","updated":"20240513180945"},"Children":[{"ID":"20240513180945-jwauaea","Type":"NodeParagraph","Properties":{"id":"20240513180945-jwauaea","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"方法必须是 static 的"}]}]},{"ID":"20240513180945-9ap3i4l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-9ap3i4l","updated":"20240513180945"},"Children":[{"ID":"20240513180945-3qkzx2x","Type":"NodeParagraph","Properties":{"id":"20240513180945-3qkzx2x","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ExpectPlatform"},{"Type":"NodeText","Data":"​ 注解标记"}]}]}]},{"ID":"20240513180945-9e78vqm","Type":"NodeParagraph","Properties":{"id":"20240513180945-9e78vqm","updated":"20240513180946"},"Children":[{"Type":"NodeText","Data":"对应平台目录中，至少需要包含以下内容："}]},{"ID":"20240513180945-8u546bu","Type":"NodeList","ListData":{},"Properties":{"id":"20240513180945-8u546bu","updated":"20240513180946"},"Children":[{"ID":"20240513180945-p6m6sww","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-p6m6sww","updated":"20240513180945"},"Children":[{"ID":"20240513180945-y9ycfp9","Type":"NodeParagraph","Properties":{"id":"20240513180945-y9ycfp9","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"各自平台的 Mod 主类，按各自平台的要求写（forge："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Mod"},{"Type":"NodeText","Data":"​ 注解，fabric："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ModInitializer"},{"Type":"NodeText","Data":"​ 接口）"}]}]},{"ID":"20240513180945-rmhnoye","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513180945-rmhnoye","updated":"20240513180945"},"Children":[{"ID":"20240513180945-trcqq55","Type":"NodeParagraph","Properties":{"id":"20240513180945-trcqq55","updated":"20240513180945"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"common"},{"Type":"NodeText","Data":"​ 模块中的具体实现。使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ExpectPlatform"},{"Type":"NodeText","Data":"​ 注解标记的方法的具体实现在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"包名.平台名.类名Impl"},{"Type":"NodeText","Data":"​ 类中的同名函数，必须使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"public static"},{"Type":"NodeText","Data":"​ 修饰"}]}]}]},{"ID":"20240513180945-bf4gub4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513180945-bf4gub4","updated":"20240513180946"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// common 包\n// net.examplemod.ExampleExpectPlatform\npublic class ExampleExpectPlatform {\n    @ExpectPlatform\n    public static Path getConfigDirectory() {\n        // Just throw an error, the content should get replaced at runtime.\n        throw new AssertionError();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513180945-8ofq8dw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513180945-8ofq8dw","updated":"20240513180946"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// forge 包\n// net.examplemod.forge.ExampleExpectPlatformImpl\npublic class ExampleExpectPlatformImpl {\n    public static Path getConfigDirectory() {\n        return FMLPaths.CONFIGDIR.get();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513180945-3oj1jdg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513180945-3oj1jdg","updated":"20240513180946"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// fabric 包\n// net.examplemod.fabric.ExampleExpectPlatformImpl\npublic class ExampleExpectPlatformImpl {\n    public static Path getConfigDirectory() {\n        return FabricLoader.getInstance().getConfigDir();\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}