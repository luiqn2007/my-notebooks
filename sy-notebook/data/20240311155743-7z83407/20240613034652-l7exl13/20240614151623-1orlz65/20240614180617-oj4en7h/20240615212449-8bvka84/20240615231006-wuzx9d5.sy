{"ID":"20240615231006-wuzx9d5","Spec":"1","Type":"NodeDocument","Properties":{"icon":"qt6.ico","id":"20240615231006-wuzx9d5","title":"QFileDialog","type":"doc","updated":"20240615233219"},"Children":[{"ID":"20240615231006-2scefn9","Type":"NodeParagraph","Properties":{"id":"20240615231006-2scefn9","updated":"20240615232500"},"Children":[{"Type":"NodeText","Data":"文件选择对话框，可以直接调用方法打开对话框"}]},{"ID":"20240615231019-jqii6zk","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240615231019-jqii6zk","updated":"20240615231705"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"参数"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"colspan":"1","rowspan":"4"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: colspan=\"1\" rowspan=\"4\"}"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getOpenFileName"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"打开文件，返回选择文件的名称和输入文本"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"parent"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"title"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td"}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"defaultdir"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"默认目录，支持 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"."},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"extfilter"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"扩展名过滤描述"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getSaveFileName"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"保存文件"}]}]}]},{"ID":"20240615231229-3ndresr","Type":"NodeParagraph","Properties":{"id":"20240615231229-3ndresr","updated":"20240615232522"},"Children":[{"Type":"NodeText","Data":"也可以创建一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"QFileDialog"},{"Type":"NodeText","Data":"​ 对象自定义对话框"}]},{"ID":"20240615232528-4tkbupi","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240615232528-4tkbupi","updated":"20240615233219"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"参数"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"colspan":"1","rowspan":"5"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: colspan=\"1\" rowspan=\"5\"}"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setFileMode"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"显示描述文件，应为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"QFileDialog.FileMode"},{"Type":"NodeText","Data":"​ 枚举"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AnyFile"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"任何文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ExistingFile"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"已存在的文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ExistingFiles"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"已存在的多个文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Directory"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"目录"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"colspan":"1","rowspan":"5"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: colspan=\"1\" rowspan=\"5\"}"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setFilter"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"显示过滤描述的文件和目录，应为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"QDir.Filter"},{"Type":"NodeText","Data":"​ 枚举"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Files"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"多个文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dirs"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"多个目录"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"NoFilter"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"不过滤"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Properties":{"class":"fn__none"},"Children":[{"Type":"NodeKramdownSpanIAL","Data":"{: class=\"fn__none\"}"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AllDirs"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"所有目录"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"exec()"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"执行选择文件"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"selectedFiles()"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td"},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"获取选择文件列表"}]}]}]},{"ID":"20240615233205-k1pt65t","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240615233205-k1pt65t","updated":"20240615233219"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"import sys\n\nfrom PyQt6.QtCore import QDir\nfrom PyQt6.QtGui import QPixmap\nfrom PyQt6.QtWidgets import QApplication, QWidget, QPushButton, QFileDialog, QVBoxLayout, QLabel, QTextEdit\n\n\nclass MyWidget(QWidget):\n    def __init__(self):\n        super(MyWidget, self).__init__()\n        self.setWindowTitle('File Dialog 测试')\n\n        layout = QVBoxLayout()\n        btn1 = QPushButton('选择图片文件')\n        btn1.clicked.connect(self.img_file)\n        layout.addWidget(btn1)\n\n        self.lb = QLabel('')\n        layout.addWidget(self.lb)\n\n        btn2 = QPushButton('选择文本文件')\n        btn2.clicked.connect(self.text_file)\n        layout.addWidget(btn2)\n\n        self.te = QTextEdit()\n        layout.addWidget(self.te)\n\n        self.setLayout(layout)\n\n    def img_file(self):\n        fname, _tmp = QFileDialog.getOpenFileName(self, 'Open File', '/', '*.png *.ico')\n        self.lb.setPixmap(QPixmap(fname))\n\n    def text_file(self):\n        dlg = QFileDialog()\n        dlg.setFileMode(QFileDialog.FileMode.AnyFile)\n        dlg.setFilter(QDir.Filter.Files)\n\n        if dlg.exec():\n            files = dlg.selectedFiles()\n            f = open(files[0], 'r')\n            with f:\n                text = f.read()\n                self.te.setText(text)\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    w = MyWidget()\n    w.show()\n    sys.exit(app.exec())\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}