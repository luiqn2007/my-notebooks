{"ID":"20240615193948-i2ee3e4","Spec":"1","Type":"NodeDocument","Properties":{"icon":"qt6.ico","id":"20240615193948-i2ee3e4","title":"事件处理","type":"doc","updated":"20240615201116"},"Children":[{"ID":"20240615193948-9l7jw9f","Type":"NodeParagraph","Properties":{"id":"20240615193948-9l7jw9f","updated":"20240615194409"},"Children":[{"Type":"NodeText","Data":"每个事件都是一个 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240615194052-cdidtg2","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"QEvent"},{"Type":"NodeText","Data":"​ 对象，Qt 将事件分发给不同的处理函数。"}]},{"ID":"20240615194410-lcfgp5l","Type":"NodeParagraph","Properties":{"id":"20240615194410-lcfgp5l","updated":"20240615194624"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"QWidget"},{"Type":"NodeText","Data":"​ 中定义了默认事件处理函数，通常提交给"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240615194442-sstht19","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"信号/槽"},{"Type":"NodeText","Data":"系统处理。推荐使用槽实现事件处理"}]},{"ID":"20240615194503-famjhuk","Type":"NodeParagraph","Properties":{"id":"20240615194503-famjhuk","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240615194657"},"Children":[{"Type":"NodeText","Data":"当某个控件不提供某些信号时，可以重写对应的事件处理函数自定义其功能"}]},{"ID":"20240615200844-t2dqwqj","Type":"NodeSuperBlock","Properties":{"id":"20240615200844-t2dqwqj","updated":"20240615200909"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240615194658-1697tga","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240615194658-1697tga","updated":"20240615200844"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"class MyLabel(QLabel):\n    def __init__(self, parent):\n        super(MyLabel, self).__init__(parent)\n        self.setFont(QFont('楷体', 16))\n\n    def mousePressEvent(self, event):\n        if event.buttons() == Qt.MouseButton.LeftButton:\n            self.setText('点击鼠标左键')\n        elif event.buttons() == Qt.MouseButton.RightButton:\n            self.setText('点击鼠标右键')\n        elif event.buttons() == Qt.MouseButton.MiddleButton:\n            self.setText('点击鼠标中键')\n        elif event.buttons() == Qt.MouseButton.LeftButton | Qt.MouseButton.RightButton:\n            self.setText('点击鼠标左键和右键')\n\n    def wheelEvent(self, event):\n        angle = event.angleDelta() / 8\n        if angle.y() \u003e 0:\n            self.setText(\"滚轮向上滚动 %f\" % angle.y())\n\n    def mouseDoubleClickEvent(self, event):\n        self.setText('鼠标双击')\n\n    def mouseReleaseEvent(self, ev):\n        self.setText('鼠标释放')\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240615200852-fhmx4kq","Type":"NodeSuperBlock","Properties":{"id":"20240615200852-fhmx4kq","updated":"20240615200909"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240615200846-z245gvd","Type":"NodeParagraph","Properties":{"id":"20240615200846-z245gvd","updated":"20240615200846"}},{"ID":"20240615200854-39c382d","Type":"NodeParagraph","Properties":{"id":"20240615200854-39c382d","updated":"20240615200854"}},{"ID":"20240615200855-and4baa","Type":"NodeParagraph","Properties":{"id":"20240615200855-and4baa","updated":"20240615200855"}},{"ID":"20240615200855-zwzt813","Type":"NodeParagraph","Properties":{"id":"20240615200855-zwzt813","updated":"20240615200855"}},{"ID":"20240615200535-wjfhiid","Type":"NodeList","ListData":{},"Properties":{"id":"20240615200535-wjfhiid","updated":"20240615200541"},"Children":[{"ID":"20240615200541-isih6f5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200541-isih6f5","updated":"20240615200541"},"Children":[{"ID":"20240615200541-ck7vxsc","Type":"NodeParagraph","Properties":{"id":"20240615200541-ck7vxsc","updated":"20240615200637"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mousePressEvent"},{"Type":"NodeText","Data":"​：重载鼠标按下事件"}]}]}]},{"ID":"20240615200859-jlihjow","Type":"NodeParagraph","Properties":{"id":"20240615200859-jlihjow","updated":"20240615200859"}},{"ID":"20240615200900-afaxym7","Type":"NodeParagraph","Properties":{"id":"20240615200900-afaxym7","updated":"20240615200900"}},{"ID":"20240615200901-co3gxbo","Type":"NodeParagraph","Properties":{"id":"20240615200901-co3gxbo","updated":"20240615200901"}},{"ID":"20240615200901-zb8060d","Type":"NodeParagraph","Properties":{"id":"20240615200901-zb8060d","updated":"20240615200901"}},{"ID":"20240615200901-kl5s6fj","Type":"NodeParagraph","Properties":{"id":"20240615200901-kl5s6fj","updated":"20240615200901"}},{"ID":"20240615200859-49ldfq1","Type":"NodeList","ListData":{},"Properties":{"id":"20240615200859-49ldfq1","updated":"20240615200859"},"Children":[{"ID":"20240615200638-pj8af05","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200638-pj8af05"},"Children":[{"ID":"20240615200638-dn4l1t3","Type":"NodeParagraph","Properties":{"id":"20240615200638-dn4l1t3","updated":"20240615200651"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"wheelEvent"},{"Type":"NodeText","Data":"​：重载鼠标滚轮事件"}]}]}]},{"ID":"20240615200904-1elvxto","Type":"NodeParagraph","Properties":{"id":"20240615200904-1elvxto","updated":"20240615200904"}},{"ID":"20240615200904-hln0qk7","Type":"NodeParagraph","Properties":{"id":"20240615200904-hln0qk7","updated":"20240615200904"}},{"ID":"20240615200904-wix5ril","Type":"NodeList","ListData":{},"Properties":{"id":"20240615200904-wix5ril","updated":"20240615200904"},"Children":[{"ID":"20240615200651-8hc0c0t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200651-8hc0c0t"},"Children":[{"ID":"20240615200651-f8suhr5","Type":"NodeParagraph","Properties":{"id":"20240615200651-f8suhr5","updated":"20240615200909"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mouseDoubleClickEvent"},{"Type":"NodeText","Data":"​：重载鼠标双击事件、"}]}]}]},{"ID":"20240615200909-tthq92k","Type":"NodeParagraph","Properties":{"id":"20240615200909-tthq92k","updated":"20240615200909"}},{"ID":"20240615200909-dqxxv3h","Type":"NodeList","ListData":{},"Properties":{"id":"20240615200909-dqxxv3h","updated":"20240615200909"},"Children":[{"ID":"20240615200829-z51ylct","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200829-z51ylct"},"Children":[{"ID":"20240615200829-1bwefiy","Type":"NodeParagraph","Properties":{"id":"20240615200829-1bwefiy","updated":"20240615200840"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mouseReleaseEvent"},{"Type":"NodeText","Data":"​：重载鼠标释放事件"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240615201037-o0ig7at","Type":"NodeSuperBlock","Properties":{"id":"20240615201037-o0ig7at","updated":"20240615201104"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240615194007-3lvmhqz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240615194007-3lvmhqz","updated":"20240615201038"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"class MyWidget(QWidget):\n    def __init__(self):\n        super(MyWidget, self).__init__()\n        self.setWindowTitle('事件测试')\n        self.resize(300, 120)\n        self.lb = MyLabel(self)\n        self.lb.setText('----------------')\n        self.lb.setGeometry(60, 40, 160, 50)\n\n    def mouseMoveEvent(self, event):\n        print(\"鼠标移动\", event.pos().x(), event.pos().y())\n\n    def resizeEvent(self, event):\n        print(\"窗口大小\", event.size())\n\n    def keyPressEvent(self, event):\n        print(\"按键按下\", event.key())\n        if event.key() == Qt.Key.Key_Escape:\n            self.close()\n\n    def event(self, event):\n        if event.type() == QEvent.Type.KeyPress and event.key() == Qt.Key.Key_Q:\n            print(\"Q Key\")\n            self.close()\n            return True\n        return QWidget.event(self, event)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240615201045-5leozq1","Type":"NodeSuperBlock","Properties":{"id":"20240615201045-5leozq1","updated":"20240615201104"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240615201043-vzqshpj","Type":"NodeSuperBlock","Properties":{"id":"20240615201043-vzqshpj","updated":"20240615201103"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240615201041-kmjy9jd","Type":"NodeSuperBlock","Properties":{"id":"20240615201041-kmjy9jd","updated":"20240615201047"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240615201049-e047j2q","Type":"NodeParagraph","Properties":{"id":"20240615201049-e047j2q","updated":"20240615201049"}},{"ID":"20240615201051-u6oirou","Type":"NodeParagraph","Properties":{"id":"20240615201051-u6oirou","updated":"20240615201051"}},{"ID":"20240615201051-zp225ak","Type":"NodeParagraph","Properties":{"id":"20240615201051-zp225ak","updated":"20240615201051"}},{"ID":"20240615201051-z8dx953","Type":"NodeParagraph","Properties":{"id":"20240615201051-z8dx953","updated":"20240615201051"}},{"ID":"20240615201051-r8bni4j","Type":"NodeParagraph","Properties":{"id":"20240615201051-r8bni4j","updated":"20240615201051"}},{"ID":"20240615201052-dflrlmo","Type":"NodeParagraph","Properties":{"id":"20240615201052-dflrlmo","updated":"20240615201052"}},{"ID":"20240615201052-0nvg6vo","Type":"NodeParagraph","Properties":{"id":"20240615201052-0nvg6vo","updated":"20240615201052"}},{"ID":"20240615201050-wnnei2r","Type":"NodeList","ListData":{},"Properties":{"id":"20240615201050-wnnei2r","updated":"20240615200928"},"Children":[{"ID":"20240615200914-bqzsjrs","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200914-bqzsjrs","updated":"20240615200928"},"Children":[{"ID":"20240615200914-jv29r3y","Type":"NodeParagraph","Properties":{"id":"20240615200914-jv29r3y","updated":"20240615200928"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mouseMoveEvent"},{"Type":"NodeText","Data":"​：重载鼠标移动事件"}]}]}]},{"ID":"20240615201047-0rtuie5","Type":"NodeParagraph","Properties":{"id":"20240615201047-0rtuie5"}},{"ID":"20240615200928-6qsyz20","Type":"NodeList","ListData":{},"Properties":{"id":"20240615200928-6qsyz20","updated":"20240615200930"},"Children":[{"ID":"20240615200930-vurds6l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200930-vurds6l","updated":"20240615200930"},"Children":[{"ID":"20240615200930-8b6kx04","Type":"NodeParagraph","Properties":{"id":"20240615200930-8b6kx04","updated":"20240615200947"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"resizeEvent"},{"Type":"NodeText","Data":"​：重载修改窗口大小事件"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240615201102-3xy9yoj","Type":"NodeParagraph","Properties":{"id":"20240615201102-3xy9yoj","updated":"20240615201103"}},{"ID":"20240615201102-8rlpjeq","Type":"NodeList","ListData":{},"Properties":{"id":"20240615201102-8rlpjeq","updated":"20240615201102"},"Children":[{"ID":"20240615200950-c266luo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615200950-c266luo","updated":"20240615200950"},"Children":[{"ID":"20240615200950-0bcbb89","Type":"NodeParagraph","Properties":{"id":"20240615200950-0bcbb89","updated":"20240615201010"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"keyPressEvent"},{"Type":"NodeText","Data":"​：重载按键按下事件​"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240615201104-tlzmjab","Type":"NodeParagraph","Properties":{"id":"20240615201104-tlzmjab","updated":"20240615201104"}},{"ID":"20240615201104-2wfnsmd","Type":"NodeList","ListData":{},"Properties":{"id":"20240615201104-2wfnsmd","updated":"20240615201104"},"Children":[{"ID":"20240615201016-ont70iw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240615201016-ont70iw","updated":"20240615201016"},"Children":[{"ID":"20240615201016-90bbeld","Type":"NodeParagraph","Properties":{"id":"20240615201016-90bbeld","updated":"20240615201032"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"event"},{"Type":"NodeText","Data":"​：重载所有事件（事件分发）"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240615201116-ftlpvc0","Type":"NodeParagraph","Properties":{"id":"20240615201116-ftlpvc0"}}]}