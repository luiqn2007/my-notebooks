{"ID":"20240513183933-d5behrn","Spec":"1","Type":"NodeDocument","Properties":{"icon":"flask.webp","id":"20240513183933-d5behrn","title":"修饰器","type":"doc","updated":"20240513184605"},"Children":[{"ID":"20240513184605-ntlu5w3","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513184605-ntlu5w3","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"钩子函数"}]},{"ID":"20240513184605-b6v9pfb","Type":"NodeParagraph","Properties":{"id":"20240513184605-b6v9pfb","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"在解析请求前后调用的函数，这些钩子函数是可以访问到 Request 和 Session 的"}]},{"ID":"20240513184605-xfl6ifv","Type":"NodeList","ListData":{},"Properties":{"id":"20240513184605-xfl6ifv","updated":"20240513184605"},"Children":[{"ID":"20240513184605-gz9873a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184605-gz9873a","updated":"20240513184605"},"Children":[{"ID":"20240513184605-m7l733u","Type":"NodeParagraph","Properties":{"id":"20240513184605-m7l733u","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@app.before_request"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513184605-4h7wqjb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184605-4h7wqjb","updated":"20240513184605"},"Children":[{"ID":"20240513184605-6h3i1tz","Type":"NodeParagraph","Properties":{"id":"20240513184605-6h3i1tz","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@app.before_first_request"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513184605-kd7gwy6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184605-kd7gwy6","updated":"20240513184605"},"Children":[{"ID":"20240513184605-cqxt3pe","Type":"NodeParagraph","Properties":{"id":"20240513184605-cqxt3pe","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@app.after_request"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240513184605-1v7wwe6","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513184605-1v7wwe6","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"模板处理器"}]},{"ID":"20240513184605-0g8dtrr","Type":"NodeParagraph","Properties":{"id":"20240513184605-0g8dtrr","updated":"20240513184605"},"Children":[{"Type":"NodeText","Data":"被 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@app.context_processor"},{"Type":"NodeText","Data":"​ 修饰器修饰的函数返回一个字典，当处理模板时字典中的变量会自动传入模板中"}]},{"ID":"20240513184605-rzx3t0o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513184605-rzx3t0o","updated":"20240513184605"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"@app.context_processor\ndef on_process_context():\n    return {\n        'username': g.username,\n        'email': g.email\n    }\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}