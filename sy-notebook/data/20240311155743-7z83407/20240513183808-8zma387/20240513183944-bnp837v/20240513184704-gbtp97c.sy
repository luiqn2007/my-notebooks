{"ID":"20240513184704-gbtp97c","Spec":"1","Type":"NodeDocument","Properties":{"icon":"flask.webp","id":"20240513184704-gbtp97c","title":"Flask-SQLAlchemy","type":"doc","updated":"20240513185823"},"Children":[{"ID":"20240513184713-0cw1xlq","Type":"NodeParagraph","Properties":{"id":"20240513184713-0cw1xlq","updated":"20240513185823"},"Children":[{"Type":"NodeText","Data":"Flask-SQLAlchemy 包是 Flask 对 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240513184727-9efk2ya","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"SQLAlchemy"},{"Type":"NodeText","Data":" 的支持与封装"}]},{"ID":"20240513184713-tpcjmah","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513184713-tpcjmah","updated":"20240513184713"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"# 配置数据库信息\napp.config['SQLALCHEMY_DATABASE_URI'] = 数据库连接地址\ndb = SQLAlchemy(app)\n# 测试连接\nwith app.app_context():\n    with db.engine.connect() as conn:\n        rs = conn.execute('select 1')\n        print(rs.fetchone())  # (1,)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513184713-kvfljqj","Type":"NodeParagraph","Properties":{"id":"20240513184713-kvfljqj","updated":"20240513184713"},"Children":[{"Type":"NodeText","Data":"SQLAlchemy 的具体方法见[[SQLAlchemy]]，注意很多操作都需要应用上下文（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"with app.app_context()"},{"Type":"NodeText","Data":"​）"}]},{"ID":"20240513184713-uqb89ig","Type":"NodeList","ListData":{},"Properties":{"id":"20240513184713-uqb89ig","updated":"20240513184713"},"Children":[{"ID":"20240513184713-i1ifmma","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184713-i1ifmma","updated":"20240513184713"},"Children":[{"ID":"20240513184713-79mn7wp","Type":"NodeParagraph","Properties":{"id":"20240513184713-79mn7wp","updated":"20240513184713"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"declarative_base()"},{"Type":"NodeText","Data":"​ 等效于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"db.Model"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513184713-fe2kdxd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184713-fe2kdxd","updated":"20240513184713"},"Children":[{"ID":"20240513184713-f57nsg4","Type":"NodeParagraph","Properties":{"id":"20240513184713-f57nsg4","updated":"20240513184713"},"Children":[{"Type":"NodeText","Data":"所有类型可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"db.类型"},{"Type":"NodeText","Data":"​ 获取，约束也可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"db.ForeignKey"},{"Type":"NodeText","Data":"​ 等"}]}]},{"ID":"20240513184713-4vfd2de","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184713-4vfd2de","updated":"20240513184713"},"Children":[{"ID":"20240513184713-q0le27v","Type":"NodeParagraph","Properties":{"id":"20240513184713-q0le27v","updated":"20240513184713"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Base.metadata.create_all()"},{"Type":"NodeText","Data":"​ 相当于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"db.create_all()"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240513184713-895hnb3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184713-895hnb3","updated":"20240513184713"},"Children":[{"ID":"20240513184713-3ynp305","Type":"NodeParagraph","Properties":{"id":"20240513184713-3ynp305","updated":"20240513184713"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"session.query(表类)"},{"Type":"NodeText","Data":"​ 可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"表类.query"},{"Type":"NodeText","Data":"​"}]}]}]}]}