{"ID":"20240528111243-vidr5oo","Spec":"1","Type":"NodeDocument","Properties":{"icon":"vue.svg","id":"20240528111243-vidr5oo","title":"单文件组件","type":"doc","updated":"20240531130357"},"Children":[{"ID":"20240528111243-1hkkmfa","Type":"NodeParagraph","Properties":{"id":"20240528111243-1hkkmfa","updated":"20240528204643"},"Children":[{"Type":"NodeText","Data":"Vue 允许将组件单独抽取出来到一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".vue"},{"Type":"NodeText","Data":"​ 文件中。"}]},{"ID":"20240528204643-14xqj5w","Type":"NodeParagraph","Properties":{"id":"20240528204643-14xqj5w","updated":"20240528210303"},"Children":[{"Type":"NodeText","Data":"一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".vue"},{"Type":"NodeText","Data":"​ 文件包含三部分内容："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;template\u0026gt;"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;style\u0026gt;"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;script\u0026gt;"},{"Type":"NodeText","Data":"​，分别表示模板、样式和脚本。"}]},{"ID":"20240528210901-mtvu9de","Type":"NodeParagraph","Properties":{"id":"20240528210901-mtvu9de","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240531120933"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":".vue"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 通常配合编译工具使用，如 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code block-ref","TextMarkBlockRefID":"20240528111302-fkjru0h","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"webpack"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240528210312-bvpgf79","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240528210312-bvpgf79","updated":"20240528210732"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003ctemplate\u003e\n    \u003cdiv\u003e你好，{{ vname }}\u003c/div\u003e\n\u003c/template\u003e\n\n\u003cscript\u003e\nexport default {\n    data() {\n        return {\n            vname: 'Vue'\n        }\n    }\n}\n\u003c/script\u003e\n\n\u003cstyle\u003e\n/* no style */\n\u003c/style\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240531122542-deptse4","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240531122542-deptse4","updated":"20240531130357"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;script setup\u0026gt;"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240528204737-vyao5pq","Type":"NodeParagraph","Properties":{"id":"20240528204737-vyao5pq","updated":"20240531122544"},"Children":[{"Type":"NodeText","Data":"如果要使用组合式 API，可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;script setup\u0026gt;"},{"Type":"NodeText","Data":"​ 添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setup"},{"Type":"NodeText","Data":"​ 属性省略 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"export default"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240531121030-4a8pdqw","Type":"NodeParagraph","Properties":{"id":"20240531121030-4a8pdqw","style":"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);","updated":"20240531122544"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);"},"TextMarkType":"code","TextMarkTextContent":"script setup"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);\"}"},{"Type":"NodeText","Data":"​ 同样无法访问到 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);"},"TextMarkType":"code","TextMarkTextContent":"this"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240528210847-2lqko2c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240528210847-2lqko2c","updated":"20240531122544"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cscript setup\u003e\n// do something\n\u003c/script\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240531121029-a6bycda","Type":"NodeList","ListData":{},"Properties":{"id":"20240531121029-a6bycda","updated":"20240531122544"},"Children":[{"ID":"20240531121119-x8p08un","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531121119-x8p08un","updated":"20240531121119"},"Children":[{"ID":"20240531121119-zwecuh4","Type":"NodeParagraph","Properties":{"id":"20240531121119-zwecuh4","updated":"20240531121351"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;setup\u0026gt;"},{"Type":"NodeText","Data":"​ 中使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vue.ref"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import {ref} from 'vue'"},{"Type":"NodeText","Data":"​ 声明的变量自动成为响应式可变基本数据对象"}]}]},{"ID":"20240531121221-nayqrkb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531121221-nayqrkb"},"Children":[{"ID":"20240531121221-tr16101","Type":"NodeParagraph","Properties":{"id":"20240531121221-tr16101","updated":"20240531121401"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;setup\u0026gt;"},{"Type":"NodeText","Data":"​ 中使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vue.reactive"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import {reactive} from 'vue'"},{"Type":"NodeText","Data":"​ 声明的变量自动成为响应式可变对象"}]}]},{"ID":"20240531121306-c8rty6s","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531121306-c8rty6s"},"Children":[{"ID":"20240531121306-u0502st","Type":"NodeParagraph","Properties":{"id":"20240531121306-u0502st","updated":"20240531121430"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;setup\u0026gt;"},{"Type":"NodeText","Data":"​ 中创建的无参函数也被认为是属性（类似于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"computed"},{"Type":"NodeText","Data":"​）"}]},{"ID":"20240531121452-lnp1j9y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531121452-lnp1j9y","updated":"20240531121531"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"let changeNumber = () =\u003e { firstNumber.value++ }\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240531121433-ltpg36f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531121433-ltpg36f","updated":"20240531121448"},"Children":[{"ID":"20240531121433-zuycqe3","Type":"NodeParagraph","Properties":{"id":"20240531121433-zuycqe3","updated":"20240531121448"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;setup\u0026gt;"},{"Type":"NodeText","Data":"​ 中创建的函数自动成为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"methods"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240531121543-dkqhsr3","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240531121543-dkqhsr3","updated":"20240531130357"},"Children":[{"Type":"NodeText","Data":"路由"}]},{"ID":"20240531121547-68imamr","Type":"NodeParagraph","Properties":{"id":"20240531121547-68imamr","updated":"20240531121547"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240524134551-2kzz1dv","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Vue Router"},{"Type":"NodeText","Data":" 进行路由时，由于没有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"this"},{"Type":"NodeText","Data":"​ 无法访问 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$router"},{"Type":"NodeText","Data":"​，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"useRouter"},{"Type":"NodeText","Data":"​ 获取"}]},{"ID":"20240531121644-wc4611m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531121644-wc4611m","updated":"20240531121547"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { useRouter } from 'vue-router'\n\nconst router = userRouter()\nrouter.push(...)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240531121842-iptkbsy","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240531121842-iptkbsy","updated":"20240531130357"},"Children":[{"Type":"NodeText","Data":"组件"}]},{"ID":"20240531121911-njcv9bm","Type":"NodeList","ListData":{},"Properties":{"id":"20240531121911-njcv9bm","updated":"20240531130357"},"Children":[{"ID":"20240531122038-x7ht9gw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531122038-x7ht9gw","updated":"20240531122038"},"Children":[{"ID":"20240531122038-m2p97fs","Type":"NodeParagraph","Properties":{"id":"20240531122038-m2p97fs","updated":"20240531122038"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;setup\u0026gt;"},{"Type":"NodeText","Data":"​ 中使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"import"},{"Type":"NodeText","Data":"​ 引入的组件会被自动注册"}]}]},{"ID":"20240531122039-up63clh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531122039-up63clh"},"Children":[{"ID":"20240531122039-kyedpio","Type":"NodeParagraph","Properties":{"id":"20240531122039-kyedpio","updated":"20240531122113"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240523160019-5zld951","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"props"},{"Type":"NodeText","Data":"​：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"defineProps"},{"Type":"NodeText","Data":"​ 接收父组件传递的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"props"},{"Type":"NodeText","Data":"​ 值"}]}]},{"ID":"20240531122115-la9fmfp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531122115-la9fmfp"},"Children":[{"ID":"20240531122115-boqdea9","Type":"NodeParagraph","Properties":{"id":"20240531122115-boqdea9","updated":"20240531122142"},"Children":[{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240523160053-m6l72w0","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"自定义事件"},{"Type":"NodeText","Data":"：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"defineEmits"},{"Type":"NodeText","Data":"​ 向父组件抛出自定义事件"}]}]},{"ID":"20240531122143-afkj5py","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531122143-afkj5py","updated":"20240531130357"},"Children":[{"ID":"20240531122143-0ugdcyt","Type":"NodeParagraph","Properties":{"id":"20240531122143-0ugdcyt","updated":"20240531130357"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"defineExpose"},{"Type":"NodeText","Data":"​ 将数据暴露给父组件，父组件通过在子组件上添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ref"},{"Type":"NodeText","Data":"​ 属性接收"}]}]}]},{"ID":"20240531123608-rgbkvfe","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240531123608-rgbkvfe","updated":"20240531125253"},"Children":[{"Type":"NodeText","Data":"例"}]},{"ID":"20240531123612-t8cgme5","Type":"NodeList","ListData":{},"Properties":{"id":"20240531123612-t8cgme5","updated":"20240531125231"},"Children":[{"ID":"20240531123613-ollvqax","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531123613-ollvqax","updated":"20240531125226"},"Children":[{"ID":"20240531123613-9i73c1x","Type":"NodeParagraph","Properties":{"id":"20240531123613-9i73c1x","updated":"20240531123623"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"src/App.vue"},{"Type":"NodeText","Data":"​：父组件"}]},{"ID":"20240531122244-zwy9itq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531122244-zwy9itq","updated":"20240531125226"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003ctemplate\u003e\n  \u003cdiv\u003e\n    \u003cHelloWorld :info=\"msg\" constv=\"88\" @myAdd=\"myAddAction\" @myDel=\"myDelAction\" ref=\"comRef\" /\u003e\n    \u003cbutton @click=\"getSon\"\u003e获取子组件数据\u003c/button\u003e\n  \u003c/div\u003e\n\u003c/template\u003e\n\u003cscript setup\u003e\n  // 注册 HelloWorld 子组件\n  import HelloWorld from '@/components/HelloWorld.vue'\n  // 与子组件的数据通信\n  import { ref } from 'vue'\n  const msg = '传递给子组件的数据'\n  const myAddAction = msg =\u003e alert(`子组件新增按钮传值 ${msg}`)\n  const myDelAction = msg =\u003e alert(`子组件删除按钮传值 ${msg}`)\n  const comRef = ref()\n  const getSon = () =\u003e {\n    console.log(\"性别：\", comRef.value.prop1)\n    console.log(\"其他信息：\", comRef.value.prop2)\n  }\n\u003c/script\u003e"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240531123632-vc49f2f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531123632-vc49f2f","updated":"20240531125231"},"Children":[{"ID":"20240531123632-hb7mopd","Type":"NodeParagraph","Properties":{"id":"20240531123632-hb7mopd","updated":"20240531123647"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"src/components/HelloWorld.vue"},{"Type":"NodeText","Data":"​：子组件"}]},{"ID":"20240531123652-gm2bay1","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531123652-gm2bay1","updated":"20240531125231"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003ctemplate\u003e\n  \u003cdiv\u003e\n    \u003ch4\u003e接收父属性传值\u003c/h4\u003e\n    \u003ch4\u003einfo: {{ info }}\u003c/h4\u003e\n    \u003ch4\u003econstv: {{ constv }}\u003c/h4\u003e\n  \u003c/div\u003e\n  \u003cdiv\u003e\n    \u003cbutton @click=\"add\"\u003e新增\u003c/button\u003e\n    \u003cbutton @click=\"del\"\u003e删除\u003c/button\u003e\n  \u003c/div\u003e\n  \u003cdiv\u003e\n    \u003ch4\u003e性别: {{ prop1 }}\u003c/h4\u003e\n    \u003ch4\u003e其他信息: {{ prop2 }}\u003c/h4\u003e\n  \u003c/div\u003e\n\u003c/template\u003e\n\n\u003cscript setup\u003e\nimport {ref, reactive} from 'vue'\nconst prop1 = ref('男')\nconst prop2 = reactive({\n  uname: '陈恒',\n  age: 88\n})\n\nimport {defineProps, defineEmits, defineExpose} from 'vue'\ndefineProps({\n  info: {\n    type: String,\n    default: '------'\n  },\n  constv: {\n    type: String,\n    default: '0'\n  }\n})\nconst myEmits = defineEmits(['myAdd', 'myDel'])\nconst add = () =\u003e myEmits('myAdd', '向父组件传递的新增数据')\nconst del = () =\u003e myEmits('myDel', '向父组件传递的删除数据')\ndefineExpose({ prop1, prop2 })\n\u003c/script\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240531125253-u0lhtdz","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw/\" data-src=\"/widgets/widget-excalidraw/\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 869px; height: 454px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240531130230-3214pzh","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","id":"20240531125253-u0lhtdz","updated":"20240531125253"}},{"ID":"20240531130244-ks39pw0","Type":"NodeParagraph","Properties":{"id":"20240531130244-ks39pw0"}}]}