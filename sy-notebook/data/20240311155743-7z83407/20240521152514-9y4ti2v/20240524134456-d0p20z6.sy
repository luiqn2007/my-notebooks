{"ID":"20240524134456-d0p20z6","Spec":"1","Type":"NodeDocument","Properties":{"icon":"vue.svg","id":"20240524134456-d0p20z6","title":"自定义指令","type":"doc","updated":"20240525021916"},"Children":[{"ID":"20240524134456-kaniuty","Type":"NodeParagraph","Properties":{"id":"20240524134456-kaniuty","updated":"20240525020214"},"Children":[{"Type":"NodeText","Data":"指令是 Vue 定义的 HTML 元素属性，使用 app 配置中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"directives"},{"Type":"NodeText","Data":"​ 块或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"app.directive"},{"Type":"NodeText","Data":"​ 注册自定义指令，作为局部指令或全局指令。"}]},{"ID":"20240525015040-xhrq7qg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240525015040-xhrq7qg","updated":"20240525015310"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"const app = Vue.createApp({\n    directives： {\n        \u003cattr\u003e: { option }\n    }\n})\napp.directive('\u003cattr\u003e', { option })\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240525015130-myqz62p","Type":"NodeList","ListData":{},"Properties":{"id":"20240525015130-myqz62p","updated":"20240525020953"},"Children":[{"ID":"20240525015318-92a00kv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015318-92a00kv","updated":"20240525020428"},"Children":[{"ID":"20240525015318-1crmd27","Type":"NodeParagraph","Properties":{"id":"20240525015318-1crmd27","updated":"20240525020428"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;attr\u0026gt;"},{"Type":"NodeText","Data":"​：指令名，即属性名，"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"不包含"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code strong","TextMarkTextContent":"v-"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"前缀"}]}]},{"ID":"20240525015409-8japwi1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015409-8japwi1","updated":"20240525020953"},"Children":[{"ID":"20240525015409-7bknpq2","Type":"NodeParagraph","Properties":{"id":"20240525015409-7bknpq2","updated":"20240525020518"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{ option }"},{"Type":"NodeText","Data":"​：指令选项，包含几个"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240521154703-rnl3t03","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"生命周期事件"},{"Type":"NodeText","Data":"的钩子函数，完整的参数列表包括 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"el"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"binding"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"vnode"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prevNode"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240525015607-dt257cx","Type":"NodeList","ListData":{},"Properties":{"id":"20240525015607-dt257cx","updated":"20240525020953"},"Children":[{"ID":"20240525015607-6amwjk4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015607-6amwjk4"},"Children":[{"ID":"20240525015607-qnhfkxy","Type":"NodeParagraph","Properties":{"id":"20240525015607-qnhfkxy","updated":"20240525015623"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"el"},{"Type":"NodeText","Data":"​：指令所在元素，可用于直接操作 DOM"}]}]},{"ID":"20240525015624-mvuj7o0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015624-mvuj7o0","updated":"20240525020953"},"Children":[{"ID":"20240525015624-85ivu8o","Type":"NodeParagraph","Properties":{"id":"20240525015624-85ivu8o","updated":"20240525015728"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"binding"},{"Type":"NodeText","Data":"​：指令相关参数，是一个对象 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{ value, oldValue, arg, modifiers }"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240525015814-kh0vzlu","Type":"NodeList","ListData":{},"Properties":{"id":"20240525015814-kh0vzlu","updated":"20240525020953"},"Children":[{"ID":"20240525015814-kcf6m74","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015814-kcf6m74","updated":"20240525015959"},"Children":[{"ID":"20240525015814-ukg1oct","Type":"NodeParagraph","Properties":{"id":"20240525015814-ukg1oct","updated":"20240525015959"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"value"},{"Type":"NodeText","Data":"​：指令绑定值，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v-my-directive=\u0026quot;1+1\u0026quot;"},{"Type":"NodeText","Data":"​ 的绑定值为 2"}]}]},{"ID":"20240525015817-jdpf1oz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015817-jdpf1oz","updated":"20240525020450"},"Children":[{"ID":"20240525015817-sy4rt7t","Type":"NodeParagraph","Properties":{"id":"20240525015817-sy4rt7t","updated":"20240525020450"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"oldValue"},{"Type":"NodeText","Data":"​：上一个绑定值，"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"仅"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"updated"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"钩子函数可用"}]}]},{"ID":"20240525015820-4pg14rr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015820-4pg14rr","updated":"20240525020953"},"Children":[{"ID":"20240525015820-hg4q3tq","Type":"NodeParagraph","Properties":{"id":"20240525015820-hg4q3tq","updated":"20240525020953"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"arg"},{"Type":"NodeText","Data":"​：指令参数，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v-my-directive:foo"},{"Type":"NodeText","Data":"​ 的参数为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026quot;foo\u0026quot;"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240525015822-swuwv84","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015822-swuwv84","updated":"20240525020057"},"Children":[{"ID":"20240525015822-plj1j7o","Type":"NodeParagraph","Properties":{"id":"20240525015822-plj1j7o","updated":"20240525020057"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"modifiers"},{"Type":"NodeText","Data":"​：指令修饰符，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"v-my-directive.foo.bar"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"modifiers"},{"Type":"NodeText","Data":"​ 为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{ foo=true, bar=true }"},{"Type":"NodeText","Data":"​"}]}]}]}]},{"ID":"20240525015729-ocgjzpo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015729-ocgjzpo"},"Children":[{"ID":"20240525015729-w6bbqec","Type":"NodeParagraph","Properties":{"id":"20240525015729-w6bbqec","updated":"20240525015755"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"vnode"},{"Type":"NodeText","Data":"​：Vue 编译生成的虚拟节点"}]}]},{"ID":"20240525015733-9zqrdi8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525015733-9zqrdi8","updated":"20240525020442"},"Children":[{"ID":"20240525015733-4eh3yy4","Type":"NodeParagraph","Properties":{"id":"20240525015733-4eh3yy4","updated":"20240525020442"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prevNode"},{"Type":"NodeText","Data":"​：上一个虚拟节点，"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"仅"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":"updated"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"钩子函数有效"}]}]}]}]}]},{"ID":"20240525021508-9flyo02","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240525021508-9flyo02","updated":"20240525021533"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cspan v-demo:msg.a.b=\"message\"\u003e\u003c/span\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240525021838-nnj8c3s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240525021838-nnj8c3s","updated":"20240525021912"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"app.directive('demo', {\n    beforeMount(el, binding, vnode) {\n        const keys = Object.keys(vnode)\n        el.innerHTML = `value: ${binding.value}\u003cbr\u003e\n                        arguments: ${binding.arg}\u003cbr\u003e\n                        modifiers: ${JSON.stringify(binding.modifiers)}\u003cbr\u003e\n                        vnodes: ${keys.join(', ')}`\n    }\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240525021907-2fczkt6","Type":"NodeSuperBlock","Properties":{"id":"20240525021907-2fczkt6","updated":"20240525021907"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240525021540-oq1aohu","Type":"NodeList","ListData":{},"Properties":{"id":"20240525021540-oq1aohu","updated":"20240525021907"},"Children":[{"ID":"20240525021552-inddzfi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021552-inddzfi","updated":"20240525021552"},"Children":[{"ID":"20240525021552-g2oto3e","Type":"NodeParagraph","Properties":{"id":"20240525021552-g2oto3e","updated":"20240525021607"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;attr\u0026gt;"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"demo"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240525021559-975eiso","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021559-975eiso"},"Children":[{"ID":"20240525021559-af1gm85","Type":"NodeParagraph","Properties":{"id":"20240525021559-af1gm85","updated":"20240525021637"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"el"},{"Type":"NodeText","Data":"​：实际生成的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"span"},{"Type":"NodeText","Data":"​ 标签"}]}]},{"ID":"20240525021628-y82lp4f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021628-y82lp4f"},"Children":[{"ID":"20240525021628-2vzqo2d","Type":"NodeParagraph","Properties":{"id":"20240525021628-2vzqo2d","updated":"20240525021657"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"binding.value"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Hello"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240525021657-4lw6heb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021657-4lw6heb"},"Children":[{"ID":"20240525021657-g4wtvg2","Type":"NodeParagraph","Properties":{"id":"20240525021657-g4wtvg2","updated":"20240525021750"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"binding.arg"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"msg"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240525021750-cyvd6qj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021750-cyvd6qj"},"Children":[{"ID":"20240525021750-zvhdoqd","Type":"NodeParagraph","Properties":{"id":"20240525021750-zvhdoqd","updated":"20240525021808"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"binding.modifiers"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{\u0026quot;a\u0026quot;:true,\u0026quot;b\u0026quot;:true}"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240525021809-c5pl8rt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240525021809-c5pl8rt","updated":"20240525021824"},"Children":[{"ID":"20240525021809-k6in0bq","Type":"NodeParagraph","Properties":{"id":"20240525021809-k6in0bq","updated":"20240525021824"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"vnodes"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{ ... }"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240525021904-vu5bmsk","Type":"NodeParagraph","Properties":{"id":"20240525021904-vu5bmsk","updated":"20240525021907"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240525021904-hfonywo.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240525021916-xe4ykpn","Type":"NodeParagraph","Properties":{"id":"20240525021916-xe4ykpn"}}]}