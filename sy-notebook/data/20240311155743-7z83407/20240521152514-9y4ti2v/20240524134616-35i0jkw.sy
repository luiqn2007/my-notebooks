{"ID":"20240524134616-35i0jkw","Spec":"1","Type":"NodeDocument","Properties":{"icon":"vue.svg","id":"20240524134616-35i0jkw","title":"Vuex","type":"doc","updated":"20240531020617"},"Children":[{"ID":"20240524134616-dzpqa13","Type":"NodeParagraph","Properties":{"id":"20240524134616-dzpqa13","updated":"20240530203113"},"Children":[{"Type":"NodeText","Data":"Vuex 是一个专为 Vue.js 应用开发的状态管理模式，采取集中式管理应用所有组件的状态，并指定状态变化规则。"}]},{"ID":"20240530203116-yu0dt39","Type":"NodeList","ListData":{},"Properties":{"id":"20240530203116-yu0dt39","updated":"20240530203117"},"Children":[{"ID":"20240530203117-k9y8yf6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240530203117-k9y8yf6","updated":"20240530203117"},"Children":[{"ID":"20240530203117-50gytzy","Type":"NodeParagraph","Properties":{"id":"20240530203117-50gytzy","updated":"20240530203144"},"Children":[{"Type":"NodeText","Data":"状态：state，数据源，即应用中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"data"},{"Type":"NodeText","Data":"​ 块"}]}]},{"ID":"20240530203119-6np4md9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240530203119-6np4md9"},"Children":[{"ID":"20240530203119-dq3imx4","Type":"NodeParagraph","Properties":{"id":"20240530203119-dq3imx4","updated":"20240530203219"},"Children":[{"Type":"NodeText","Data":"视图：view，以声明方式将状态映射到视图，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{{ count }}"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240530203123-oocxtfd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240530203123-oocxtfd"},"Children":[{"ID":"20240530203123-jv1a8ym","Type":"NodeParagraph","Properties":{"id":"20240530203123-jv1a8ym","updated":"20240530203304"},"Children":[{"Type":"NodeText","Data":"操作：action，响应用户视图操作造成的状态变化，即组件中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"methods"},{"Type":"NodeText","Data":"​ 块"}]}]}]},{"ID":"20240530203320-exw2iiy","Type":"NodeParagraph","Properties":{"id":"20240530203320-exw2iiy","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240530203409"},"Children":[{"Type":"NodeText","Data":"单向数据流：数据流仅以视图 -\u003e 状态 -\u003e 操作 -\u003e 视图的方向流动"}]},{"ID":"20240530212729-lq6rzz6","Type":"NodeSuperBlock","Properties":{"id":"20240530212729-lq6rzz6","updated":"20240530212729"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240530204102-to6lyub","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240530204102-to6lyub","updated":"20240530212729"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003ctitle\u003eDocument\u003c/title\u003e\n    \u003cscript src=\"../../js/vue.global.js\"\u003e\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003cdiv id=\"counter\"\u003e\n        {{ counter }}\n        \u003cbutton @click=\"increment\"\u003e+\u003c/button\u003e\n    \u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240530212632-22eb7zm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240530212632-22eb7zm","updated":"20240530212729"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"Vue.createApp({\n    data() {\n        return {\n            counter: 0\n        }\n    },\n    methods: {\n        increment() {\n            this.counter++\n        }\n    }\n}).mount('#counter')\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240530204107-epz5jgc","Type":"NodeParagraph","Properties":{"id":"20240530204107-epz5jgc","updated":"20240530204219"},"Children":[{"Type":"NodeText","Data":"上面代码便是一个典型的单向数据流应用。"}]},{"ID":"20240530204224-uowp7c0","Type":"NodeList","ListData":{},"Properties":{"id":"20240530204224-uowp7c0","updated":"20240530204333"},"Children":[{"ID":"20240530204224-axydlqu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240530204224-axydlqu","updated":"20240530204224"},"Children":[{"ID":"20240530204224-wfqusy3","Type":"NodeParagraph","Properties":{"id":"20240530204224-wfqusy3","updated":"20240530204232"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"data.counter"},{"Type":"NodeText","Data":"​ 是状态，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"increment()"},{"Type":"NodeText","Data":"​ 是操作，页面中 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{{counter}}"},{"Type":"NodeText","Data":"​ 是视图"}]}]},{"ID":"20240530204232-r7b8831","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240530204232-r7b8831","updated":"20240530204333"},"Children":[{"ID":"20240530204232-bwe7994","Type":"NodeParagraph","Properties":{"id":"20240530204232-bwe7994","updated":"20240530204333"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"counter"},{"Type":"NodeText","Data":"​ 在视图上显示，被按钮通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"increment"},{"Type":"NodeText","Data":"​ 操作修改状态，之后重新显示到视图上"}]}]}]},{"ID":"20240530203410-2314b50","Type":"NodeParagraph","Properties":{"id":"20240530203410-2314b50","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240530203532"},"Children":[{"Type":"NodeText","Data":"应用场景：管理被多个组件共同使用的变量，如登录状态等"}]},{"ID":"20240530203533-r977960","Type":"NodeParagraph","Properties":{"id":"20240530203533-r977960","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240531015058"},"Children":[{"Type":"NodeText","Data":".Vuex 也是 JS 的一个模块，可以通过独立 js 文件、NPM、CDN 或 Vue CLI 添加"}]},{"ID":"20240530204448-iii9fzt","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240530204448-iii9fzt","updated":"20240531020617"},"Children":[{"ID":"20240530210338-3sb06wn","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240530210338-3sb06wn","updated":"20240531020617"},"Children":[{"ID":"20240530210338-tp407do","Type":"NodeParagraph","Properties":{"id":"20240530210338-tp407do","updated":"20240530210447"},"Children":[{"Type":"NodeText","Data":"导入并创建仓库 store，通常在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/src/store/index.js"},{"Type":"NodeText","Data":"​ 中配置"}]},{"ID":"20240531015145-y7yygzp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531015145-y7yygzp","updated":"20240531020617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { createStore } from 'vuex'\n\nexport default createStore({\n  // 状态，对应 data\n  state: { ... },\n  // 计算属性，对应 computed\n  getters: { ... },\n  // 更新 state 状态（同步操作），对应 methods 同步方法\n  mutations: { ... },\n  // 提交 state 状态（异步操作），对应 methods 异步方法\n  actions: { ... },\n  // 多模块 state\n  modules: { ... }\n})\n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240530210349-4lweclz","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240530210349-4lweclz","updated":"20240531015512"},"Children":[{"ID":"20240530210349-kg2rplo","Type":"NodeParagraph","Properties":{"id":"20240530210349-kg2rplo","updated":"20240530210504"},"Children":[{"Type":"NodeText","Data":"在 Vue.js 中调用 Vuex，通常在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"src/main.js"},{"Type":"NodeText","Data":"​ 中"}]},{"ID":"20240531015510-pm6w56o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531015510-pm6w56o","updated":"20240531015512"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { createApp } from 'vue'\nimport App from './App.vue'\nimport store from './store'\n\ncreateApp(App).use(store).mount('#app')\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240530210510-b4xp96k","Type":"NodeParagraph","Properties":{"id":"20240530210510-b4xp96k","updated":"20240531015845"},"Children":[{"Type":"NodeText","Data":"Vuex 的核心是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store"},{"Type":"NodeText","Data":"​，实质上就是一个容器，包含应用中的大部分状态。使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store"},{"Type":"NodeText","Data":"​ 替代全局对象的优势为："}]},{"ID":"20240531015846-oy9zdpw","Type":"NodeList","ListData":{},"Properties":{"id":"20240531015846-oy9zdpw","updated":"20240531020000"},"Children":[{"ID":"20240531015846-r6kibzw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531015846-r6kibzw","updated":"20240531015846"},"Children":[{"ID":"20240531015846-44tnhjh","Type":"NodeParagraph","Properties":{"id":"20240531015846-44tnhjh","updated":"20240531015924"},"Children":[{"Type":"NodeText","Data":"Vuex 状态是响应式的，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store"},{"Type":"NodeText","Data":"​ 状态发生变化时 Vue 实例组件也会高效更新"}]}]},{"ID":"20240531015924-hvf2jp7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531015924-hvf2jp7","updated":"20240531020000"},"Children":[{"ID":"20240531015924-7yzyoy9","Type":"NodeParagraph","Properties":{"id":"20240531015924-7yzyoy9","updated":"20240531020000"},"Children":[{"Type":"NodeText","Data":"用户不能直接更新 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store"},{"Type":"NodeText","Data":"​ 中的状态，需要显示提交 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mutation"},{"Type":"NodeText","Data":"​ 以便跟踪每个状态变化"}]}]}]}]}