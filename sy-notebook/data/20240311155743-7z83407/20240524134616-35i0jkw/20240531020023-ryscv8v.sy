{"ID":"20240531020023-ryscv8v","Spec":"1","Type":"NodeDocument","Properties":{"icon":"vue.svg","id":"20240531020023-ryscv8v","title":"getters","type":"doc","updated":"20240531112730"},"Children":[{"ID":"20240531020023-vppo1h8","Type":"NodeParagraph","Properties":{"id":"20240531020023-vppo1h8","updated":"20240531033201"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeText","Data":"​ 属性可以从 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store.state"},{"Type":"NodeText","Data":"​ 中派生出一些状态，即全局共享的计算属性。"}]},{"ID":"20240531105716-mqc9f3h","Type":"NodeParagraph","Properties":{"id":"20240531105716-mqc9f3h","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240531110944"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 函数接收 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"state, getters"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 参数用于访问其他参数"}]},{"ID":"20240531033203-6apprsr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531033203-6apprsr","updated":"20240531105838"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    todos: [\n      { id: 1, text: '...', done: true },\n      { id: 2, text: '...', done: false },\n    ]\n  },\n  getters: {\n    doneTodos(state) {\n      return state.todos.filter(todo =\u003e todo.done)\n    }\n  }\n})\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240531102608-2bch65w","Type":"NodeParagraph","Properties":{"id":"20240531102608-2bch65w","updated":"20240531110007"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeText","Data":"​ 也可以返回一个函数，这时可以作为一个普通函数使用"}]},{"ID":"20240531110007-hgfwl9s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531110007-hgfwl9s","updated":"20240531110214"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"getters: {\n  getTodoById(state) {\n    return id =\u003e state.todos.find(todo =\u003e todo.id === id)\n  }\n}\n\n// 使用\nstore.getters.getTodoById(1)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240531110216-ame801v","Type":"NodeParagraph","Properties":{"id":"20240531110216-ame801v","updated":"20240531110534"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeText","Data":"​ 也有对应的辅助创建函数 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mapGetters"},{"Type":"NodeText","Data":"​，用法与 "},{"Type":"NodeTextMark","TextMarkType":"block-ref code","TextMarkBlockRefID":"20240531030211-cusyo6n","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"mapState"},{"Type":"NodeText","Data":"​ 类似，将 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"store"},{"Type":"NodeText","Data":"​ 中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeText","Data":"​ 映射到局部属性 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"computed"},{"Type":"NodeText","Data":"​ 中"}]},{"ID":"20240531112338-cd1ug2n","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240531112338-cd1ug2n","updated":"20240531112730"},"Children":[{"Type":"NodeText","Data":"例：使用 getters"}]},{"ID":"20240531112614-6c1u13m","Type":"NodeParagraph","Properties":{"id":"20240531112614-6c1u13m","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240531112654"},"Children":[{"Type":"NodeText","Data":"本例承接 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"state"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​ 与计算属性中的"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240531031630-t386u75","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"例子"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"}]},{"ID":"20240531112730-casft7a","Type":"NodeList","ListData":{},"Properties":{"id":"20240531112730-casft7a","updated":"20240531112730"},"Children":[{"ID":"20240531112730-ljjvx34","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531112730-ljjvx34"},"Children":[{"ID":"20240531112710-zrqlpi9","Type":"NodeParagraph","Properties":{"id":"20240531112710-zrqlpi9","updated":"20240531112710"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"src/store/index.js"},{"Type":"NodeText","Data":"​ 中添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getters"},{"Type":"NodeText","Data":"​ 属性"}]},{"ID":"20240531110405-po9lri0","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531110405-po9lri0","updated":"20240531112600"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    bookPrice: 99.8,\n  },\n  getters: {\n    getBookPrice(state) {\n      return state.bookPrice\n    },\n    getThreeBookPrice(state, getters) {\n      return state.bookPrice + getters.getBookPrice * 2\n    },\n    getManyBookPrice(state) {\n      return count =\u003e state.bookPrice * count\n    }\n  }\n})\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240531112730-v1lod4o","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531112730-v1lod4o"},"Children":[{"ID":"20240531112715-s7azwlc","Type":"NodeParagraph","Properties":{"id":"20240531112715-s7azwlc","updated":"20240531112715"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"App.vue"},{"Type":"NodeText","Data":"​ 中添加到 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"computed"},{"Type":"NodeText","Data":"​ 中，直接映射的可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mapGetters"},{"Type":"NodeText","Data":"​ 简化"}]},{"ID":"20240531112146-re9zpsw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531112146-re9zpsw","updated":"20240531112553"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"import { mapGetters } from 'vuex'\n\nexport default {\n  name: 'App',\n  computed: {\n    getFiveBookPrice() {\n      return this.$store.getters.getManyBookPrice(5)\n    },\n    ...mapGetters(['getBookPrice', 'getThreeBookPrice'])\n  }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240531112730-csdiwiv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531112730-csdiwiv"},"Children":[{"ID":"20240531112720-1n8gh7f","Type":"NodeParagraph","Properties":{"id":"20240531112720-1n8gh7f","updated":"20240531112720"},"Children":[{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"App.vue"},{"Type":"NodeText","Data":"​ 模板部分调用"}]},{"ID":"20240531112246-r16xxt6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240531112246-r16xxt6","updated":"20240531112534"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003ctemplate\u003e\n  \u003cdiv\u003e\n    \u003ch3\u003e使用 getter: \u003c/h3\u003e\n    \u003ch3\u003e买一本需要花的钱：{{ $store.getters.getBookPrice }}\u003c/h3\u003e\n    \u003ch3\u003e买三本需要花的钱：{{ $store.getters.getThreeBookPrice }}\u003c/h3\u003e\n    \u003ch3\u003e买五本需要花的钱：{{ $store.getters.getManyBookPrice(5) }}\u003c/h3\u003e\n    \u003ch3\u003e买一本需要花的钱：{{ getBookPrice }}\u003c/h3\u003e\n    \u003ch3\u003e买三本需要花的钱：{{ getThreeBookPrice }}\u003c/h3\u003e\n    \u003ch3\u003e买五本需要花的钱：{{ getFiveBookPrice }}\u003c/h3\u003e\n  \u003c/div\u003e\n\u003c/template\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240531112730-9ntcmmh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240531112730-9ntcmmh","updated":"20240531112731"},"Children":[{"ID":"20240531112320-n51fb5s","Type":"NodeParagraph","Properties":{"id":"20240531112320-n51fb5s","updated":"20240531112731"}}]}]}]}