{"ID":"20240513184625-e92yzma","Spec":"1","Type":"NodeDocument","Properties":{"icon":"jinja2.webp","id":"20240513184625-e92yzma","title":"Jinja2","type":"doc","updated":"20240513185136"},"Children":[{"ID":"20240513184929-7bcipf2","Type":"NodeParagraph","Properties":{"id":"20240513184929-7bcipf2","updated":"20240513184929"},"Children":[{"Type":"NodeText","Data":"Python 模板库，可用于网页生成时将网页逻辑与具体数据分离，类似更复杂的字符串模板"}]},{"ID":"20240513184929-r8bvzb9","Type":"NodeList","ListData":{},"Properties":{"id":"20240513184929-r8bvzb9","updated":"20240513184929"},"Children":[{"ID":"20240513184929-m3rwspo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184929-m3rwspo","updated":"20240513184929"},"Children":[{"ID":"20240513184929-7clwgf7","Type":"NodeParagraph","Properties":{"id":"20240513184929-7clwgf7","updated":"20240513184929"},"Children":[{"Type":"NodeText","Data":"相比 Template：更加灵活，提供控制语句、表达式、继承等"}]}]},{"ID":"20240513184929-xaa969j","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184929-xaa969j","updated":"20240513184929"},"Children":[{"ID":"20240513184929-moq26j2","Type":"NodeParagraph","Properties":{"id":"20240513184929-moq26j2","updated":"20240513184929"},"Children":[{"Type":"NodeText","Data":"相比 Mako：仅有控制语句，不允许编写太多业务逻辑"}]}]},{"ID":"20240513184929-63sy4na","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513184929-63sy4na","updated":"20240513184929"},"Children":[{"ID":"20240513184929-73v0kvv","Type":"NodeParagraph","Properties":{"id":"20240513184929-73v0kvv","updated":"20240513184929"},"Children":[{"Type":"NodeText","Data":"相比 Django：性能更好"}]}]}]},{"ID":"20240513184929-c1cb5o5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513184929-c1cb5o5","updated":"20240513184929"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"pip3 install jinja2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-5iizvkl","Type":"NodeParagraph","Properties":{"id":"20240513185106-5iizvkl","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"Python 模板库，可用于网页生成时将网页逻辑与具体数据分离，类似更复杂的字符串模板"}]},{"ID":"20240513185106-ag20mds","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-ag20mds","updated":"20240513185106"},"Children":[{"ID":"20240513185106-jvrh0xa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-jvrh0xa","updated":"20240513185106"},"Children":[{"ID":"20240513185106-8qim5ab","Type":"NodeParagraph","Properties":{"id":"20240513185106-8qim5ab","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"相比 Template：更加灵活，提供控制语句、表达式、继承等"}]}]},{"ID":"20240513185106-mtky3j4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-mtky3j4","updated":"20240513185106"},"Children":[{"ID":"20240513185106-5hszk8l","Type":"NodeParagraph","Properties":{"id":"20240513185106-5hszk8l","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"相比 Mako：仅有控制语句，不允许编写太多业务逻辑"}]}]},{"ID":"20240513185106-yi5bykh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-yi5bykh","updated":"20240513185106"},"Children":[{"ID":"20240513185106-p1e65w6","Type":"NodeParagraph","Properties":{"id":"20240513185106-p1e65w6","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"相比 Django：性能更好"}]}]}]},{"ID":"20240513185106-3l1t3ds","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-3l1t3ds","updated":"20240513185106"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"pip3 install jinja2\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-2d8v1bn","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513185106-2d8v1bn","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"模板"}]},{"ID":"20240513185106-lq83qip","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513185106-lq83qip","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"注释"}]},{"ID":"20240513185106-sh37nv8","Type":"NodeParagraph","Properties":{"id":"20240513185106-sh37nv8","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"注释格式："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{# 注释内容 #}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513185106-t88ip1v","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513185106-t88ip1v","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"输出"}]},{"ID":"20240513185106-ctatdxy","Type":"NodeParagraph","Properties":{"id":"20240513185106-ctatdxy","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"在模板中直接使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{{ 变量名 }}"},{"Type":"NodeText","Data":"​ 即可将变量的值替换到此处。"}]},{"ID":"20240513185106-5isp0sm","Type":"NodeParagraph","Properties":{"id":"20240513185106-5isp0sm","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"事实上这里变量名可以是任何一个表达式，包括变量自带的属性、运算、方法等"}]},{"ID":"20240513185106-ua2fohw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-ua2fohw","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"\u003cp\u003e普通变量：{{ 变量名 }}\u003c/p\u003e\n\u003cp\u003e属性：{{ 变量名.属性名 }}\u003c/p\u003e\n\u003cp\u003e方法：{{ 变量名.方法名() }}\u003c/p\u003e\n\u003cp\u003e字典：{{ 变量名['key'] }}\u003c/p\u003e\n\u003cp\u003e列表：{{ 变量名[2] }}\u003c/p\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-wm7zozs","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240513185106-wm7zozs","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"过滤器"}]},{"ID":"20240513185106-k0v3kwx","Type":"NodeParagraph","Properties":{"id":"20240513185106-k0v3kwx","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"Jinja2 自带了一系列方法，称为"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"过滤器"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240513185106-d9082a7","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-d9082a7","updated":"20240513185107"},"Children":[{"ID":"20240513185106-34dpbk9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-34dpbk9","updated":"20240513185106"},"Children":[{"ID":"20240513185106-z687td3","Type":"NodeParagraph","Properties":{"id":"20240513185106-z687td3","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"对字符串："}]}]}]},{"ID":"20240513185106-uc0w279","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|","id":"20240513185106-uc0w279","updated":"20240513185106"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"名称"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"safe"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"对字符串不进行转义"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"escape"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"对给定字符串进行转义"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"capitialize"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"首字母大写，其余小写"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"lower"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"全小写"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"upper"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"全大写"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"title"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"每个单词首字母大写，其余小写"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"trim"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"去除首尾空格"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"striptags"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"删除所有 HTML 标签"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"join"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"拼接字符串"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"replace"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"替换"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"format(*arg, **args)"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"格式化字符串"}]}]}]},{"ID":"20240513185106-rj5oft1","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-rj5oft1","updated":"20240513185107"},"Children":[{"ID":"20240513185106-w3t3ic5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-w3t3ic5","updated":"20240513185106"},"Children":[{"ID":"20240513185106-tm7sus1","Type":"NodeParagraph","Properties":{"id":"20240513185106-tm7sus1","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"对数字："}]}]}]},{"ID":"20240513185106-57t5ofp","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|width: 836px;","id":"20240513185106-57t5ofp","updated":"20240513185106"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"名称"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"round"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"对数字四舍五入"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"int"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"将给定值转换为整形"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"abs"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"绝对值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"filesizeformat(bin=False)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"将给定数字格式化成易读的大小字符串（KB，MB等），参数为 True 时为 1024 进制"}]}]}]},{"ID":"20240513185106-yvhb3zw","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-yvhb3zw","updated":"20240513185107"},"Children":[{"ID":"20240513185106-yshq3b3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-yshq3b3","updated":"20240513185106"},"Children":[{"ID":"20240513185106-1aftr62","Type":"NodeParagraph","Properties":{"id":"20240513185106-1aftr62","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"其他"}]}]}]},{"ID":"20240513185106-0p1osjv","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|","id":"20240513185106-0p1osjv","updated":"20240513185106"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"名称"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"default(value)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当变量未定义时使用默认值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"first, last"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"列表第一个/最后一个元素"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"groupby(attr, def=None)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"根据 attr 属性将序列折叠成字典"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"max, min"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"列表中元素的最大 最小值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"random"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"列表中的一个随机值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"reject(cond), select(cond)"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"根据条件过滤/选择列表中的值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"rejectattr/selectattr(*attr, **attrs)"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"根据变量过滤/选择列表中的值"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"reverse"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"将序列逆序"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"sort"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"对序列排序"}]}]}]},{"ID":"20240513185106-hj6zg85","Type":"NodeParagraph","Properties":{"id":"20240513185106-hj6zg85","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"使用过滤器时需要用管道运算符 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"|"},{"Type":"NodeText","Data":"​ 调用，需要传入其他参数时用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"()"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513185106-swj2cm8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-swj2cm8","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{# 首字母大写 -\u003e Abc #}\n{{ 'abc' | captialize }}\n{# 对 18.5 先四舍五入后取整 -\u003e 19 #}\n{{ 18.5 | round | int }}\n{# 将 world 替换为 daxin -\u003e hello daxin  #}\n{{ 'hello world' | replace('world', 'daxin') }}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-0hqmkir","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513185106-0hqmkir","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"控制语句"}]},{"ID":"20240513185106-n2g0u02","Type":"NodeParagraph","Properties":{"id":"20240513185106-n2g0u02","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"控制语句使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{% %}"},{"Type":"NodeText","Data":"​ 表示控制语句，并带有一个结束语句（如 if 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{% endif %}"},{"Type":"NodeText","Data":"​）"}]},{"ID":"20240513185106-zwesx3w","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240513185106-zwesx3w","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"if"}]},{"ID":"20240513185106-ktglxmm","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-ktglxmm","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{% if 条件1 %}\n模板1\n{% elif 条件2 %}\n模板2\n{# 可以有任意个 elif，最多一个 else #}\n{% else %}\n其他模板\n{% endif %}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-56cagbk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240513185106-56cagbk","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"for"}]},{"ID":"20240513185106-chyro47","Type":"NodeParagraph","Properties":{"id":"20240513185106-chyro47","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"用于迭代 Python 的列表、元组、字典等，可以有一个 else 在循环完后调用"}]},{"ID":"20240513185106-l6ov9iz","Type":"NodeParagraph","Properties":{"id":"20240513185106-l6ov9iz","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"遍历列表、元组等可迭代对象："}]},{"ID":"20240513185106-b7tjjeh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-b7tjjeh","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{% for v in values %}\n模板\n{% else %}\n循环完成\n{% endfor %}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-656auv1","Type":"NodeParagraph","Properties":{"id":"20240513185106-656auv1","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"遍历字典："}]},{"ID":"20240513185106-gunnwdr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-gunnwdr","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{% for k, v in dict %}\n模板\n{% else %}\n循环完成\n{% endfor %}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-aqx0bqm","Type":"NodeParagraph","Properties":{"id":"20240513185106-aqx0bqm","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"特殊变量"}]},{"ID":"20240513185106-1jforwz","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"|","id":"20240513185106-1jforwz","updated":"20240513185107"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"名称"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"作用"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.index"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前索引（从 1 开始）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.index0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前索引（从 0 开始）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.first"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"bool，是否是第一个元素"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.last"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"bool，是否是最后一个元素"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.length"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"所有元素数量"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.revindex"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"到循环结束的次数（从 1 开始）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"loop.revindex0"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"到循环结束的次数（从 0 开始）"}]}]}]},{"ID":"20240513185106-5pzg1ez","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240513185106-5pzg1ez","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"宏"}]},{"ID":"20240513185106-rgj9ag3","Type":"NodeParagraph","Properties":{"id":"20240513185106-rgj9ag3","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"宏类似于 Python 的函数"}]},{"ID":"20240513185106-zbd8w2m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-zbd8w2m","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{% macro 宏名(参数列表，支持默认参数值) %}\n模板内容\n{% endmacro %}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-zk8rmv7","Type":"NodeParagraph","Properties":{"id":"20240513185106-zk8rmv7","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"使用时就像一般函数调用即可"}]},{"ID":"20240513185106-wmib41s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-wmib41s","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{{ 宏名(参数) }}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-jh6b2c8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513185106-jh6b2c8","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"继承"}]},{"ID":"20240513185106-r07c2pv","Type":"NodeParagraph","Properties":{"id":"20240513185106-r07c2pv","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"模板继承允许模板之间建立继承关系，定义一个基本骨架模板，再在其他模板中填充。"}]},{"ID":"20240513185106-yqxysl9","Type":"NodeParagraph","Properties":{"id":"20240513185106-yqxysl9","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"父模板中，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{% block 名称 %}  {% endblock %}"},{"Type":"NodeText","Data":"​ 定义块级替换区域，子模板需要替换这些块"}]},{"ID":"20240513185106-p5yrlvf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-p5yrlvf","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{# 父模板 #}\n{# 以 HTML 模板为例 #}\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\t{% block head %}\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003ctitle\u003e{% block title %}{% endblock %}\u003c/title\u003e\n\t{% endblock %}\n\u003c/head\u003e\n\u003cbody\u003e\n{% block body %}\n{% endblock %}\n\u003c/body\u003e\n\u003c/html\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-jz6e082","Type":"NodeParagraph","Properties":{"id":"20240513185106-jz6e082","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"以上模板定义了三个块 - head，title 和 body。其中 head 块之间又有内容。"}]},{"ID":"20240513185106-lq91ah3","Type":"NodeParagraph","Properties":{"id":"20240513185106-lq91ah3","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"子模板使用时，先使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;% extend \u0026quot;父模板路径\u0026quot; %\u0026gt;"},{"Type":"NodeText","Data":"​ 引入父模板，之后使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{% block 块名 %}"},{"Type":"NodeText","Data":"​ 替换内容"}]},{"ID":"20240513185106-t5829iz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-t5829iz","updated":"20240513185136"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{# 假设父模板为 \"html_template.html\" #}\n{% extends \"html_template.html\" %}\n{# 替换 title 块 #}\n{% block title %}网页标题啊{% endblock %}\n{# 替换 head 块 #}\n{% block head %}\n    {# 引入原 head 块中的内容 #}\n    {{ super() }}\n    \u003cstyle\u003e\n        .important { color: #FFFFFF }\n    \u003c/style\u003e\n{% endblock %}\n{# 替换 body 块 #}\n{% block body %}网页内容啊{% endblock %}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-fiq244z","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240513185106-fiq244z","updated":"20240513185107"},"Children":[{"Type":"NodeText","Data":"其他"}]},{"ID":"20240513185106-14aeqh4","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-14aeqh4","updated":"20240513185107"},"Children":[{"ID":"20240513185106-riuf20z","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-riuf20z","updated":"20240513185106"},"Children":[{"ID":"20240513185106-1fyn0zm","Type":"NodeParagraph","Properties":{"id":"20240513185106-1fyn0zm","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"加载静态资源文件："}]},{"ID":"20240513185106-pv07i7n","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-pv07i7n","updated":"20240513185106"},"Children":[{"ID":"20240513185106-lfbk6h9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-lfbk6h9","updated":"20240513185106"},"Children":[{"ID":"20240513185106-u0vzua2","Type":"NodeParagraph","Properties":{"id":"20240513185106-u0vzua2","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"资源一般位于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"项目目录/static"},{"Type":"NodeText","Data":"​ 目录下"}]}]},{"ID":"20240513185106-uv52f4h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-uv52f4h","updated":"20240513185106"},"Children":[{"ID":"20240513185106-i6rti41","Type":"NodeParagraph","Properties":{"id":"20240513185106-i6rti41","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"模板中，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"{{ url_for('static', filename='资源文件相对地址') }}"},{"Type":"NodeText","Data":"​ 获取其 URL"}]}]}]}]}]},{"ID":"20240513185106-vjkxb7p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-vjkxb7p","updated":"20240513185107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amluamEy"},{"Type":"NodeCodeBlockCode","Data":"{# 导入 项目目录/static/images/pic.png 图片 #}\n\u003cimg src=\"{{ url_for('static', filename='images/pic.png') }}\"\u003e\u003c/img\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-0aggi35","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513185106-0aggi35","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"渲染"}]},{"ID":"20240513185106-mgcrebb","Type":"NodeParagraph","Properties":{"id":"20240513185106-mgcrebb","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"渲染，即加载模板文件，再根据传入变量生成字符串的过程。"}]},{"ID":"20240513185106-taaz25v","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513185106-taaz25v","updated":"20240513185106"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cHl0aG9u"},{"Type":"NodeCodeBlockCode","Data":"from jinja2 import PackageLoader,Environment\n# 初始化环境, loader 可选 PackageLoader 或 FileSystemLoader\nenv = Environment(loader=PackageLoader('包名','模板所在相对目录'))\n# 创建模板生成器\ntemplate = env.get_template('模板文件名')\n# 渲染\ntemplate.render(参数列表)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513185106-gn8gobq","Type":"NodeList","ListData":{},"Properties":{"id":"20240513185106-gn8gobq","updated":"20240513185106"},"Children":[{"ID":"20240513185106-wl54win","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-wl54win","updated":"20240513185106"},"Children":[{"ID":"20240513185106-ycdolai","Type":"NodeParagraph","Properties":{"id":"20240513185106-ycdolai","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"PackageLoader：以给定包名所在位置为起点"}]}]},{"ID":"20240513185106-rgr4tlu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513185106-rgr4tlu","updated":"20240513185106"},"Children":[{"ID":"20240513185106-h5xoifo","Type":"NodeParagraph","Properties":{"id":"20240513185106-h5xoifo","updated":"20240513185106"},"Children":[{"Type":"NodeText","Data":"FileSystemLoader：通过绝对路径访问本地文件查找"}]}]}]}]}