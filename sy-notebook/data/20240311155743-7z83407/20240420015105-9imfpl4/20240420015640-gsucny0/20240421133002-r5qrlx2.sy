{"ID":"20240421133002-r5qrlx2","Spec":"1","Type":"NodeDocument","Properties":{"icon":"thymeleaf.png","id":"20240421133002-r5qrlx2","title":"模板解析器 TemplateResolver","type":"doc","updated":"20240422042405"},"Children":[{"ID":"20240421133039-4w4yq3q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240421133039-4w4yq3q","updated":"20240421133242"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"WebApplicationTemplateResolver templateResolver = new WebApplicationTemplateResolver(applicationContext);\ntemplateResolver.setPrefix(\"/templates\");\ntemplateResolver.setSuffix(\".html\");\ntemplateResolver.setTemplateMode(TemplateMode.HTML);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240421133208-9wbpx5t","Type":"NodeParagraph","Properties":{"id":"20240421133208-9wbpx5t","updated":"20240421133823"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"TemplateResolver"},{"Type":"NodeText","Data":"​ 需要一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"IWebApplication"},{"Type":"NodeText","Data":"​ 应用程序上下文。Thymeleaf 默认内置了 JavaEE 和 Spring 的支持："}]},{"ID":"20240421133632-vbp3sfw","Type":"NodeList","ListData":{},"Properties":{"id":"20240421133632-vbp3sfw","updated":"20240421133812"},"Children":[{"ID":"20240421133633-8yzstep","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133633-8yzstep","updated":"20240421133633"},"Children":[{"ID":"20240421133633-xvvqjt5","Type":"NodeParagraph","Properties":{"id":"20240421133633-xvvqjt5","updated":"20240421133652"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JavaxServletWebApplication"},{"Type":"NodeText","Data":"​：基于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"javax.*"},{"Type":"NodeText","Data":"​ 的 JavaEE 支持"}]}]},{"ID":"20240421133652-l2dwv4i","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133652-l2dwv4i"},"Children":[{"ID":"20240421133652-zzr74gg","Type":"NodeParagraph","Properties":{"id":"20240421133652-zzr74gg","updated":"20240421133714"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"JakartaServletWebApplication"},{"Type":"NodeText","Data":"​：基于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"jakarta.*"},{"Type":"NodeText","Data":"​ 的 Jakarta 支持"}]}]},{"ID":"20240421133803-lm7ispp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133803-lm7ispp","updated":"20240421133812"},"Children":[{"ID":"20240421133803-wnc6hy8","Type":"NodeParagraph","Properties":{"id":"20240421133803-wnc6hy8","updated":"20240421133808"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpringResourceTemplateResolver"},{"Type":"NodeText","Data":"​：Spring Web 支持"}]}]},{"ID":"20240421133714-snb5uqg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133714-snb5uqg"},"Children":[{"ID":"20240421133714-0ww2ykb","Type":"NodeParagraph","Properties":{"id":"20240421133714-0ww2ykb","updated":"20240421133729"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SpringWebFluxWebApplication"},{"Type":"NodeText","Data":"​：Spring Webflux 框架支持"}]}]}]},{"ID":"20240421133024-q9pmceo","Type":"NodeParagraph","Properties":{"id":"20240421133024-q9pmceo","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"TemplateResolver"},{"Type":"NodeText","Data":"​ 用于设置该 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ITemplateEngine"},{"Type":"NodeText","Data":"​ 的路径（前后缀）和模式，这里使用的是 HTML。"}]},{"ID":"20240421133024-8k1xho1","Type":"NodeList","ListData":{},"Properties":{"id":"20240421133024-8k1xho1","updated":"20240421133024"},"Children":[{"ID":"20240421133024-wgwpi91","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-wgwpi91","updated":"20240421133024"},"Children":[{"ID":"20240421133024-ffatb8s","Type":"NodeParagraph","Properties":{"id":"20240421133024-ffatb8s","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"HTML："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"默认"},{"Type":"NodeText","Data":"。允许 HTML 或 XHTML 输入，不进行格式的正确性检查"}]}]},{"ID":"20240421133024-21uwe5q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-21uwe5q","updated":"20240421133024"},"Children":[{"ID":"20240421133024-0pn0vd6","Type":"NodeParagraph","Properties":{"id":"20240421133024-0pn0vd6","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"XML：允许 XML 输入，会检查格式良好、是否有未闭合标记、未引用属性，出错时解析器抛出异常"}]}]},{"ID":"20240421133024-jloe1qw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-jloe1qw","updated":"20240421133024"},"Children":[{"ID":"20240421133024-ds2y2fp","Type":"NodeParagraph","Properties":{"id":"20240421133024-ds2y2fp","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"TEXT：纯文本替换"}]}]},{"ID":"20240421133024-2akmogh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-2akmogh","updated":"20240421133024"},"Children":[{"ID":"20240421133024-btu77sx","Type":"NodeParagraph","Properties":{"id":"20240421133024-btu77sx","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"JAVASCRIPT：允许在 JS 脚本中使用模型数据，属于文本模式"}]}]},{"ID":"20240421133024-obye8yb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-obye8yb","updated":"20240421133024"},"Children":[{"ID":"20240421133024-tr6guf1","Type":"NodeParagraph","Properties":{"id":"20240421133024-tr6guf1","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"CSS：类似于 JS，使用文本模式"}]}]},{"ID":"20240421133024-fa8ps52","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240421133024-fa8ps52","updated":"20240421133024"},"Children":[{"ID":"20240421133024-ro7xv6j","Type":"NodeParagraph","Properties":{"id":"20240421133024-ro7xv6j","updated":"20240421133024"},"Children":[{"Type":"NodeText","Data":"RAW：不进行任何处理"}]}]}]},{"ID":"20240421134100-jjf61hu","Type":"NodeParagraph","Properties":{"id":"20240421134100-jjf61hu","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240421134242"},"Children":[{"Type":"NodeText","Data":"使用上面配置的 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"TemplateResolver"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 加载 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"/product/list"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 模板，相当于 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"applicationContext.getResource(\u0026quot;/templates/product/list.html\u0026quot;)"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240421133838-tkadwmr","Type":"NodeParagraph","Properties":{"id":"20240421133838-tkadwmr","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240421134336"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"TemplateResolver"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​​ 支持使用缓存。通过 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"code","TextMarkTextContent":"setCacheTTLMs"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":"​​ 设置 TTLM 属性"}]},{"ID":"20240422041642-n99c4sn","Type":"NodeParagraph","Properties":{"id":"20240422041642-n99c4sn","updated":"20240422041654"},"Children":[{"Type":"NodeText","Data":"其他解析器默认实现："}]},{"ID":"20240422041848-fb96zz4","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;|min-width: 60px;","id":"20240422041848-fb96zz4","updated":"20240422042048"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"解析器"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"加载方法（路径：template）"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ClassLoaderTemplateResolver"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"从类加载器加载模板"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"classLoader.getResourceAsStream(template)"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FileTemplateResolver"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"从给定文件加载模板"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"new FileInputStream(new File(template))"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"UrlTemplateResolver"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"解析为 URL 加载模板"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"(new URL(template)).openStream()"},{"Type":"NodeText","Data":"​"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"StringTemplateResolver"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"直接将模板名作为模板"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"new StringReader(template)"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]}]}]},{"ID":"20240422041703-ic7811o","Type":"NodeParagraph","Properties":{"id":"20240422041703-ic7811o","updated":"20240422042105"},"Children":[{"Type":"NodeText","Data":"其他常用参数："}]},{"ID":"20240422042105-legwb5i","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|min-width: 60px;","id":"20240422042105-legwb5i","updated":"20240422042405"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"方法"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"addTemplateAlias"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setTemplateAliases"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"允许使用别名，不直接使用文件名"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setCharacterEncoding"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"编码"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setCacheable"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"getCacheablePatternSpec"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"是否开启缓存，以及某个模板是否允许使用缓存"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"setCacheTTLMs"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"缓存 TTLM 属性（失效时间）"}]}]}]}]}