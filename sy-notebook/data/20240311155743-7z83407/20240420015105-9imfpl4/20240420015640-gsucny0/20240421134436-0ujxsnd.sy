{"ID":"20240421134436-0ujxsnd","Spec":"1","Type":"NodeDocument","Properties":{"icon":"thymeleaf.png","id":"20240421134436-0ujxsnd","title":"模板引擎 TemplateEngine","type":"doc","updated":"20240423112559"},"Children":[{"ID":"20240421134436-2nct8fv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240421134436-2nct8fv","updated":"20240421162002"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"TemplateEngine templateEngine = new TemplateEngine();\ntemplateEngine.setTemplateResolver(templateResolver);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240421134518-t1hpubt","Type":"NodeParagraph","Properties":{"id":"20240421134518-t1hpubt","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240421134741"},"Children":[{"Type":"NodeText","Data":"对于 Spring，可以使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"SpringTemplateEngine"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 并设置 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"setEnableSpringELCompiler(true)"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​。这将使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"block-ref","TextMarkBlockRefID":"20240330161615-1lh2aax","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"SpringEL"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":" 编译脚本并提高效率"}]},{"ID":"20240421134743-e5qggsf","Type":"NodeParagraph","Properties":{"id":"20240421134743-e5qggsf","updated":"20240421161608"},"Children":[{"Type":"NodeText","Data":"使用时，通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"process"},{"Type":"NodeText","Data":"​ 处理模板"}]},{"ID":"20240421161759-xeqar9k","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240421161759-xeqar9k","updated":"20240421161808"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"void process(IWebExchange webExchange, ITemplateEngine templateEngine, Writer writer) {\n    WebContext context = new WebContext(webExchange, webExchange.getLocale());\n    templateEngine.process(\"home\", context, writer);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422042422-h41au4j","Type":"NodeParagraph","Properties":{"id":"20240422042422-h41au4j","updated":"20240422043059"},"Children":[{"Type":"NodeText","Data":"一个模板引擎可以连接多个"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240421133002-r5qrlx2","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"模板解析器"},{"Type":"NodeText","Data":"，可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"TemplateResolver#setOrder"},{"Type":"NodeText","Data":"​ 设置优先级。"}]},{"ID":"20240422042905-co3sz2z","Type":"NodeParagraph","Properties":{"id":"20240422042905-co3sz2z","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240423111527"},"Children":[{"Type":"NodeText","Data":"当引擎中包含多个模板解析器时，处理某个模板会尝试使用所有匹配类型的解析器依次解析。"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"TemplateResolver#checkExistence"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 可以设置在选择解析器前是否检查能否查找到对应模板文件，但可能会出现性能问题。"}]},{"ID":"20240422043054-o8vps3x","Type":"NodeParagraph","Properties":{"id":"20240422043054-o8vps3x","updated":"20240423112559"},"Children":[{"Type":"NodeText","Data":"一个模板引擎可以连接多个消息解析器。消息解析器用于查找消息文件，实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"IMessageResolver"},{"Type":"NodeText","Data":"​ 接口，默认使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"StandardMessageResolver"},{"Type":"NodeText","Data":"​预处理字符串中的 _ 可以通过 _ 转义。"}]},{"ID":"20240423111326-em6832j","Type":"NodeParagraph","Properties":{"id":"20240423111326-em6832j","updated":"20240423111355"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"WebContext"},{"Type":"NodeText","Data":"​ 是一个模板"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240421131743-2awr1pk","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"上下文"},{"Type":"NodeText","Data":"，为模板引擎提供必要信息。"}]}]}