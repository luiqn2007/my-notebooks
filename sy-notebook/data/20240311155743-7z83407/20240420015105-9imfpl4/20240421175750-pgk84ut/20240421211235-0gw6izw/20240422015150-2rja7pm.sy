{"ID":"20240422015150-2rja7pm","Spec":"1","Type":"NodeDocument","Properties":{"icon":"thymeleaf.png","id":"20240422015150-2rja7pm","title":"参数化片段","type":"doc","updated":"20240422033308"},"Children":[{"ID":"20240422015238-6ee54w3","Type":"NodeParagraph","Properties":{"id":"20240422015238-6ee54w3","updated":"20240422015832"},"Children":[{"Type":"NodeText","Data":"片段支持外部传入参数变量"}]},{"ID":"20240422015909-l49ur18","Type":"NodeSuperBlock","Properties":{"id":"20240422015909-l49ur18","updated":"20240422021839"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240422015833-hi4m8rq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422015833-hi4m8rq","updated":"20240422021837"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cdiv th:fragment=\"frag (onevar,twovar)\"\u003e\n    \u003cp th:text=\"${onevar} + ' - ' + ${twovar}\"\u003e\u003c/p\u003e\n\u003c/div\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422015821-zi7dncf","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422015821-zi7dncf","updated":"20240422021839"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cdiv th:replace=\"~{ ::frag (${value1},${value2}) }\"\u003e\u003c/div\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240422015858-9cch4gm","Type":"NodeParagraph","Properties":{"id":"20240422015858-9cch4gm","updated":"20240422015951"},"Children":[{"Type":"NodeText","Data":"也可以使用参数名指定参数，此时不需要按声明的顺序写"}]},{"ID":"20240422015840-qyaf1f4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422015840-qyaf1f4","updated":"20240422015852"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cdiv th:replace=\"~{ ::frag (twovar=${value2},onevar=${value1}) }\"\u003e...\u003c/div\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422020008-hy3f6nz","Type":"NodeParagraph","Properties":{"id":"20240422020008-hy3f6nz","updated":"20240422021116"},"Children":[{"Type":"NodeText","Data":"对于没有参数的片段，也可以传入具名参数。此时，具名参数转换为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"th:with"},{"Type":"NodeText","Data":"​ 属性"}]},{"ID":"20240422021116-kv36xid","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422021116-kv36xid","updated":"20240422021817"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003cdiv th:fragment=\"frag\"\u003e\n\u003c!-- 相当于 \n\u003cdiv th:replace=\"~{::frag}\" \n     th:with=\"onevar=${value1},twovar=${value2}\"\u003e \n--\u003e\n\u003cdiv th:replace=\"~{::frag (onevar=${value1},twovar=${value2})}\"\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422021142-2b5mawb","Type":"NodeParagraph","Properties":{"id":"20240422021142-2b5mawb","updated":"20240422021929"},"Children":[{"Type":"NodeText","Data":"片段也可以作为参数传入片段中，因此可以有更灵活的组合片段模板"}]},{"ID":"20240422021930-14yurb5","Type":"NodeParagraph","Properties":{"id":"20240422021930-14yurb5","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240422033308"},"Children":[{"Type":"NodeText","Data":"可以使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code block-ref","TextMarkBlockRefID":"20240422033203-0lz4p9u","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"th:block"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​​ 标签作为占位符"}]},{"ID":"20240422021947-l90tol2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422021947-l90tol2","updated":"20240422021955"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003chead th:fragment=\"common_header(title,links)\"\u003e\n\n  \u003ctitle th:replace=\"${title}\"\u003eThe awesome application\u003c/title\u003e\n\n  \u003c!-- Common styles and scripts --\u003e\n  \u003clink rel=\"stylesheet\" type=\"text/css\" media=\"all\" th:href=\"@{/css/awesomeapp.css}\"\u003e\n  \u003clink rel=\"shortcut icon\" th:href=\"@{/images/favicon.ico}\"\u003e\n  \u003cscript type=\"text/javascript\" th:src=\"@{/sh/scripts/codebase.js}\"\u003e\u003c/script\u003e\n\n  \u003c!--/* Per-page placeholder for additional links */--\u003e\n  \u003cth:block th:replace=\"${links}\" /\u003e\n\n\u003c/head\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422022032-3bj1lq4","Type":"NodeParagraph","Properties":{"id":"20240422022032-3bj1lq4","updated":"20240422022155"},"Children":[{"Type":"NodeText","Data":"上面的片段中，引入了一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"title"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"links"},{"Type":"NodeText","Data":"​ 变量。在片段模板中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;title\u0026gt;"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;th:block\u0026gt;"},{"Type":"NodeText","Data":"​ 标签上使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"th:replace"},{"Type":"NodeText","Data":"​ 将模板标签替换为传入的片段"}]},{"ID":"20240422021956-15i78fr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422021956-15i78fr","updated":"20240422022003"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003chead th:replace=\"~{ base :: common_header(~{::title},~{::link}) }\"\u003e\n\n  \u003ctitle\u003eAwesome - Main\u003c/title\u003e\n\n  \u003clink rel=\"stylesheet\" th:href=\"@{/css/bootstrap.min.css}\"\u003e\n  \u003clink rel=\"stylesheet\" th:href=\"@{/themes/smoothness/jquery-ui.css}\"\u003e\n\n\u003c/head\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422022201-1d3m39j","Type":"NodeParagraph","Properties":{"id":"20240422022201-1d3m39j","updated":"20240422022402"},"Children":[{"Type":"NodeText","Data":"上面的使用中，我们将实际模板中的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;title\u0026gt;"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;link\u0026gt;"},{"Type":"NodeText","Data":"​ 标签传入了 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"common_header"},{"Type":"NodeText","Data":"​ 中，先替换对应的标签，然后将替换后的片段整体替换模板的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"head"},{"Type":"NodeText","Data":"​ 标签，结果如下："}]},{"ID":"20240422022402-avzbpf3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240422022402-avzbpf3","updated":"20240422022408"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"aHRtbA=="},{"Type":"NodeCodeBlockCode","Data":"\u003chead\u003e\n\n  \u003ctitle\u003eAwesome - Main\u003c/title\u003e\n\n  \u003c!-- Common styles and scripts --\u003e\n  \u003clink rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"/awe/css/awesomeapp.css\"\u003e\n  \u003clink rel=\"shortcut icon\" href=\"/awe/images/favicon.ico\"\u003e\n  \u003cscript type=\"text/javascript\" src=\"/awe/sh/scripts/codebase.js\"\u003e\u003c/script\u003e\n\n  \u003clink rel=\"stylesheet\" href=\"/awe/css/bootstrap.min.css\"\u003e\n  \u003clink rel=\"stylesheet\" href=\"/awe/themes/smoothness/jquery-ui.css\"\u003e\n\n\u003c/head\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240422030517-w27ezo6","Type":"NodeParagraph","Properties":{"id":"20240422030517-w27ezo6","updated":"20240422031255"},"Children":[{"Type":"NodeText","Data":"以此可以创建"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240422031124-jqfvupc","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"布局文件"}]},{"ID":"20240422030155-i4od75f","Type":"NodeParagraph","Properties":{"id":"20240422030155-i4od75f","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240422030325"},"Children":[{"Type":"NodeText","Data":"当使用其他片段作为参数时，传入 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"_"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 表示不进行替换或插入，使用片段原本的元素；"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"~{}"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​ 表示空片段，替换或插入为空。"}]}]}