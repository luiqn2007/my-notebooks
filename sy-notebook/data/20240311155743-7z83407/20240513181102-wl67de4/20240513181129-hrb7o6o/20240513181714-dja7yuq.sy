{"ID":"20240513181714-dja7yuq","Spec":"1","Type":"NodeDocument","Properties":{"icon":"Sponge.png","id":"20240513181714-dja7yuq","title":"添加成员","type":"doc","updated":"20240513182029"},"Children":[{"ID":"20240513181913-lhszrru","Type":"NodeParagraph","Properties":{"id":"20240513181913-lhszrru","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"在 Mixin 类中的所有成员将直接合并到原始类中，因此尽量起一个不会引起冲突的成员名，通常在成员前添加 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"modid$"},{"Type":"NodeText","Data":"​ 前缀。"}]},{"ID":"20240513181913-0upv9jo","Type":"NodeParagraph","Properties":{"id":"20240513181913-0upv9jo","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"不能直接访问添加的成员，主要原因为："}]},{"ID":"20240513181913-of0jxcb","Type":"NodeList","ListData":{},"Properties":{"id":"20240513181913-of0jxcb","updated":"20240513181913"},"Children":[{"ID":"20240513181913-onvw1sy","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513181913-onvw1sy","updated":"20240513181913"},"Children":[{"ID":"20240513181913-zk7ag4q","Type":"NodeParagraph","Properties":{"id":"20240513181913-zk7ag4q","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"内容是在 build 生成字节码时添加，存在在字节码中而不在源码中，因此在代码中直接访问会报错。"}]}]},{"ID":"20240513181913-4vznfp4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513181913-4vznfp4","updated":"20240513181913"},"Children":[{"ID":"20240513181913-6m64ieb","Type":"NodeParagraph","Properties":{"id":"20240513181913-6m64ieb","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"由于 Mixin 类都会被添加到类加载器的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"invalidClasses"},{"Type":"NodeText","Data":"​ 中，也不能直接将原始类实例强转为 Mixin 类。"}]}]}]},{"ID":"20240513181913-feu9iha","Type":"NodeParagraph","Properties":{"id":"20240513181913-feu9iha","updated":"20240513181929"},"Children":[{"Type":"NodeText","Data":"被添加的成员有三种方式可以访问："}]},{"ID":"20240513181913-x9nnnat","Type":"NodeList","ListData":{},"Properties":{"id":"20240513181913-x9nnnat","updated":"20240513182029"},"Children":[{"ID":"20240513181913-ckdw9ob","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513181913-ckdw9ob","updated":"20240513181913"},"Children":[{"ID":"20240513181913-iig4uns","Type":"NodeParagraph","Properties":{"id":"20240513181913-iig4uns","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"反射。反射访问对应内容是可行的，但存在性能问题。"}]}]},{"ID":"20240513181913-1iynhbb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513181913-1iynhbb","updated":"20240513182029"},"Children":[{"ID":"20240513181913-xxilqh2","Type":"NodeParagraph","Properties":{"id":"20240513181913-xxilqh2","updated":"20240513181913"},"Children":[{"Type":"NodeText","Data":"接口。使 Mixin 类实现某一个接口，然后将被修改类型强转为接口类型"}]},{"ID":"20240513181913-uh7s4mr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513181913-uh7s4mr","updated":"20240513182025"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 接口类\npublic interface IBlockLootSubProvider {\n    Iterable\u003cBlock\u003e sino$getKnownBlocks();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513181913-iu08bst","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513181913-iu08bst","updated":"20240513182028"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// Mixin 类\n@Mixin(BlockLootSubProvider.class)\npublic abstract class BlockLootSubProviderMixin implements IBlockLootSubProvider {\n\n    @Override\n    public Iterable\u003cBlock\u003e sino$getKnownBlocks() {\n        // do something\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513181913-zibhivx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513181913-zibhivx","updated":"20240513182029"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 具体使用场景\nBlockLootSubProvider provider;\nIBlockLootSubProvider mixined = (IBlockLootSubProvider) provider;\nIterable\u003cBlock\u003e blocks = mixined.sino$getKnownBlocks();\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240513181931-0j2j0vt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513181931-0j2j0vt"},"Children":[{"ID":"20240513181931-pwe58hu","Type":"NodeParagraph","Properties":{"id":"20240513181931-pwe58hu","updated":"20240513182008"},"Children":[{"Type":"NodeText","Data":"Injected Interfaces，仅适用于 Fabric 和 Architectury"}]}]}]}]}