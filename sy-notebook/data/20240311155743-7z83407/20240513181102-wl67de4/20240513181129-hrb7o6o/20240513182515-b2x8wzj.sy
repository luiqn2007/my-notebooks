{"ID":"20240513182515-b2x8wzj","Spec":"1","Type":"NodeDocument","Properties":{"icon":"Sponge.png","id":"20240513182515-b2x8wzj","title":"方法局部修改","type":"doc","updated":"20240513182537"},"Children":[{"ID":"20240513182537-6dha2w6","Type":"NodeParagraph","Properties":{"id":"20240513182537-6dha2w6","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Redirect"},{"Type":"NodeText","Data":"​ 注解允许取消原先的某些方法调用，替换为被修饰方法"}]},{"ID":"20240513182537-01mmttn","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182537-01mmttn","updated":"20240513182537"},"Children":[{"ID":"20240513182537-71v10kz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-71v10kz","updated":"20240513182537"},"Children":[{"ID":"20240513182537-vurdc8z","Type":"NodeParagraph","Properties":{"id":"20240513182537-vurdc8z","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"被修饰方法的返回值和形参列表与被调用的方法相同；若重定向的是父类构造，则需要该方法为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static"},{"Type":"NodeText","Data":"​ 的"}]}]},{"ID":"20240513182537-xreuqps","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-xreuqps","updated":"20240513182537"},"Children":[{"ID":"20240513182537-ilns6dc","Type":"NodeParagraph","Properties":{"id":"20240513182537-ilns6dc","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"method"},{"Type":"NodeText","Data":"​：修改方法名"}]}]},{"ID":"20240513182537-u6hnzrx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-u6hnzrx","updated":"20240513182537"},"Children":[{"ID":"20240513182537-23zx53f","Type":"NodeParagraph","Properties":{"id":"20240513182537-23zx53f","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"at"},{"Type":"NodeText","Data":"​：注入点，详见[[#@At]]，只允许 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"INVOKE"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FIELD"},{"Type":"NodeText","Data":"​ 类型"}]}]}]},{"ID":"20240513182537-43v8hvw","Type":"NodeParagraph","Properties":{"id":"20240513182537-43v8hvw","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ModifyArg"},{"Type":"NodeText","Data":"​ 注解允许修改某个传入参数"}]},{"ID":"20240513182537-cl05z1c","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182537-cl05z1c","updated":"20240513182537"},"Children":[{"ID":"20240513182537-ykprjmc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-ykprjmc","updated":"20240513182537"},"Children":[{"ID":"20240513182537-r4fjoe9","Type":"NodeParagraph","Properties":{"id":"20240513182537-r4fjoe9","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"被修饰方法返回值必须与形参类型相同；被修饰方法的形参为以下三种情况之一："}]},{"ID":"20240513182537-dtel7jd","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182537-dtel7jd","updated":"20240513182537"},"Children":[{"ID":"20240513182537-mhmyenh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-mhmyenh","updated":"20240513182537"},"Children":[{"ID":"20240513182537-gwblhrf","Type":"NodeParagraph","Properties":{"id":"20240513182537-gwblhrf","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"被修改参数的原本值"}]}]},{"ID":"20240513182537-0052mhg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-0052mhg","updated":"20240513182537"},"Children":[{"ID":"20240513182537-0xqltcf","Type":"NodeParagraph","Properties":{"id":"20240513182537-0xqltcf","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"target 指向目标的所有参数"}]}]},{"ID":"20240513182537-ff4p4od","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-ff4p4od","updated":"20240513182537"},"Children":[{"ID":"20240513182537-xvu9j8g","Type":"NodeParagraph","Properties":{"id":"20240513182537-xvu9j8g","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"target 指向目标的所有参数和目标方法的所有参数"}]}]}]}]},{"ID":"20240513182537-nqai4m6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-nqai4m6","updated":"20240513182537"},"Children":[{"ID":"20240513182537-wfjsgpe","Type":"NodeParagraph","Properties":{"id":"20240513182537-wfjsgpe","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"method"},{"Type":"NodeText","Data":"​：修改方法名"}]}]},{"ID":"20240513182537-4sya2sa","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-4sya2sa","updated":"20240513182537"},"Children":[{"ID":"20240513182537-6cdn3lw","Type":"NodeParagraph","Properties":{"id":"20240513182537-6cdn3lw","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"at"},{"Type":"NodeText","Data":"​：注入点，详见[[#@At]]，只允许 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"INVOKE"},{"Type":"NodeText","Data":"​ 类型"}]}]},{"ID":"20240513182537-q2uiwc4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-q2uiwc4","updated":"20240513182537"},"Children":[{"ID":"20240513182537-983x5k7","Type":"NodeParagraph","Properties":{"id":"20240513182537-983x5k7","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"index"},{"Type":"NodeText","Data":"​：修改的第 i 个对应类型的参数"}]}]}]},{"ID":"20240513182537-w4mdkcc","Type":"NodeParagraph","Properties":{"id":"20240513182537-w4mdkcc","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ModifyArgs"},{"Type":"NodeText","Data":"​ 注解允许批量修改传入参数。被修饰函数返回值为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"void"},{"Type":"NodeText","Data":"​，且第一个参数为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Args"},{"Type":"NodeText","Data":"​ 类型参数，其余与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ModifyArg"},{"Type":"NodeText","Data":"​ 类似。"}]},{"ID":"20240513182537-9j5nq1b","Type":"NodeParagraph","Properties":{"id":"20240513182537-9j5nq1b","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ModifyConstant"},{"Type":"NodeText","Data":"​ 用于修改 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"LDC"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*CONST_*"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*IPUSH"},{"Type":"NodeText","Data":"​ 等操作码引用的常量"}]},{"ID":"20240513182537-a8y1mb4","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182537-a8y1mb4","updated":"20240513182537"},"Children":[{"ID":"20240513182537-nrus1s6","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-nrus1s6","updated":"20240513182537"},"Children":[{"ID":"20240513182537-ukts3vs","Type":"NodeParagraph","Properties":{"id":"20240513182537-ukts3vs","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"method"},{"Type":"NodeText","Data":"​：修改方法名"}]}]},{"ID":"20240513182537-rfa4mnf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-rfa4mnf","updated":"20240513182537"},"Children":[{"ID":"20240513182537-wpxey31","Type":"NodeParagraph","Properties":{"id":"20240513182537-wpxey31","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"constant"},{"Type":"NodeText","Data":"​：匹配常量值"}]}]}]},{"ID":"20240513182537-bnlbgnd","Type":"NodeParagraph","Properties":{"id":"20240513182537-bnlbgnd","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@ModifyVariable"},{"Type":"NodeText","Data":"​ 用于修改局部变量"}]},{"ID":"20240513182537-7kijx4i","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182537-7kijx4i","updated":"20240513182537"},"Children":[{"ID":"20240513182537-m6o039t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-m6o039t","updated":"20240513182537"},"Children":[{"ID":"20240513182537-bs6qdxi","Type":"NodeParagraph","Properties":{"id":"20240513182537-bs6qdxi","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"被修饰方法的返回值为被修改变量类型，只有一个形参也是被修改变量类型，其值为原始值"}]}]},{"ID":"20240513182537-vsqgioj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-vsqgioj","updated":"20240513182537"},"Children":[{"ID":"20240513182537-au967du","Type":"NodeParagraph","Properties":{"id":"20240513182537-au967du","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"method"},{"Type":"NodeText","Data":"​：修改方法名"}]}]},{"ID":"20240513182537-wv9zaiv","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-wv9zaiv","updated":"20240513182537"},"Children":[{"ID":"20240513182537-g21ahl8","Type":"NodeParagraph","Properties":{"id":"20240513182537-g21ahl8","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"at"},{"Type":"NodeText","Data":"​：注入点"}]}]},{"ID":"20240513182537-6n16o2w","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-6n16o2w","updated":"20240513182537"},"Children":[{"ID":"20240513182537-89frjq6","Type":"NodeParagraph","Properties":{"id":"20240513182537-89frjq6","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"print"},{"Type":"NodeText","Data":"​：输出所有局部变量"}]}]},{"ID":"20240513182537-hsf1avg","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-hsf1avg","updated":"20240513182537"},"Children":[{"ID":"20240513182537-pxtbdlo","Type":"NodeParagraph","Properties":{"id":"20240513182537-pxtbdlo","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"ordinal"},{"Type":"NodeText","Data":"​：被修改局部变量在相同类型的变量的索引"}]}]},{"ID":"20240513182537-w7eghyf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-w7eghyf","updated":"20240513182537"},"Children":[{"ID":"20240513182537-rtjo1dh","Type":"NodeParagraph","Properties":{"id":"20240513182537-rtjo1dh","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"index"},{"Type":"NodeText","Data":"​：被修改局部变量在局部变量表中的索引"}]}]},{"ID":"20240513182537-ry166zb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-ry166zb","updated":"20240513182537"},"Children":[{"ID":"20240513182537-2czn1gl","Type":"NodeParagraph","Properties":{"id":"20240513182537-2czn1gl","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"name"},{"Type":"NodeText","Data":"​：局部变量名称"}]}]},{"ID":"20240513182537-g3dnys2","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182537-g3dnys2","updated":"20240513182537"},"Children":[{"ID":"20240513182537-iyyiyd0","Type":"NodeParagraph","Properties":{"id":"20240513182537-iyyiyd0","updated":"20240513182537"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"argsOnly"},{"Type":"NodeText","Data":"​：若为 true，只匹配方法参数"}]}]}]}]}