{"ID":"20240513182607-6h1tudc","Spec":"1","Type":"NodeDocument","Properties":{"icon":"Sponge.png","id":"20240513182607-6h1tudc","title":"原始类成员访问","type":"doc","updated":"20240513182623"},"Children":[{"ID":"20240513182623-j32t1w8","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513182623-j32t1w8","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"this"}]},{"ID":"20240513182623-3sujz7t","Type":"NodeParagraph","Properties":{"id":"20240513182623-3sujz7t","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"可以在 Mixin 类的方法中通过 this 拿到原始类对象，只需要强转就行，先转换成 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Object"},{"Type":"NodeText","Data":"​ 再转换成对应类型："}]},{"ID":"20240513182623-0dyirrs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182623-0dyirrs","updated":"20240513182623"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Mixin(Minecraft.class)\npublic abstract class MinecraftMixin {\n    public void aFunction() {\n        Minecraft mc = (Minecraft) (Object) this;\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513182623-d8lejms","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513182623-d8lejms","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"super"}]},{"ID":"20240513182623-7imsoz8","Type":"NodeParagraph","Properties":{"id":"20240513182623-7imsoz8","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"为使用 super 关键字，可以将 Mixin 继承自原始类的父类"}]},{"ID":"20240513182623-vsmeaym","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182623-vsmeaym","updated":"20240513182623"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Mixin(GuiMainMenu.class)\npublic abstract class GuiMainMenuMixin extends GuiScreen {\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513182623-ugr616z","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513182623-ugr616z","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"其他成员"}]},{"ID":"20240513182623-bi55fdo","Type":"NodeParagraph","Properties":{"id":"20240513182623-bi55fdo","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"在 Mixin 中访问原始类中的非公开成员可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Shadow"},{"Type":"NodeText","Data":"​ 注解修饰被访问成员，要求被修饰成员与原始成员的变量签名或函数签名相同"}]},{"ID":"20240513182623-4kmavyt","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182623-4kmavyt","updated":"20240513182623"},"Children":[{"ID":"20240513182623-aax1sq8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182623-aax1sq8","updated":"20240513182623"},"Children":[{"ID":"20240513182623-vawtzkm","Type":"NodeParagraph","Properties":{"id":"20240513182623-vawtzkm","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"函数：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"abstract"},{"Type":"NodeText","Data":"​ 修饰函数"}]}]},{"ID":"20240513182623-i0pwsvj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182623-i0pwsvj","updated":"20240513182623"},"Children":[{"ID":"20240513182623-vuio4cy","Type":"NodeParagraph","Properties":{"id":"20240513182623-vuio4cy","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"变量：不需要初始化变量值"}]}]}]},{"ID":"20240513182623-85i0ax0","Type":"NodeParagraph","Properties":{"id":"20240513182623-85i0ax0","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Shadow"},{"Type":"NodeText","Data":"​ 注解提供 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"prefix"},{"Type":"NodeText","Data":"​ 属性，表示该名称有一个前缀，对应原始类中的成员需要去除该前缀。该功能的作用可以以另一种角度实现[[#使用#隐式接口实现]]的功能"}]},{"ID":"20240513182623-ri7hdh2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182623-ri7hdh2","updated":"20240513182623"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"@Mixin(Minecraft.class)\npublic abstract class MinecraftMixin {\n\n    // 引用 Minecraft$getLimitFramerate()\n    @Shadow(prefix=\"example$\")\n    public abstract int example$getLimitFramerate();\n\n    // 没问题。虽然原始类中存在同名函数，但实际签名不同（返回值不同）\n    public float getLimitFramerate() {\n        // do something\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513182623-grjbse8","Type":"NodeParagraph","Properties":{"id":"20240513182623-grjbse8","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"对于 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"final"},{"Type":"NodeText","Data":"​ 修饰的成员，需要同时使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Final"},{"Type":"NodeText","Data":"​ 注解标注。如果要修改其值，应当同时使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Mutable"},{"Type":"NodeText","Data":"​ 注解标注。"}]},{"ID":"20240513182623-j0npwh1","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513182623-j0npwh1","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"非公有类型"}]},{"ID":"20240513182623-6zdl0am","Type":"NodeParagraph","Properties":{"id":"20240513182623-6zdl0am","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"若目标方法参数包含非公有类型，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Coerce"},{"Type":"NodeText","Data":"​ 注解，此时目标参数类型为实际类型的基类（不能是接口）。若实际类型为某接口，则应为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Object"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240513182623-yk9jm5j","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240513182623-yk9jm5j","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"不存在的成员"}]},{"ID":"20240513182623-ta8l9e5","Type":"NodeParagraph","Properties":{"id":"20240513182623-ta8l9e5","updated":"20240513182623"},"Children":[{"Type":"NodeText","Data":"有时我们会修改一些编译时不存在的成员，这些成员在运行时可能存在（比如其他 mod 注入的方法），我们可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"@Dynamic"},{"Type":"NodeText","Data":"​ 注解"}]}]}