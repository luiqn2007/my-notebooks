{"ID":"20240513182716-cushh6p","Spec":"1","Type":"NodeDocument","Properties":{"icon":"fabric.png","id":"20240513182716-cushh6p","title":"接口注入","type":"doc","updated":"20240513182913"},"Children":[{"ID":"20240513182723-rm2519l","Type":"NodeParagraph","Properties":{"id":"20240513182723-rm2519l","updated":"20240513182723"},"Children":[{"Type":"NodeText","Data":"Fabric 的 Injected Interfaces 允许将 Mixin 创建的对象接口直接应用到对应类上，无需将实例对象强转为接口再使用。"}]},{"ID":"20240513182723-t6j26af","Type":"NodeParagraph","Properties":{"id":"20240513182723-t6j26af","updated":"20240513182723"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"注入的接口方法必须有默认实现，随便怎么实现都行"}]},{"ID":"20240513182723-jufp1uk","Type":"NodeParagraph","Properties":{"id":"20240513182723-jufp1uk","style":"color: var(--b3-card-error-color);background-color: var(--b3-card-error-background);","updated":"20240513182732"},"Children":[{"Type":"NodeText","Data":"Forge 不支持，Architectury 支持"}]},{"ID":"20240513182823-cs61q0w","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240513182823-cs61q0w","updated":"20240513182836"},"Children":[{"ID":"20240513182823-ag00z7q","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240513182823-ag00z7q","updated":"20240513182836"},"Children":[{"ID":"20240513182823-iljt67k","Type":"NodeParagraph","Properties":{"id":"20240513182823-iljt67k","updated":"20240513182836"},"Children":[{"Type":"NodeText","Data":"使用 Mixin 完成对原始类的修改，需要一个接口。称被修改类型为"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"原始类型"},{"Type":"NodeText","Data":"，实现的接口为 "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Mixin 接口"},{"Type":"NodeText","Data":"。"}]},{"ID":"20240513182823-d1hu5i7","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182823-d1hu5i7","updated":"20240513182823"},"Children":[{"ID":"20240513182823-40sqryf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182823-40sqryf","updated":"20240513182823"},"Children":[{"ID":"20240513182823-ne0jpqz","Type":"NodeParagraph","Properties":{"id":"20240513182823-ne0jpqz","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"设 Mixin 接口类名为 mod.example.IMixinMinecraft"}]}]},{"ID":"20240513182823-7fjz4kp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182823-7fjz4kp","updated":"20240513182823"},"Children":[{"ID":"20240513182823-5gmge05","Type":"NodeParagraph","Properties":{"id":"20240513182823-5gmge05","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"设原始类为 net.minecraft.client.Minecraft"}]}]}]}]},{"ID":"20240513182823-2cngrio","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240513182823-2cngrio","updated":"20240513182823"},"Children":[{"ID":"20240513182823-4vapux6","Type":"NodeParagraph","Properties":{"id":"20240513182823-4vapux6","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"在配置文件中配置（详见下方两个代码块，分别表示 Fabric 和 Architectury 的处理方式）"}]},{"ID":"20240513182823-gf4zdfd","Type":"NodeList","ListData":{},"Properties":{"id":"20240513182823-gf4zdfd","updated":"20240513182823"},"Children":[{"ID":"20240513182823-rj4y5ew","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182823-rj4y5ew","updated":"20240513182823"},"Children":[{"ID":"20240513182823-3enfenc","Type":"NodeParagraph","Properties":{"id":"20240513182823-3enfenc","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"包之间通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"/"},{"Type":"NodeText","Data":"​ 分隔"}]}]},{"ID":"20240513182823-0za67sp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240513182823-0za67sp","updated":"20240513182823"},"Children":[{"ID":"20240513182823-dio1z1p","Type":"NodeParagraph","Properties":{"id":"20240513182823-dio1z1p","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"内部类与外部类之间通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$"},{"Type":"NodeText","Data":"​ 分隔"}]}]}]}]},{"ID":"20240513182823-ugpeqgg","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240513182823-ugpeqgg","updated":"20240513182823"},"Children":[{"ID":"20240513182823-gcqrjm8","Type":"NodeParagraph","Properties":{"id":"20240513182823-gcqrjm8","updated":"20240513182823"},"Children":[{"Type":"NodeText","Data":"每次完成注入，运行一次 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"genSources"},{"Type":"NodeText","Data":"​ Gradle任务"}]}]}]},{"ID":"20240513182912-p3boxoc","Type":"NodeSuperBlock","Properties":{"id":"20240513182912-p3boxoc","updated":"20240513182913"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240513182851-3637phg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182851-3637phg","updated":"20240513182913"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg=="},{"Type":"NodeCodeBlockCode","Data":"// Fabric: fabric.mod.json\n{\n    \"custom\": {\n        \"loom:injected_interfaces\": {\n            // net.minecraft.client.Minecraft\n            \"net/minecraft/class_310\": [\"mod/example/IMixinMinecraft\"]\n        }\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240513182851-9udttfj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182851-9udttfj","updated":"20240513182913"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anNvbg=="},{"Type":"NodeCodeBlockCode","Data":"// Architectury: architectury.common.json\n{\n    \"injected_interfaces\": {\n        \"net/minecraft/class_310\": [\"mod/example/IMixinMinecraft\"]\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240513182851-dkizkcc","Type":"NodeParagraph","Properties":{"id":"20240513182851-dkizkcc","updated":"20240513182851"},"Children":[{"Type":"NodeText","Data":"如果需要注入的依赖传递，需要调整 loom 配置"}]},{"ID":"20240513182851-mlrx2fi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240513182851-mlrx2fi","updated":"20240513182851"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Z3Jvb3Z5"},{"Type":"NodeCodeBlockCode","Data":"// build.gradle\nloom {\n    interfaceInjection {\n        enableDependencyInterfaceInjection = true\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}