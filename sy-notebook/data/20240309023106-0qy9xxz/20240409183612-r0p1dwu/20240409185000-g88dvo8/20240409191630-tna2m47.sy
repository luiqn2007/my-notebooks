{"ID":"20240409191630-tna2m47","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409191630-tna2m47","title":"结构体","type":"doc","updated":"20240428141647"},"Children":[{"ID":"20240409191641-wcr8ii1","Type":"NodeParagraph","Properties":{"id":"20240409191641-wcr8ii1","updated":"20240428124926"},"Children":[{"Type":"NodeText","Data":"结构体类似于一个为每个值命名的元组，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 声明，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 分隔（"},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"最后一个量的"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"code em","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"em","TextMarkTextContent":"可保留）"},{"Type":"NodeText","Data":"。创建时，在大括号中使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"key: value"},{"Type":"NodeText","Data":"​ 形式赋值"}]},{"ID":"20240428115606-by4imcq","Type":"NodeSuperBlock","Properties":{"id":"20240428115606-by4imcq","updated":"20240428115606"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240409191641-zughnun","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-zughnun","updated":"20240428115606"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"struct User {\n    username: String,\n    email: String,\n    sign_in_count: i64,\n    active: bool,\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409191641-papbacj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-papbacj","updated":"20240428115606"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let user = User {\n    username: String::from(\"some_user_123\"),\n    email: String::from(\"some_user_123@email.com\"),\n    sign_in_count: 1,\n    active: true,\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240428141519-vxsknyg","Type":"NodeSuperBlock","Properties":{"id":"20240428141519-vxsknyg","updated":"20240428141647"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240428141512-6055rjv","Type":"NodeSuperBlock","Properties":{"id":"20240428141512-6055rjv","updated":"20240428141520"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409191641-9lmmfme","Type":"NodeParagraph","Properties":{"id":"20240409191641-9lmmfme","updated":"20240428141513"},"Children":[{"Type":"NodeText","Data":"在字段名与参数名相同时，可以使用字段初始化的简化写法"}]},{"ID":"20240409191641-71o4yx9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-71o4yx9","updated":"20240428141513"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let username = String::from(\"some_user_123\");\n    let user = build_user(username);\n    // some_user_123: email=some_user_123@email.com, active=true\n    println!(\"{}: email={}, active={}\", user.username, user.email, user.active);\n}\n\nfn build_user(username: String) -\u003e User {\n    let email = String::from(\u0026username) + \"@email.com\";\n    User {\n        // 字段初始化简化写法\n        username,\n        email,\n        sign_in_count: 1,\n        active: true,\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240428141517-bpz6qsn","Type":"NodeSuperBlock","Properties":{"id":"20240428141517-bpz6qsn","updated":"20240428141647"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409191641-4wjqr6i","Type":"NodeParagraph","Properties":{"id":"20240409191641-4wjqr6i","updated":"20240428141517"},"Children":[{"Type":"NodeText","Data":"结构体更新语法：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".."},{"Type":"NodeText","Data":"​ 指定剩余未显式设置字段使用的旧结构体"}]},{"ID":"20240409191728-27bh1cq","Type":"NodeParagraph","Properties":{"id":"20240409191728-27bh1cq","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240428141540"},"Children":[{"Type":"NodeText","Data":"对应元素若没有实现 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"Copy"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​，则不再可用，所有权被转移，但剩余部分可以使用"}]},{"ID":"20240409191641-o8m1bfk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-o8m1bfk","updated":"20240428141647"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let unactivated_user = User {\n        username: String::from(\"a_user\"),\n        active: false\n    };\n\n    let activated_user = User {\n        active: true,\n        ..unactivated_user\n    };\n\n    println(\"{}\", unactivated_user.active);   // ok\n    println(\"{:?}\", unactivated_user);        // 错误\n    println(\"{}\", unactivated_user.username); // 错误\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240428125340-bqqom9x","Type":"NodeParagraph","Properties":{"id":"20240428125340-bqqom9x","updated":"20240428141340"},"Children":[{"Type":"NodeText","Data":"Rust 的结构体数据和方法分离，在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"impl"},{"Type":"NodeText","Data":"​ 块中定义"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240409192036-d4r9671","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"结构体方法"},{"Type":"NodeText","Data":"。"}]}]}