{"ID":"20240409192036-d4r9671","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409192036-d4r9671","title":"结构体方法","type":"doc","updated":"20240428141331"},"Children":[{"ID":"20240428141318-yvgwp3x","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240428141318-yvgwp3x","updated":"20240428141322"},"Children":[{"Type":"NodeText","Data":"结构体方法"}]},{"ID":"20240409192041-eh4clq0","Type":"NodeParagraph","Properties":{"id":"20240409192041-eh4clq0","updated":"20240428141322"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"impl"},{"Type":"NodeText","Data":"​ 中定义的"},{"Type":"NodeTextMark","TextMarkType":"text","TextMarkTextContent":"🦀"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240409190114-dcvb75u","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"函数"},{"Type":"NodeText","Data":"，且第一个参数始终是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"self"},{"Type":"NodeText","Data":"​ 或其某种变形。"}]},{"ID":"20240428134355-aen8diu","Type":"NodeBlockquote","Properties":{"id":"20240428134355-aen8diu","updated":"20240428141322"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240428134401-khymart","Type":"NodeParagraph","Properties":{"id":"20240428134401-khymart","updated":"20240428134408"},"Children":[{"Type":"NodeText","Data":"可用形式："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"self"},{"Type":"NodeText","Data":"​, "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;self"},{"Type":"NodeText","Data":"​, "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*self"},{"Type":"NodeText","Data":"​, "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;mut self"},{"Type":"NodeText","Data":"​ 等"}]}]},{"ID":"20240409192041-0eqomek","Type":"NodeParagraph","Properties":{"id":"20240409192041-0eqomek","updated":"20240428141322"},"Children":[{"Type":"NodeText","Data":"定义结构体方法需要把方法放入一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"impl"},{"Type":"NodeText","Data":"​ 块中（implementation）。Rust 在结构体变量使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"."},{"Type":"NodeText","Data":"​ 运算符时会自动根据方法推断出调用者的签名与其匹配，自动引用和解引用。"}]},{"ID":"20240409192041-51ynr7d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409192041-51ynr7d","updated":"20240428141322"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"struct Rectangle {\n    width: u32,\n    height: u32\n}\n\nimpl Rectangle {\n    fn area(\u0026self) -\u003e u32 {\n        self.width * self.height\n    }\n}\n\nfn main() {\n    let rect = Rectangle { width: 30, height: 50 };\n    // The area of the rectangle is 1500 square pixels.\n    println!(\"The area of the rectangle is {} square pixels.\", rect.area());\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240428141330-ctdglqz","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240428141330-ctdglqz","updated":"20240428141331"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"关联函数"}]},{"ID":"20240409192041-tqwj4qy","Type":"NodeParagraph","Properties":{"id":"20240409192041-tqwj4qy","updated":"20240428141331"},"Children":[{"Type":"NodeText","Data":"在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"impl"},{"Type":"NodeText","Data":"​ 块中定义的且不以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"self"},{"Type":"NodeText","Data":"​ 为第一参数的函数称为关联函数。通常这些函数用作结构体的构造函数，如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"String::from"},{"Type":"NodeText","Data":"​。"}]},{"ID":"20240409192041-4mo4cqn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409192041-4mo4cqn","updated":"20240428141331"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"impl Rectangle {\n    fn square(size: u32) -\u003e Rectangle {\n        Rectangle { width: size, height: size }\n    }\n}\n\nfn main() {\n    let square = Rectangle::square(20);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409192201-44dgb3s","Type":"NodeParagraph","Properties":{"id":"20240409192201-44dgb3s","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240428141331"},"Children":[{"Type":"NodeText","Data":"一个结构体可以有多个 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"impl"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 块"}]},{"ID":"20240428141211-jxf9ccw","Type":"NodeParagraph","Properties":{"id":"20240428141211-jxf9ccw","updated":"20240428141331"}}]}