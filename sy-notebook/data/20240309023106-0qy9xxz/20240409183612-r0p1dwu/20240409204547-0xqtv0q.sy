{"ID":"20240409204547-0xqtv0q","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409204547-0xqtv0q","title":"生命周期","type":"doc","updated":"20240410223936"},"Children":[{"ID":"20240409204547-m9onwm1","Type":"NodeParagraph","Properties":{"id":"20240409204547-m9onwm1","updated":"20240409205603"},"Children":[{"Type":"NodeText","Data":"Rust 的每个变量都有其生命周期，通过生命周期注释指定。"}]},{"ID":"20240409204852-dewbq2d","Type":"NodeParagraph","Properties":{"id":"20240409204852-dewbq2d","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240409204901"},"Children":[{"Type":"NodeText","Data":"生命周期注释：向编译器提供引用如何关联泛型，允许编译器在很多情况下判断引用值的有效性，用于方法和结构体"}]},{"ID":"20240409204908-6bjw3xx","Type":"NodeParagraph","Properties":{"id":"20240409204908-6bjw3xx","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"生命周期注释使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"'"},{"Type":"NodeText","Data":"​ 标记，不改变引用的生命周期，仅仅是标记了某些引用的生命周期，使编译器可以检查使用的引用是否符合。"}]},{"ID":"20240409204908-cpiceg8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409204908-cpiceg8","updated":"20240409204908"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    // VV\n    println!(\"{}\", largest(\"A\", \"VV\"));\n}\n\nfn largest\u003c'a\u003e(a: \u0026'a str, b: \u0026'a str) -\u003e \u0026'a str {\n    if a.len() \u003e b.len() {\n        a\n    } else {\n        b\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409204908-a1t403t","Type":"NodeParagraph","Properties":{"id":"20240409204908-a1t403t","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;'a\u0026gt;"},{"Type":"NodeText","Data":"​ 表示一个生命周期，在函数中表示 a b 以及返回值三个引用包含相同的生命周期"}]},{"ID":"20240409204908-urbzsmc","Type":"NodeParagraph","Properties":{"id":"20240409204908-urbzsmc","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"在某些情况下，生命周期可以省略"}]},{"ID":"20240409204908-x440aac","Type":"NodeList","ListData":{},"Properties":{"id":"20240409204908-x440aac","updated":"20240409204908"},"Children":[{"ID":"20240409204908-7ya5hst","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409204908-7ya5hst","updated":"20240409204908"},"Children":[{"ID":"20240409204908-8zyrne6","Type":"NodeParagraph","Properties":{"id":"20240409204908-8zyrne6","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"每个引用的参数都具有各自的生命周期"}]}]},{"ID":"20240409204908-g2xx3vd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409204908-g2xx3vd","updated":"20240409204908"},"Children":[{"ID":"20240409204908-mszmqud","Type":"NodeParagraph","Properties":{"id":"20240409204908-mszmqud","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"若只有一个输入参数，输出与输入参数的生命周期相同"}]}]},{"ID":"20240409204908-btkctoi","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409204908-btkctoi","updated":"20240409204908"},"Children":[{"ID":"20240409204908-qe8268y","Type":"NodeParagraph","Properties":{"id":"20240409204908-qe8268y","updated":"20240409204908"},"Children":[{"Type":"NodeText","Data":"若方法第一个参数为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;self"},{"Type":"NodeText","Data":"​ 或 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;mut self"},{"Type":"NodeText","Data":"​，输出与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026amp;self"},{"Type":"NodeText","Data":"​ 具有相同生命周期"}]}]}]},{"ID":"20240409204908-haj1ual","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409204908-haj1ual","updated":"20240409204908"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn first_word(s: \u0026str) -\u003e \u0026str {\n    s[0..1]\n}\n\n// 等效于\nfn first_word2\u003c'a\u003e(s: \u0026'a str) -\u003e \u0026'a str {\n    s[0..1]\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409204912-2knxufu","Type":"NodeParagraph","Properties":{"id":"20240409204912-2knxufu","updated":"20240409204912"},"Children":[{"Type":"NodeText","Data":"有一种特殊的生命周期 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"'static"},{"Type":"NodeText","Data":"​ 静态生命周期，存活于整个程序运行期间"}]},{"ID":"20240409204912-pn2lrgs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409204912-pn2lrgs","updated":"20240409204912"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let s: \u0026'static str = \"I have a static lifetime.\";\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240410223936-tfh8f5q","Type":"NodeParagraph","Properties":{"id":"20240410223936-tfh8f5q"}}]}