{"ID":"20240409194414-hnxeuap","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409194414-hnxeuap","title":"智能指针","type":"doc","updated":"20240409220815"},"Children":[{"ID":"20240409220135-icdmhwm","Type":"NodeParagraph","Properties":{"id":"20240409220135-icdmhwm","updated":"20240409220135"},"Children":[{"Type":"NodeText","Data":"Rust 是一门存在指针的语言，最常见的指针是引用。"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"智能指针"},{"Type":"NodeText","Data":"是一类数据结构，表现为指针但拥有额外的元数据和功能，大部分情况下智能指针拥有其所指数据的所有权。"}]},{"ID":"20240409220135-inbrft3","Type":"NodeParagraph","Properties":{"id":"20240409220135-inbrft3","updated":"20240409220135"},"Children":[{"Type":"NodeText","Data":"很多库都有自己的智能指针结构，Rust 标准库也提供了一些常用的智能指针"}]},{"ID":"20240409220135-etom0uv","Type":"NodeList","ListData":{},"Properties":{"id":"20240409220135-etom0uv","updated":"20240409220811"},"Children":[{"ID":"20240409220135-j27cg8j","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409220135-j27cg8j","updated":"20240409220449"},"Children":[{"ID":"20240409220135-td2uvpa","Type":"NodeParagraph","Properties":{"id":"20240409220135-td2uvpa","updated":"20240409220449"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240409220149-1lkkdfm","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Box\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​: 用于在堆上分配的值"}]}]},{"ID":"20240409220135-ub5n06j","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409220135-ub5n06j","updated":"20240409220801"},"Children":[{"ID":"20240409220135-nm9cmdm","Type":"NodeParagraph","Properties":{"id":"20240409220135-nm9cmdm","updated":"20240409220801"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240409220643-mgmduah","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Rc\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​: 其数据可有多个所有者，通过引用计数控制"}]}]},{"ID":"20240409220135-w5kcsh5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409220135-w5kcsh5","updated":"20240409220811"},"Children":[{"ID":"20240409220135-l3yium9","Type":"NodeParagraph","Properties":{"id":"20240409220135-l3yium9","updated":"20240409220811"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Ref\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​, "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"RefMut\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​: 通过 "},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240409220746-r3rbgwz","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"RefCall\u0026lt;T\u0026gt;"},{"Type":"NodeText","Data":"​ 访问"}]}]}]},{"ID":"20240409220437-qqeiyvu","Type":"NodeParagraph","Properties":{"id":"20240409220437-qqeiyvu","updated":"20240409220437"},"Children":[{"Type":"NodeText","Data":"自定义智能指针需要实现实现 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Deref"},{"Type":"NodeText","Data":"​ 和 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Drop"},{"Type":"NodeText","Data":"​ trait"}]},{"ID":"20240409220437-dxa9sn0","Type":"NodeList","ListData":{},"Properties":{"id":"20240409220437-dxa9sn0","updated":"20240409220615"},"Children":[{"ID":"20240409220437-wzgsqxe","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409220437-wzgsqxe","updated":"20240409220453"},"Children":[{"ID":"20240409220437-zm6dwwc","Type":"NodeParagraph","Properties":{"id":"20240409220437-zm6dwwc","updated":"20240409220453"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240409194427-7v57fm4","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Deref"},{"Type":"NodeText","Data":"​: 允许结构体实例的表现与引用类似，因此可以作为引用使用"}]}]},{"ID":"20240409220437-e0hq710","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409220437-e0hq710","updated":"20240409220615"},"Children":[{"ID":"20240409220437-a0e0jv0","Type":"NodeParagraph","Properties":{"id":"20240409220437-a0e0jv0","updated":"20240409220615"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code block-ref","TextMarkBlockRefID":"20240409220608-5bpu5kl","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"Drop"},{"Type":"NodeText","Data":"​: 自定义当离开作用域时运行的代码，因此大部分智能指针会在作用域外清理数据"}]}]}]},{"ID":"20240409220815-nw4leia","Type":"NodeParagraph","Properties":{"id":"20240409220815-nw4leia"}}]}