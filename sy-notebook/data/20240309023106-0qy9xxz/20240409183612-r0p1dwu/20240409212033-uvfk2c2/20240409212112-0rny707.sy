{"ID":"20240409212112-0rny707","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409212112-0rny707","title":"模块与私有性","type":"doc","updated":"20240409212212"},"Children":[{"ID":"20240409212125-d2wnp85","Type":"NodeParagraph","Properties":{"id":"20240409212125-d2wnp85","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"模块可将一个 crate 进行分组，提高代码可读性和可重用性；可控制私有性，对外部代码隐藏某些内容。"}]},{"ID":"20240409212125-z315ezy","Type":"NodeParagraph","Properties":{"id":"20240409212125-z315ezy","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"cargo new --lib [lib_name]"},{"Type":"NodeText","Data":"​ 创建一个库，之后在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"src/lib.rs"},{"Type":"NodeText","Data":"​ 使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mod"},{"Type":"NodeText","Data":"​ 定义模块"}]},{"ID":"20240409212125-rcsond4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409212125-rcsond4","updated":"20240409212143"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"mod front_of_house {\n    mod hosting {\n        fn add_to_waitlist() {}\n        fn seat_at_table() {}\n    }\n    mod serving {\n        fn take_order() {}\n        fn server_order() {}\n        fn take_payment() {}\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409212125-ja9i8ld","Type":"NodeParagraph","Properties":{"id":"20240409212125-ja9i8ld","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"访问模块中的项需要使用路径，路径分割标识符为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"::"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240409212125-028zfli","Type":"NodeList","ListData":{},"Properties":{"id":"20240409212125-028zfli","updated":"20240409212125"},"Children":[{"ID":"20240409212125-jh0b2m5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409212125-jh0b2m5","updated":"20240409212125"},"Children":[{"ID":"20240409212125-bfvwd6s","Type":"NodeParagraph","Properties":{"id":"20240409212125-bfvwd6s","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"绝对路径：从 crate 根开始，以 crate 名或字面值 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"crate"},{"Type":"NodeText","Data":"​ 开头"}]}]},{"ID":"20240409212125-9h0k1n9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409212125-9h0k1n9","updated":"20240409212125"},"Children":[{"ID":"20240409212125-dxw8att","Type":"NodeParagraph","Properties":{"id":"20240409212125-dxw8att","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"相对路径：以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"self"},{"Type":"NodeText","Data":"​, "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"super"},{"Type":"NodeText","Data":"​ 或当前模块标识符开头"}]}]}]},{"ID":"20240409212125-5go4190","Type":"NodeParagraph","Properties":{"id":"20240409212125-5go4190","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"Rust 模块中默认所有项都是私有的。使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"pub"},{"Type":"NodeText","Data":"​ 标记后项成为公共成员，此时可被模块外访问到。同时，父模块无法访问到子模块的私有成员，但子模块可以访问到父模块的私有成员。"}]},{"ID":"20240409212125-vxnsla6","Type":"NodeParagraph","Properties":{"id":"20240409212125-vxnsla6","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"若一个结构体中含有私有成员，但没有提供可以创建结构体的公共方法，则无法在模块外创建该结构体实例。"}]},{"ID":"20240409212125-sruy2do","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409212125-sruy2do","updated":"20240409212157"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"pub mod front_of_house {\n    pub mod hosting {\n        pub fn add_to_waitlist() {}\n    }\n    mod tester { \n        fn eat_at_restaurant() {\n            // 绝对路径 - 以字面量 crate 开头\n            crate::front_of_house::hosting::add_to_waitlist();\n            // 相对路径 - 以 self 或 super 开头（这里都用了）\n            self::super::hosting::add_to_waitlist();\n        }\n    }\n}\n\nfn eat_at_restaurant() {\n    // 相对路径 eat_at_restaurant 与 front_of_house 并列\n    front_of_house::hosting::add_to_waitlist();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409212125-k1s27vr","Type":"NodeParagraph","Properties":{"id":"20240409212125-k1s27vr","updated":"20240409212125"},"Children":[{"Type":"NodeText","Data":"若 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mod"},{"Type":"NodeText","Data":"​ 关键字后为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":";"},{"Type":"NodeText","Data":"​ 而非大括号，说明该模块在与之同名同路径的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"rs"},{"Type":"NodeText","Data":"​ 文件中"}]},{"ID":"20240409212211-fmmk8w6","Type":"NodeSuperBlock","Properties":{"id":"20240409212211-fmmk8w6","updated":"20240409212211"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240409212206-uypp73j","Type":"NodeSuperBlock","Properties":{"id":"20240409212206-uypp73j","updated":"20240409212211"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409212125-a94n608","Type":"NodeParagraph","Properties":{"id":"20240409212125-a94n608","updated":"20240409212206"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in src/lib.rs"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240409212125-xdz2hee","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409212125-xdz2hee","updated":"20240409212206"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"pub mod front_of_house;\n\npub fn eat_at_restaurant() {\n    // 相对路径 eat_at_restaurant 与 front_of_house 并列\n    front_of_house::hosting::add_to_waitlist();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240409212209-nximqbi","Type":"NodeSuperBlock","Properties":{"id":"20240409212209-nximqbi","updated":"20240409212211"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409212125-79htbuh","Type":"NodeParagraph","Properties":{"id":"20240409212125-79htbuh","updated":"20240409212209"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in src/front_of_house.rs"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240409212125-jtarn0p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409212125-jtarn0p","updated":"20240409212209"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"pub mod hosting {\n\n    pub fn add_to_waitlist() {}\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240409212212-32411g9","Type":"NodeParagraph","Properties":{"id":"20240409212212-32411g9"}}]}