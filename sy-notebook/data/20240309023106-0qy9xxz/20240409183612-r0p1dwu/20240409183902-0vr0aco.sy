{"ID":"20240409183902-0vr0aco","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409183902-0vr0aco","title":"变量与常量","type":"doc","updated":"20240428133340"},"Children":[{"ID":"20240409183917-rz34790","Type":"NodeParagraph","Properties":{"id":"20240409183917-rz34790","updated":"20240427174801"},"Children":[{"Type":"NodeText","Data":"Rust 使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"let"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"绑定"},{"Type":"NodeText","Data":"一个不可变变量，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"let mut"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"绑定"},{"Type":"NodeText","Data":"可变变量。"}]},{"ID":"20240427174803-a75hrfi","Type":"NodeParagraph","Properties":{"id":"20240427174803-a75hrfi","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240427190607"},"Children":[{"Type":"NodeText","Data":"变量绑定：变量绑定意味着将一个对象的"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"strong block-ref","TextMarkBlockRefID":"20240409205612-w1vk15w","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"所有权"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"转移给对应的变量，"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"em","TextMarkTextContent":"其具体行为类似于其他语言的"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"em strong","TextMarkTextContent":"声明"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"em","TextMarkTextContent":"和"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"em strong","TextMarkTextContent":"赋值"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"em","TextMarkTextContent":"。"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"}]},{"ID":"20240427163638-2ui9hnj","Type":"NodeParagraph","Properties":{"id":"20240427163638-2ui9hnj","style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);","updated":"20240427163709"},"Children":[{"Type":"NodeText","Data":"Rust 更多的推荐使用不可变量，使代码更易于推导，不易出错。变量名推荐以 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);"},"TextMarkType":"em","TextMarkTextContent":"snake_case"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-success-color);background-color: var(--b3-card-success-background);\"}"},{"Type":"NodeText","Data":" 形式。"}]},{"ID":"20240427175305-h0c307d","Type":"NodeParagraph","Properties":{"id":"20240427175305-h0c307d","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240427175335"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"_变量名"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 创建一个不被使用的变量，该变量不会触发编译器警告。"}]},{"ID":"20240427163620-h6avzl9","Type":"NodeSuperBlock","Properties":{"id":"20240427163620-h6avzl9","updated":"20240427163621"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240409183917-b4zmj0u","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409183917-b4zmj0u","updated":"20240427163621"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let x = 5;\n// The value of x is 5\nprintln!(\"The value of x is {}\", x);\n// cannot assign twice to immutable variable\nx = 6;\nprintln!(\"The value of x is {}\", x);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409183917-grdrrgx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409183917-grdrrgx","updated":"20240427163621"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let mut x = 5;\n// The value of x is 5\nprintln!(\"The value of x is {}\", x);\nx = 6;\n// The value of x is 6\nprintln!(\"The value of x is {}\", x);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240409183917-lftyro8","Type":"NodeParagraph","Properties":{"id":"20240409183917-lftyro8","updated":"20240427175108"},"Children":[{"Type":"NodeText","Data":"使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 声明常量。"}]},{"ID":"20240427175119-fxrfqrm","Type":"NodeParagraph","Properties":{"id":"20240427175119-fxrfqrm","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240427175121"},"Children":[{"Type":"NodeText","Data":"常量总是不可变的，必须显式指定数据类型，且值只能为常量表达式。"}]},{"ID":"20240409183917-z3fg0g2","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409183917-z3fg0g2","updated":"20240409183917"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"const THREE_HOURS_TO_SECONDS: i32 = 3 * 60 * 60;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409184217-rs8yrtl","Type":"NodeBlockquote","Properties":{"id":"20240409184217-rs8yrtl","updated":"20240427163809"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240409184230-ubw2rsq","Type":"NodeParagraph","Properties":{"id":"20240409184230-ubw2rsq","updated":"20240409184744"},"Children":[{"Type":"NodeText","Data":"不带 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"mut"},{"Type":"NodeText","Data":"​ 的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"let"},{"Type":"NodeText","Data":"​ 与 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 的区别："}]},{"ID":"20240409184239-41kmuuq","Type":"NodeList","ListData":{},"Properties":{"id":"20240409184239-41kmuuq","updated":"20240427163809"},"Children":[{"ID":"20240409184507-mgzzpw9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409184507-mgzzpw9","updated":"20240409184507"},"Children":[{"ID":"20240409184507-8r0wsxu","Type":"NodeParagraph","Properties":{"id":"20240409184507-8r0wsxu","updated":"20240409184531"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 是编译时常量，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"let"},{"Type":"NodeText","Data":"​ 是运行时不可变变量"}]}]},{"ID":"20240409184531-l1we38d","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409184531-l1we38d","updated":"20240427163809"},"Children":[{"ID":"20240409184531-g4wazam","Type":"NodeParagraph","Properties":{"id":"20240409184531-g4wazam","updated":"20240427163809"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 的值总是内联的，即每个引用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 的地方都会在编译时持有一份对象副本，因此使用相同的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 常量不一定指向同一个对象"}]}]},{"ID":"20240409184654-8kx8emo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409184654-8kx8emo"},"Children":[{"ID":"20240409184654-0amqagq","Type":"NodeParagraph","Properties":{"id":"20240409184654-0amqagq","updated":"20240409184718"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 必须有类型，不能自动推断"}]}]},{"ID":"20240409184719-d3p7mug","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409184719-d3p7mug","updated":"20240409184730"},"Children":[{"ID":"20240409184719-jtkqrrn","Type":"NodeParagraph","Properties":{"id":"20240409184719-jtkqrrn","updated":"20240409184730"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​ 的生命周期是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"'static"},{"Type":"NodeText","Data":"​ 的"}]}]}]}]},{"ID":"20240409183917-0rohxlm","Type":"NodeParagraph","Properties":{"id":"20240409183917-0rohxlm","updated":"20240427175758"},"Children":[{"Type":"NodeText","Data":"同一个作用域中可以定义同名变量，后者将前者覆盖，称为"},{"Type":"NodeTextMark","TextMarkType":"inline-memo","TextMarkInlineMemoContent":"shadowing","TextMarkTextContent":"变量遮蔽"},{"Type":"NodeText","Data":"。因为实际上是新建了一个变量，允许变量类型不同"}]},{"ID":"20240409183917-eqxp6r6","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409183917-eqxp6r6","updated":"20240409183917"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let x = 5;\n// Value x is 5\nprintln!(\"Value x is {}\", x);\nlet x = x + 1; // shadowing!\n// Value x is 6\nprintln!(\"Value x is {}\", x);\n{\n    let x = x * 2; // shadowing!\n    // Value x is 12\n    println!(\"Value x is {}\", x);\n}\n// Value x is 6\nprintln!(\"Value x is {}\", x);\nlet x = \"New value\"; // shadowing!\n// Value x is New value\nprintln!(\"Value x is {}\", x);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}