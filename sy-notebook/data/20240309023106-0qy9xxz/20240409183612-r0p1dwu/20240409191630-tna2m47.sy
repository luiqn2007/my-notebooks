{"ID":"20240409191630-tna2m47","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409191630-tna2m47","title":"结构体","type":"doc","updated":"20240409191730"},"Children":[{"ID":"20240409191641-wcr8ii1","Type":"NodeParagraph","Properties":{"id":"20240409191641-wcr8ii1","updated":"20240409191641"},"Children":[{"Type":"NodeText","Data":"结构体类似于一个为每个值命名的元组，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 声明，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 分隔，最后一个量的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 可保留"}]},{"ID":"20240409191641-zughnun","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-zughnun","updated":"20240409191641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"struct User {\n    username: String,\n    email: String,\n    sign_in_count: i64,\n    active: bool,\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409191641-rfmp75p","Type":"NodeParagraph","Properties":{"id":"20240409191641-rfmp75p","updated":"20240409191641"},"Children":[{"Type":"NodeText","Data":"在代码中，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"结构体名 {}"},{"Type":"NodeText","Data":"​ 创建结构体，并在大括号中使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"key: value"},{"Type":"NodeText","Data":"​ 形式赋值"}]},{"ID":"20240409191641-papbacj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-papbacj","updated":"20240409191641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let user = User {\n    username: String::from(\"some_user_123\"),\n    email: String::from(\"some_user_123@email.com\"),\n    sign_in_count: 1,\n    active: true,\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409191641-9lmmfme","Type":"NodeParagraph","Properties":{"id":"20240409191641-9lmmfme","updated":"20240409191641"},"Children":[{"Type":"NodeText","Data":"在字段名与参数名相同时，可以使用字段初始化的简化写法"}]},{"ID":"20240409191641-71o4yx9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-71o4yx9","updated":"20240409191641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let username = String::from(\"some_user_123\");\n    let user = build_user(username);\n    // some_user_123: email=some_user_123@email.com, active=true\n    println!(\"{}: email={}, active={}\", user.username, user.email, user.active);\n}\n\nfn build_user(username: String) -\u003e User {\n    let email = String::from(\u0026username) + \"@email.com\";\n    User {\n        // 字段初始化简化写法\n        username,\n        email,\n        sign_in_count: 1,\n        active: true,\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409191641-4wjqr6i","Type":"NodeParagraph","Properties":{"id":"20240409191641-4wjqr6i","updated":"20240409191728"},"Children":[{"Type":"NodeText","Data":"若需要从一个旧的结构体复制出一个新的结构体，可使用结构体更新语法，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":".."},{"Type":"NodeText","Data":"​ 指定剩余未显式设置字段使用的旧结构体"}]},{"ID":"20240409191728-27bh1cq","Type":"NodeParagraph","Properties":{"id":"20240409191728-27bh1cq","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240409191730"},"Children":[{"Type":"NodeText","Data":"旧结构体若没有实现 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"Copy"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 则不再可用，就像 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"a=b"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 一样"}]},{"ID":"20240409191641-o8m1bfk","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409191641-o8m1bfk","updated":"20240409191641"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let unactivated_user = User {\n        username: String::from(\"a_user\"),\n        email: String::from(\"u@email.com\"),\n        sign_in_count: 1,\n        active: false\n    };\n\n    let activated_user = User {\n        active: true,\n        sign_in_count: unactivated_user.sign_in_count + 1,\n        ..unactivated_user\n    };\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}