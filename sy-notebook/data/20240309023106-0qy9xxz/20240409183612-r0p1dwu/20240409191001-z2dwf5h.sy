{"ID":"20240409191001-z2dwf5h","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240409191001-z2dwf5h","title":"模式匹配","type":"doc","updated":"20240428132336"},"Children":[{"ID":"20240409202011-1d2fmls","Type":"NodeParagraph","Properties":{"id":"20240409202011-1d2fmls","updated":"20240428131552"},"Children":[{"Type":"NodeText","Data":"模式为 Rust 中的特殊语法，用于匹配类型中的结构。模式可以出现在很多地方，不只是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"match"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240409202222-mxc6fwj","Type":"NodeParagraph","Properties":{"id":"20240409202222-mxc6fwj","style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);","updated":"20240428131441"},"Children":[{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"inline-memo","TextMarkInlineMemoContent":"refutable","TextMarkTextContent":"可反驳"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"与"},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"inline-memo","TextMarkInlineMemoContent":"irrefutable","TextMarkTextContent":"不可反驳"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"模式：若一个模式必须匹配所有值，不可以匹配失败，称为不可反驳的，如 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"let"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​；否则为可反驳，如 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);"},"TextMarkType":"code","TextMarkTextContent":"if let"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-info-color);background-color: var(--b3-card-info-background);\"}"},{"Type":"NodeText","Data":"​。"}]},{"ID":"20240409202011-mbougl0","Type":"NodeList","ListData":{},"Properties":{"id":"20240409202011-mbougl0","updated":"20240428132336"},"Children":[{"ID":"20240409202011-wib67ev","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202011-wib67ev","updated":"20240409202525"},"Children":[{"ID":"20240409202011-96q1jd8","Type":"NodeParagraph","Properties":{"id":"20240409202011-96q1jd8","updated":"20240409202525"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"match"},{"Type":"NodeText","Data":"​ 分支：各匹配分支可反驳，但最后一个分支需要使用能匹配所有剩余值的不可反驳模式。"}]},{"ID":"20240409202011-lya8823","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-lya8823","updated":"20240409202021"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"match VALUE {\n    PATTERN =\u003e EXPRESSION,\n    PATTERN =\u003e EXPRESSION,\n    PATTERN =\u003e EXPRESSION\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240409202015-oa185rk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202015-oa185rk","updated":"20240409202429"},"Children":[{"ID":"20240409202015-71ehku2","Type":"NodeParagraph","Properties":{"id":"20240409202015-71ehku2","updated":"20240409202429"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"if let"},{"Type":"NodeText","Data":"​ 表达式：可反驳"}]},{"ID":"20240409202011-4l9tsvz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-4l9tsvz","updated":"20240409202011"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"if let PATTERN = VALUE {\n    EXPRESSION;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240409202019-op7uf56","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202019-op7uf56","updated":"20240409202430"},"Children":[{"ID":"20240409202019-mwszk7y","Type":"NodeParagraph","Properties":{"id":"20240409202019-mwszk7y","updated":"20240409202430"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"while let"},{"Type":"NodeText","Data":"​ 条件循环：可反驳"}]},{"ID":"20240409202011-4on2qqe","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-4on2qqe","updated":"20240409202011"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"while let PATTERN = VALUE {\n    EXPRESSION;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240409202043-i21ah0p","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202043-i21ah0p","updated":"20240409202352"},"Children":[{"ID":"20240409202043-bxx49hj","Type":"NodeParagraph","Properties":{"id":"20240409202043-bxx49hj","updated":"20240409202352"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"for"},{"Type":"NodeText","Data":"​ 循环：不可反驳"}]},{"ID":"20240409202011-pgzpak7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-pgzpak7","updated":"20240409202011"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"for PATTERN in VALUE {\n    EXPRESSION;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240409202055-bc46e97","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202055-bc46e97","updated":"20240409202350"},"Children":[{"ID":"20240409202055-9a99vnw","Type":"NodeParagraph","Properties":{"id":"20240409202055-9a99vnw","updated":"20240409202350"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"let"},{"Type":"NodeText","Data":"​ 语句：不可反驳"}]},{"ID":"20240409202011-snoucj9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-snoucj9","updated":"20240409202011"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let PATTERN = VALUE;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240409202056-bcxc9ca","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240409202056-bcxc9ca","updated":"20240428132336"},"Children":[{"ID":"20240409202056-zhxdo6b","Type":"NodeParagraph","Properties":{"id":"20240409202056-zhxdo6b","updated":"20240409202339"},"Children":[{"Type":"NodeText","Data":"函数参数：不可反驳"}]},{"ID":"20240409202011-q1vsurr","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202011-q1vsurr","updated":"20240428132336"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn function(PATTERN: VALUE_TYPE) {\n    EXPRESSION;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240428131904-t7ryt4g","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240428131904-t7ryt4g","updated":"20240428132238"},"Children":[{"ID":"20240428131904-dpdo8va","Type":"NodeParagraph","Properties":{"id":"20240428131904-dpdo8va","updated":"20240428132017"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"matches!"},{"Type":"NodeText","Data":"​ 宏，使用模式对一个值进行测试，返回 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​：可反驳"}]},{"ID":"20240428132019-ixhsjek","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240428132019-ixhsjek","updated":"20240428132238"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"let trueOrFalse = matches!(VALUE, EXPRESSION);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240409202500-t49ukgv","Type":"NodeSuperBlock","Properties":{"id":"20240409202500-t49ukgv","updated":"20240428131614"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240409202454-8q6i65l","Type":"NodeSuperBlock","Properties":{"id":"20240409202454-8q6i65l","updated":"20240409202501"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409202159-ovoogfn","Type":"NodeParagraph","Properties":{"id":"20240409202159-ovoogfn","updated":"20240409202454"},"Children":[{"Type":"NodeText","Data":"不可反驳模式：若值无法与模式相匹配，程序无法继续正常运行；"}]},{"ID":"20240409202159-h2qq28z","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202159-h2qq28z","updated":"20240409202454"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let some_option_value: Option\u003cString\u003e = None;\n    // let Some(x) = some_option_value;\n    //     ^^^^^^^ pattern `None` not covered\n    let Some(x) = some_option_value;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240409202458-p9i325u","Type":"NodeSuperBlock","Properties":{"id":"20240409202458-p9i325u","updated":"20240428131614"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240409202159-9ds5l4b","Type":"NodeParagraph","Properties":{"id":"20240409202159-9ds5l4b","updated":"20240409202458"},"Children":[{"Type":"NodeText","Data":"可反驳模式：用来测试是否匹配，不匹配其他代码仍然有效"}]},{"ID":"20240409202159-tyzkyt8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202159-tyzkyt8","updated":"20240428131614"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let some_option_value: Option\u003cString\u003e = None;\n    // Value is none\n    if let Some(x) = some_option_value {\n        println!(\"Value is {}\", x);\n    } else {\n        println!(\"Value is none\");\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240409202501-s5q4orz","Type":"NodeParagraph","Properties":{"id":"20240409202501-s5q4orz","updated":"20240428131638"},"Children":[{"Type":"NodeText","Data":"当 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"match"},{"Type":"NodeText","Data":"​ 匹配字面量时，相当于其他语言的 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"switch"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240412201404-t0t4omx","Type":"NodeParagraph","Properties":{"id":"20240412201404-t0t4omx","style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);","updated":"20240412201434"},"Children":[{"Type":"NodeText","Data":"match 匹配必须穷尽所有情况，可以使用 "},{"Type":"NodeTextMark","Properties":{"parent-style":"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);"},"TextMarkType":"code","TextMarkTextContent":"_"},{"Type":"NodeKramdownSpanIAL","Data":"{: parent-style=\"color: var(--b3-card-warning-color);background-color: var(--b3-card-warning-background);\"}"},{"Type":"NodeText","Data":"​ 表示其他所有情况"}]},{"ID":"20240409202640-9tmwki7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240409202640-9tmwki7","updated":"20240409202645"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let x = 3;\n\n    // Three\n    match x {\n        1 =\u003e println!(\"One\"),\n        2 =\u003e println!(\"Two\"),\n        3 =\u003e println!(\"Three\"),\n        _ =\u003e println!(\"Other\"),\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240409202646-shwi09v","Type":"NodeParagraph","Properties":{"id":"20240409202646-shwi09v"}}]}