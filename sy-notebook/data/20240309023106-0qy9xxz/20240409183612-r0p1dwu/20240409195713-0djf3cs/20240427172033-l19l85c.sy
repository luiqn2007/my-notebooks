{"ID":"20240427172033-l19l85c","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240427172033-l19l85c","title":"声明宏","type":"doc","updated":"20240427172150"},"Children":[{"ID":"20240427172131-vap54db","Type":"NodeParagraph","Properties":{"id":"20240427172131-vap54db","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"声明宏允许编写一些类似 Rust "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"match"},{"Type":"NodeText","Data":"​ 的代码"}]},{"ID":"20240427172149-gwgccmt","Type":"NodeSuperBlock","Properties":{"id":"20240427172149-gwgccmt","updated":"20240427172150"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240427172131-2wnb8zg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240427172131-2wnb8zg","updated":"20240427172150"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"// 一个 vec! 简化版本\n#[macro_export]\nmacro_rules! vec {\n    ($(x:expr), *) =\u003e {\n        {\n            let mut temp_vec = Vec::new();\n            $(\n            temp_vec.push($x);\n            )*\n            temp_vec\n        }\n    };\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240427172141-mnt6292","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240427172141-mnt6292","updated":"20240427172150"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"UnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n    let v1 = vec![1, 2, 3];\n  \n    // 等同于\n    let v2 = {\n        let mut temp_vec = Vec::new();\n        temp_vec.push(1);\n        temp_vec.push(2);\n        temp_vec.push(3);\n        temp_vec\n    };\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240427172131-gsj6s6p","Type":"NodeList","ListData":{},"Properties":{"id":"20240427172131-gsj6s6p","updated":"20240427172131"},"Children":[{"ID":"20240427172131-uyplnry","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-uyplnry","updated":"20240427172131"},"Children":[{"ID":"20240427172131-52440q0","Type":"NodeParagraph","Properties":{"id":"20240427172131-52440q0","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"#[macro_export]"},{"Type":"NodeText","Data":"​ 表示该宏是可见的，否则不可能被外部通过导入包引入到作用域。"}]}]},{"ID":"20240427172131-hqtwnua","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-hqtwnua","updated":"20240427172131"},"Children":[{"ID":"20240427172131-vyphlpz","Type":"NodeParagraph","Properties":{"id":"20240427172131-vyphlpz","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"声明宏名称："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"macro_rules! 宏名称"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240427172131-xsqap6h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-xsqap6h","updated":"20240427172131"},"Children":[{"ID":"20240427172131-gkda6ex","Type":"NodeParagraph","Properties":{"id":"20240427172131-gkda6ex","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"大括号内语法类似 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"match"},{"Type":"NodeText","Data":"​ 表达式的结构，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"=\u0026gt;"},{"Type":"NodeText","Data":"​ 左面括号内为一个单边模式，右边为替代的代码"}]},{"ID":"20240427172131-ncs8cea","Type":"NodeList","ListData":{},"Properties":{"id":"20240427172131-ncs8cea","updated":"20240427172131"},"Children":[{"ID":"20240427172131-62jp04i","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-62jp04i","updated":"20240427172131"},"Children":[{"ID":"20240427172131-w30qjhn","Type":"NodeParagraph","Properties":{"id":"20240427172131-w30qjhn","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"模式以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$"},{"Type":"NodeText","Data":"​ 开头，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"x:exper"},{"Type":"NodeText","Data":"​ 表示匹配一个表达式，并在右边可以以 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$x"},{"Type":"NodeText","Data":"​ 替代"}]}]},{"ID":"20240427172131-a7ul9eo","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-a7ul9eo","updated":"20240427172131"},"Children":[{"ID":"20240427172131-pwws4z3","Type":"NodeParagraph","Properties":{"id":"20240427172131-pwws4z3","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"第一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$"},{"Type":"NodeText","Data":"​ 外后接一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​，表示后面可有 0 或 1 个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240427172131-8e0vyy0","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240427172131-8e0vyy0","updated":"20240427172131"},"Children":[{"ID":"20240427172131-u0vuate","Type":"NodeParagraph","Properties":{"id":"20240427172131-u0vuate","updated":"20240427172131"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"*"},{"Type":"NodeText","Data":"​ 表示匹配 0 次或多次之前的模式，在右边可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$()"},{"Type":"NodeText","Data":"​ 循环访问"}]}]}]}]}]}]}