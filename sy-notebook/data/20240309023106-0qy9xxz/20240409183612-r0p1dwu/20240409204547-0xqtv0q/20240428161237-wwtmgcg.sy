{"ID":"20240428161237-wwtmgcg","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f980","id":"20240428161237-wwtmgcg","title":"闭包参数生命周期","type":"doc","updated":"20240428161645"},"Children":[{"ID":"20240428161237-j1kgksq","Type":"NodeParagraph","Properties":{"id":"20240428161237-j1kgksq","updated":"20240428161349"},"Children":[{"Type":"NodeText","Data":"函数生命周期的"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240428161325-et9jkq8","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"省略规则"},{"Type":"NodeText","Data":"是不适用于闭包的："}]},{"ID":"20240428161349-p5slb9p","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240428161349-p5slb9p","updated":"20240428161520"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn fn_elision(x: \u0026i32) -\u003e \u0026i32 { x }\nlet closure_slision = |x: \u0026i32| -\u003e \u0026i32 { x };\n// error: lifetime may not live long enough\n//   --\u003e src/main.rs:39:39\n//    |\n// 39 |     let closure = |x: \u0026i32| -\u003e \u0026i32 { x }; // fails\n//    |                       -        -      ^ returning this value requires that `'1` must outlive `'2`\n//    |                       |        |\n//    |                       |        let's call the lifetime of this reference `'2`\n//    |                       let's call the lifetime of this reference `'1`\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240428161317-t6mds3q","Type":"NodeParagraph","Properties":{"id":"20240428161317-t6mds3q","updated":"20240428161639"},"Children":[{"Type":"NodeText","Data":"编译器很难深入闭包中检查生命周期，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Fn"},{"Type":"NodeText","Data":"​ 系列特征解决生命周期问题"}]},{"ID":"20240428161640-auvo31q","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240428161640-auvo31q","updated":"20240428161645"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"cnVzdA=="},{"Type":"NodeCodeBlockCode","Data":"fn main() {\n   let closure_slision = fun(|x: \u0026i32| -\u003e \u0026i32 { x });\n   assert_eq!(*closure_slision(\u002645), 45);\n   // Passed !\n}\n\nfn fun\u003cT, F: Fn(\u0026T) -\u003e \u0026T\u003e(f: F) -\u003e F {\n   f\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}