{"ID":"20240516032622-skqbmfd","Spec":"1","Type":"NodeDocument","Properties":{"icon":"sql.png","id":"20240516032622-skqbmfd","title":"多表查询","type":"doc","updated":"20240516032733"},"Children":[{"ID":"20240516032642-fslhzbd","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516032642-fslhzbd","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"多表关系"}]},{"ID":"20240516032642-83jski2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240516032642-83jski2","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"一对多"}]},{"ID":"20240516032642-tlaon7k","Type":"NodeParagraph","Properties":{"id":"20240516032642-tlaon7k","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"在多的一方建立外键，指向一的一方"}]},{"ID":"20240516032642-y404h6z","Type":"NodeParagraph","Properties":{"id":"20240516032642-y404h6z","updated":"20240516032707"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230721005116"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230721005116-20240516032707-ebvusdm.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-f7am6py","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240516032642-f7am6py","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"多对多"}]},{"ID":"20240516032642-ed9x1h6","Type":"NodeParagraph","Properties":{"id":"20240516032642-ed9x1h6","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"通过一张中间表实现，中间表至少存在两列，分别表示两张表的主键"}]},{"ID":"20240516032642-91brdpw","Type":"NodeParagraph","Properties":{"id":"20240516032642-91brdpw","updated":"20240516032718"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230721004739"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230721004739-20240516032718-ru2phr8.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-4irxaxy","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240516032642-4irxaxy","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"一对一"}]},{"ID":"20240516032642-97mcf8a","Type":"NodeParagraph","Properties":{"id":"20240516032642-97mcf8a","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"直接使用主键，并将外键设为唯一约束（UNIQUE）"}]},{"ID":"20240516032642-adg5ih9","Type":"NodeParagraph","Properties":{"id":"20240516032642-adg5ih9","updated":"20240516032723"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230721005047"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230721005047-20240516032723-ko6p10b.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-xk0d62x","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516032642-xk0d62x","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"多表查询"}]},{"ID":"20240516032642-yyapr8k","Type":"NodeParagraph","Properties":{"id":"20240516032642-yyapr8k","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"从多张表中进行数据查询，只需要在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"from"},{"Type":"NodeText","Data":"​ 中将多张表全部填入，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":","},{"Type":"NodeText","Data":"​ 分隔即可，查询结果为多张表的笛卡尔积。"}]},{"ID":"20240516032642-803p0w0","Type":"NodeParagraph","Properties":{"id":"20240516032642-803p0w0","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"若需要去除无效数据，仍在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"where"},{"Type":"NodeText","Data":"​ 字句中添加过滤条件。条件中 A 表的 a 列数据表示为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"A.a"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-n6etmsj","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-n6etmsj","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"-- 查询 emp 与 dept 两张表\n-- 去除无效数据条件：emp 中数据的 dept_id 值与 dept 表中的 id 值相等\nselect * from emp, dept where emp.dept_id = dept.id;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-vi3rsfi","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240516032642-vi3rsfi","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"连接查询"}]},{"ID":"20240516032642-n1wlui5","Type":"NodeParagraph","Properties":{"id":"20240516032642-n1wlui5","updated":"20240516032733"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"Pasted image 20230721103915"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/Pasted image 20230721103915-20240516032733-38351wb.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-m9n77g8","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240516032642-m9n77g8","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"内连接"}]},{"ID":"20240516032642-cptaueb","Type":"NodeParagraph","Properties":{"id":"20240516032642-cptaueb","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"查询表 A、B 的交集，即图中绿色部分"}]},{"ID":"20240516032642-vfqh7th","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240516032642-vfqh7th","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"隐式内连接"}]},{"ID":"20240516032642-gfd4t2d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-gfd4t2d","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select 字段列表 from 表列表 where 连接条件;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-9horewc","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20240516032642-9horewc","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"显式内连接"}]},{"ID":"20240516032642-662x73s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-662x73s","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select 字段列表 from 表1 [inner] join 表2 on 连接条件;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-v7romv7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240516032642-v7romv7","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"外连接"}]},{"ID":"20240516032642-nj12yh1","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-nj12yh1","updated":"20240516032643"},"Children":[{"ID":"20240516032642-g4hhr77","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-g4hhr77","updated":"20240516032642"},"Children":[{"ID":"20240516032642-y51v6lz","Type":"NodeParagraph","Properties":{"id":"20240516032642-y51v6lz","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"左外连接：查询左表的所有数据及两张表的交集，即图中绿色+蓝色部分"}]}]}]},{"ID":"20240516032642-dl3fxl9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-dl3fxl9","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select 字段列表 from 表1 left [outer] join 表2 on 连接条件;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-34z15m5","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-34z15m5","updated":"20240516032643"},"Children":[{"ID":"20240516032642-9sz74rq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-9sz74rq","updated":"20240516032642"},"Children":[{"ID":"20240516032642-7t3pny8","Type":"NodeParagraph","Properties":{"id":"20240516032642-7t3pny8","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"右外连接：查询右表的所有数据及两张表的交集，即图中绿色+黄色部分"}]}]}]},{"ID":"20240516032642-5k8pzau","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-5k8pzau","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select 字段列表 from 表1 right [outer] join 表2 on 连接条件;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-1iuyicf","Type":"NodeParagraph","Properties":{"id":"20240516032642-1iuyicf","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"左、右外连接会查询所有左表数据，而右表数据无法找到关联数据时对应列为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-k0iwzn7","Type":"NodeParagraph","Properties":{"id":"20240516032642-k0iwzn7","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"左外、右外连接实际是等效的"}]},{"ID":"20240516032642-nhw0sbb","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20240516032642-nhw0sbb","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"自连接"}]},{"ID":"20240516032642-tcvfzy5","Type":"NodeParagraph","Properties":{"id":"20240516032642-tcvfzy5","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"自连接在 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"from"},{"Type":"NodeText","Data":"​ 中为一张表赋予多个别名即可。以下只给出内连接语法，外连接同理。"}]},{"ID":"20240516032642-vvv9tqu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-vvv9tqu","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"select 字段列表 from 表A [as] 别名A join 表B [as] 别名B on 连接条件;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-efjm0d2","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240516032642-efjm0d2","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"子查询"}]},{"ID":"20240516032642-cab0byo","Type":"NodeParagraph","Properties":{"id":"20240516032642-cab0byo","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"在 SQL 语句中嵌套 SELECT 查询语句，称为嵌套查询，又称子查询"}]},{"ID":"20240516032642-kc21mga","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-kc21mga","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"任意可带有查询子句的语句 where/from/select 名 = (select ...)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-tk8gk8h","Type":"NodeParagraph","Properties":{"id":"20240516032642-tk8gk8h","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"子查询根据查询结果不同，可以分为："}]},{"ID":"20240516032642-qx1tcqe","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-qx1tcqe","updated":"20240516032643"},"Children":[{"ID":"20240516032642-sca1d8y","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-sca1d8y","updated":"20240516032642"},"Children":[{"ID":"20240516032642-jqe2k7v","Type":"NodeParagraph","Properties":{"id":"20240516032642-jqe2k7v","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"标量子查询：子查询返回结果为单个值，可以用常用的比较运算进行比较"}]}]}]},{"ID":"20240516032642-wkmd7fn","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-wkmd7fn","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"-- 查询销售部所有员工信息\n--   1. 查询销售部的部门 id：select id from dept where name = '销售部'\n--   2. 查询员工信息，条件为 dept_id = 1 中查查询出来的 id\nselect * from emp where dept_id = (select id from dept where name = '销售部');\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-pqez4ou","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-pqez4ou","updated":"20240516032643"},"Children":[{"ID":"20240516032642-rdncfip","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-rdncfip","updated":"20240516032642"},"Children":[{"ID":"20240516032642-sjm8i93","Type":"NodeParagraph","Properties":{"id":"20240516032642-sjm8i93","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"列子查询：子查询返回多行，可用操作符为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"not in"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"any"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"some"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"all"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240516032642-c7pt4kr","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-c7pt4kr","updated":"20240516032642"},"Children":[{"ID":"20240516032642-2nmjx4v","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-2nmjx4v","updated":"20240516032642"},"Children":[{"ID":"20240516032642-xhhyb8a","Type":"NodeParagraph","Properties":{"id":"20240516032642-xhhyb8a","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in"},{"Type":"NodeText","Data":"​：子查询中存在对应值"}]}]},{"ID":"20240516032642-hrfrcux","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-hrfrcux","updated":"20240516032642"},"Children":[{"ID":"20240516032642-9srufb7","Type":"NodeParagraph","Properties":{"id":"20240516032642-9srufb7","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"not in"},{"Type":"NodeText","Data":"​：子查询中不存在对应值"}]}]},{"ID":"20240516032642-mtjdam4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-mtjdam4","updated":"20240516032642"},"Children":[{"ID":"20240516032642-6g2cx4f","Type":"NodeParagraph","Properties":{"id":"20240516032642-6g2cx4f","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"any"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"some"},{"Type":"NodeText","Data":"​：子查询中存在符合条件的值"}]}]},{"ID":"20240516032642-9h1s4wt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-9h1s4wt","updated":"20240516032642"},"Children":[{"ID":"20240516032642-s17s4z1","Type":"NodeParagraph","Properties":{"id":"20240516032642-s17s4z1","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"all"},{"Type":"NodeText","Data":"​：子查询中所有值都符合条件"}]}]}]}]}]},{"ID":"20240516032642-t6lu2dw","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-t6lu2dw","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"-- 查询销售部和市场部中所有员工信息\n--   1. 查询销售部与市场部的 id：select id from dept where name in ('销售部', '市场部')\n--   2. 查询员工信息，条件为 dept_id 在 1 中查询出的 id 列表中\nselect *\n    from emp\n    where dept_id in (select id from dept where name in ('销售部', '市场部'));\n\n-- 查询比财务部任何人工资都高的员工信息\n--   1. 查询财务部 id：select id from dept where name = '财务部'\n--   2. 查询财务部所有人工资：select salary from emp where dept_id = (...)\n--   3. 查询 salary\u003e所有财务部工资 的员工：select * from emp where salary \u003e all (...)\nselect *\nfrom emp\nwhere salary \u003e all (select salary from emp where dept_id = (select id from dept where name = '财务部'));\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-g7c37my","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-g7c37my","updated":"20240516032643"},"Children":[{"ID":"20240516032642-2sbxpfb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-2sbxpfb","updated":"20240516032642"},"Children":[{"ID":"20240516032642-rqnbcpd","Type":"NodeParagraph","Properties":{"id":"20240516032642-rqnbcpd","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"行子查询：子查询返回一行，常用操作符有 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"="},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;\u0026gt;"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in"},{"Type":"NodeText","Data":"​，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"not in"},{"Type":"NodeText","Data":"​ 等，多个关键字使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"()"},{"Type":"NodeText","Data":"​ 组合"}]}]}]},{"ID":"20240516032642-b6r9jrg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-b6r9jrg","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"-- 查询薪资、上级都与 abc 相同的员工信息\n--   1. 查询 abc 的薪资和上级 select salary, managerid from emp where name = 'abc'\n--   2. 查询员工信息 (salary, managerid) = (...)\nselect *\nfrom emp\nwhere (salary, managerid) = (select salary, managerid from emp where name = 'abc');\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-bfbdoau","Type":"NodeList","ListData":{},"Properties":{"id":"20240516032642-bfbdoau","updated":"20240516032643"},"Children":[{"ID":"20240516032642-mfw11x4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240516032642-mfw11x4","updated":"20240516032642"},"Children":[{"ID":"20240516032642-cjwxcwu","Type":"NodeParagraph","Properties":{"id":"20240516032642-cjwxcwu","updated":"20240516032642"},"Children":[{"Type":"NodeText","Data":"表子查询：子查询返回多行多列，常用运算符为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"in"},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240516032642-hrbor7j","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516032642-hrbor7j","updated":"20240516032643"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c3Fs"},{"Type":"NodeCodeBlockCode","Data":"-- 查询与 a 或 b 的薪资与部门相同的员工信息\n--   1. 查询 a 或 b 的薪资与部门信息 select salary, dept_id from emp where name = 'a' or name = 'b'\n--   2. 查询员工信息 where (salary, dept_id) in (...)\nselect *\nfrom emp\nwhere (salary, dept_id) in (select salary, dept_id from emp where name = 'a' or name = 'b');\n\n-- 查询入职时间在 2006-01-01 之后的员工信息及部门信息\n--   1. 查询 2006-01-01 之后员工 select * from emp where entrydate \u003e '2006-01-01'\n--   2. 将 1 查询的结果作为一张子表，与部门信息表进行联结查询 from (...) e left join ... \nselect *\nfrom (select * from emp where entrydate \u003e '2006-01-01') e\n         left join dept on dept.id = e.dept_id;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516032642-m5lcq8v","Type":"NodeParagraph","Properties":{"id":"20240516032642-m5lcq8v","updated":"20240516032643"},"Children":[{"Type":"NodeText","Data":"根据所在位置不同，可以分为 where 之后的子查询，from 之后的子查询，select 之后的子查询。"}]}]}