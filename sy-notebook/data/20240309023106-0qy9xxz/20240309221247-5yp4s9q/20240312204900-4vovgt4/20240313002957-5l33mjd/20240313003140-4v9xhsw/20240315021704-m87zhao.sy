{"ID":"20240315021704-m87zhao","Spec":"1","Type":"NodeDocument","Properties":{"icon":"jclasslib256x256.png","id":"20240315021704-m87zhao","title":"init 方法","type":"doc","updated":"20240315023934"},"Children":[{"ID":"20240315021704-bjunzja","Type":"NodeParagraph","Properties":{"id":"20240315021704-bjunzja","updated":"20240315021825"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"\u0026lt;init\u0026gt;"},{"Type":"NodeText","Data":"​ 方法对应的是对象初始化方法，包括类构造函数、非静态变量初始化、对象初始化代码块。"}]},{"ID":"20240315023210-g994gxs","Type":"NodeSuperBlock","Properties":{"id":"20240315023210-g994gxs","updated":"20240315023224"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240315021833-ay1f81c","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240315021833-ay1f81c","updated":"20240315023210"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public class MyClass {\n\n    // 局部变量赋值\n    private int a = 10;\n\n    // 构造函数\n    public MyClass() {\n        int c = 30;\n    }\n\n    // 对象初始化代码块\n    {\n        int b = 20;\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240315023207-5spyxss","Type":"NodeSuperBlock","Properties":{"id":"20240315023207-5spyxss","updated":"20240315023224"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240315022701-aglz87p","Type":"NodeParagraph","Properties":{"id":"20240315022701-aglz87p","updated":"20240315023208"},"Children":[{"Type":"NodeText","Data":"编译后，字节码为："}]},{"ID":"20240315022718-utgmudi","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240315022718-utgmudi","updated":"20240315023224"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker"},{"Type":"NodeCodeBlockCode","Data":"public MyClass();\n    descriptor: ()V\n    flags: ACC_PUBLIC\n    Code:\n        aload_0;\n        invokespecial #1;  // 调用基类构造 java/lang/Object.\"\u003cinit\u003e\":()V\n        aload_0;\n        bipush 10;\n        putfield #7;       // a:I = 10\n        bipush 20;\n        istore_1;          // int b=20\n        bipush 30;\n        istore_1;          // int c=30\n        return;\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240315022810-6tac7n8","Type":"NodeParagraph","Properties":{"id":"20240315022810-6tac7n8","updated":"20240315023414"},"Children":[{"Type":"NodeText","Data":"结论：尽管局部变量赋值和初始化代码块写在构造函数之外，编译到字节码中均位于构造函数之中。"}]},{"ID":"20240315023445-8smq85m","Type":"NodeParagraph","Properties":{"id":"20240315023445-8smq85m","updated":"20240315023934"},"Children":[{"Type":"NodeText","Data":"因此，局部变量赋值出的异常，需要在构造函数之中抛出异常："}]},{"ID":"20240315023519-24pligz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240315023519-24pligz","updated":"20240315023748"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"private FileOutputStream fos = new FileOutputStream(\"test.txt\");\npublic MyClass() throws IOException {\n    // do something\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240315023930-lrnrqwa","Type":"NodeParagraph","Properties":{"id":"20240315023930-lrnrqwa"}}]}