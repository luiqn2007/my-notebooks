{"ID":"20240314024631-jxyo0fh","Spec":"1","Type":"NodeDocument","Properties":{"icon":"jclasslib256x256.png","id":"20240314024631-jxyo0fh","title":"字符串 switch","type":"doc","updated":"20240427150738"},"Children":[{"ID":"20240314141104-v8bw7bc","Type":"NodeParagraph","Properties":{"id":"20240314141104-v8bw7bc","updated":"20240427150735"},"Children":[{"Type":"NodeText","Data":"对于 String 的 switch 实际是对字符串 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"hashCode()"},{"Type":"NodeText","Data":"​ 的 switch，之后使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"equals()"},{"Type":"NodeText","Data":"​ 进行二次检查的语法糖"}]},{"ID":"20240314142346-lxe1a3n","Type":"NodeSuperBlock","Properties":{"id":"20240314142346-lxe1a3n","updated":"20240427150738"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240314030742-dyqesfs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314030742-dyqesfs","updated":"20240314142347"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public static int test(String name) {\n    switch (name) {\n        case \"Java\":\n            return 100;\n        case \"Kotlin\":\n            return 200;\n        default:\n            return -1;\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240314142339-lbotjjq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314142339-lbotjjq","updated":"20240314142704"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 等效代码\npublic static int test(String name) {\n    String $str = name;\n    int $matchIndex = -1;\n    switch ($str.hashCode()) {\n        case -2041707231: { // goto #50\n            if (\"Java\".equals($str)) {\n                $matchIndex = 0;\n                break; // goto #61\n            }\n            break;\n        }\n        case 2301506: { // goto #36\n            if (\"Kotlin\".equals($str)) {\n                $matchIndex = 1;\n                break; // goto #61\n            }\n            break;\n        }\n        default: break; // goto #61\n    }\n    switch ($matchIndex) { // #61\n        case 0: return 100; // goto #88\n        case 1: return 200; // goto #91\n        default: return -1; // goto #95\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240314030747-gcgnhjz","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw\" data-src=\"/widgets/widget-excalidraw\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 961px; height: 924px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240314164848-kkgrtls","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","data-assets":"assets/widget-excalidraw/0-20240314164848-kkgrtls","id":"20240314030747-gcgnhjz","options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","updated":"20240427150738"}},{"ID":"20240314143037-tvwq64y","Type":"NodeParagraph","Properties":{"id":"20240314143037-tvwq64y","updated":"20240427150738"},"Children":[{"Type":"NodeText","Data":"当发生哈希冲突时等效代码如下："}]},{"ID":"20240314143111-as27tpi","Type":"NodeSuperBlock","Properties":{"id":"20240314143111-as27tpi","updated":"20240427150738"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240314143107-ce1kfkq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314143107-ce1kfkq","updated":"20240314143149"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"public static int test(String name) {\n    switch (name) {\n        case \"Aa\":\n            return 100;\n        case \"BB\":\n            return 200;\n        default:\n            return -1;\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240314143107-2o1mi6y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314143107-2o1mi6y","updated":"20240314143239"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 等效代码\npublic static int test(String name) {\n    String $str = name;\n    int $matchIndex = -1;\n    switch ($str.hashCode()) {\n        case 2112: {\n            if (\"Aa\".equals($str)) {\n                $matchIndex = 0;\n            } else if (\"BB\".equals($str)) {\n                $matchIndex = 1;\n            }\n            break;\n        }\n        default: break;\n    }\n    switch ($matchIndex) {\n        case 0: return 100;\n        case 1: return 200;\n        default: return -1;\n    }\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240314142942-vazutt3","Type":"NodeParagraph","Properties":{"id":"20240314142942-vazutt3"}}]}