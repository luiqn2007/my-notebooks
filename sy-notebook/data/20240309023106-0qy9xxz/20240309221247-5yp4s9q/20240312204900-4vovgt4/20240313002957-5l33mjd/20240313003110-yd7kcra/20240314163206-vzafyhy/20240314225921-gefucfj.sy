{"ID":"20240314225921-gefucfj","Spec":"1","Type":"NodeDocument","Properties":{"icon":"jclasslib256x256.png","id":"20240314225921-gefucfj","title":"try-with-resources 字节码原理","type":"doc","updated":"20240314230555"},"Children":[{"ID":"20240315020656-pjnjg7y","Type":"NodeSuperBlock","Properties":{"id":"20240315020656-pjnjg7y","updated":"20240427151010"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240314230508-38y8ut4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314230508-38y8ut4","updated":"20240315020657"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"try (FileOutputStream in = \n       new FileOutputStream(\"test.txt\")) {\n    in.write(1);\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} finally {\n    System.out.println(\"OK\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240314230508-yyfmicz","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240314230508-yyfmicz","updated":"20240315020707"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"// 等价实现\npublic static void test() {\n    try {\n        try {\n            // 0-9\n            FileOutputStream in =\n                new FileOutputStream(\"test.txt\");\n            try {\n                // 10-12\n                in.write(1);\n            } catch (Throwable e) {\n                try {\n                    // 22-24\n                    in.close();\n                } catch (Throwable e2) {\n                    // 30-37\n                    e2.addSuppressed(e);\n                    throw e2;\n                }\n                // 36-37\n                throw e;\n            }\n        } catch (Throwable eee) {\n            // 59-\n            System.out.println(\"OK\");\n            throw eee;\n        }\n    } catch (IOException e) {\n        // 49-58\n        try {\n            throw new RuntimeException(e);\n        } catch (Throwable eee) {\n            System.out.println(\"OK\");\n            throw eee;\n        }\n    }\n    // 38\n    System.out.println(\"OK\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240314230452-5y407ql","Type":"NodeParagraph","Properties":{"id":"20240314230452-5y407ql","updated":"20240427151010"},"Children":[{"Type":"NodeText","Data":"执行过程如下："}]},{"ID":"20240314230555-l6xsjtr","Type":"NodeWidget","Data":"\u003ciframe src=\"/widgets/widget-excalidraw\" data-src=\"/widgets/widget-excalidraw\" data-subtype=\"widget\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" style=\"width: 1537px; height: 1182px;\"\u003e\u003c/iframe\u003e","Properties":{"custom-data-assets":"assets/widget-excalidraw/0-20240315004344-s98lbel","custom-options":"\u0026#123;\u0026quot;gridModeEnabled\u0026quot;:true,\u0026quot;exportBackground\u0026quot;:true,\u0026quot;theme\u0026quot;:\u0026quot;light\u0026quot;\u0026#125;","id":"20240314230555-l6xsjtr","updated":"20240314230555"}},{"ID":"20240315003132-idxq913","Type":"NodeParagraph","Properties":{"id":"20240315003132-idxq913","updated":"20240427151009"},"Children":[{"Type":"NodeText","Data":"在操作出问题，且在 finally 块使用 close 关闭资源出"},{"Type":"NodeTextMark","TextMarkType":"block-ref","TextMarkBlockRefID":"20240314163206-vzafyhy","TextMarkBlockRefSubtype":"s","TextMarkTextContent":"异常"},{"Type":"NodeText","Data":"时（30-37），使用 addSuppressed 连接两个异常"}]},{"ID":"20240427150954-r03ghme","Type":"NodeParagraph","Properties":{"id":"20240427150954-r03ghme"}}]}