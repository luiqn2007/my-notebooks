{"ID":"20240404151837-2h2xmfb","Spec":"1","Type":"NodeDocument","Properties":{"icon":"2615","id":"20240404151837-2h2xmfb","title":"switch 表达式","type":"doc","updated":"20240404160434"},"Children":[{"ID":"20240404160333-ouodya5","Type":"NodeSuperBlock","Properties":{"bookmark":"Java14","id":"20240404160333-ouodya5","updated":"20240404160333"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240404152815-p5kzjq0","Type":"NodeParagraph","Properties":{"id":"20240404152815-p5kzjq0","updated":"20240404160333"},"Children":[{"Type":"NodeText","Data":"当只有一行语句时，可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"-\u0026gt;"},{"Type":"NodeText","Data":"​ 省略 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"break"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240404152755-4ls055e","Type":"NodeSuperBlock","Properties":{"id":"20240404152755-4ls055e","updated":"20240404160333"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240404151837-o4n5564","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404151837-o4n5564","updated":"20240404152756"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"switch (day) {\n  case MONDAY:\n  case FRIDAY:\n  case SUNDAY:\n      System.out.println(6);\n      break;\n  case TUESDAY:\n      System.out.println(7);\n      break;\n  case THURSDAY:\n  case SATURDAY:\n      System.out.println(8);\n      break;\n  case WEDNESDAY:\n      System.out.println(9);\n      break;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240404152749-u7r8o47","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404152749-u7r8o47","updated":"20240404152756"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"switch (day) {\n    case MONDAY, FRIDAY, SUNDAY -\u003e System.out.println(6);\n    case TUESDAY                -\u003e System.out.println(7);\n    case THURSDAY, SATURDAY     -\u003e System.out.println(8);\n    case WEDNESDAY              -\u003e System.out.println(9);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404152845-7kabiu0","Type":"NodeParagraph","Properties":{"id":"20240404152845-7kabiu0","updated":"20240404160333"},"Children":[{"Type":"NodeText","Data":"若只有一行赋值，则可以将 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"switch"},{"Type":"NodeText","Data":"​ 作为一个表达式使用"}]},{"ID":"20240404152808-5fgjjd5","Type":"NodeSuperBlock","Properties":{"id":"20240404152808-5fgjjd5","updated":"20240404160333"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240404152756-oodmixt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404152756-oodmixt","updated":"20240404152808"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"int dayNum;\nswitch (day) {\n    case MONDAY: dayNum = 1;break;\n    case FRIDAY: dayNum = 2;break;\n    case SUNDAY: dayNum = 3;break;\n    case TUESDAY: dayNum = 4;break;\n    default: dayNum = 0;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240404152801-h32yqw8","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404152801-h32yqw8","updated":"20240404152808"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"int dayNum = switch (day) {\n    case MONDAY -\u003e 1;\n    case FRIDAY -\u003e 2;\n    case SUNDAY -\u003e 3;\n    case TUESDAY -\u003e 4;\n    default -\u003e 0;\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404152808-z5zql3w","Type":"NodeParagraph","Properties":{"id":"20240404152808-z5zql3w","updated":"20240404160333"},"Children":[{"Type":"NodeText","Data":"若有多行还有返回值，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"yield"},{"Type":"NodeText","Data":"​ 作为表达式返回"}]},{"ID":"20240404152934-heyz6yl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404152934-heyz6yl","updated":"20240404160333"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"String dayOfWeek = switch (i) {\n    case 1 -\u003e {\n        String day = \"Monday\";\n        yield day;\n    }\n    case 2 -\u003e {\n        String day = \"Tuesday\";\n        yield day;\n    }\n    default -\u003e \"Unknown\";\n};\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404160434-970q5l2","Type":"NodeSuperBlock","Properties":{"bookmark":"Java21","id":"20240404160434-970q5l2","updated":"20240404160434"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240404160427-ouon9rh","Type":"NodeSuperBlock","Properties":{"id":"20240404160427-ouon9rh","updated":"20240404160434"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240404160420-g76f54e","Type":"NodeSuperBlock","Properties":{"id":"20240404160420-g76f54e","updated":"20240404160428"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240404160351-0j3iqdc","Type":"NodeParagraph","Properties":{"id":"20240404160351-0j3iqdc","updated":"20240404160421"},"Children":[{"Type":"NodeText","Data":"JEP441，Switch 表达式可判断对象类型了"}]},{"ID":"20240404160351-8hkvoan","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404160351-8hkvoan","updated":"20240404160421"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"static String formatterPatternSwitch(Object o) {\n    return switch (o) {\n        case null      -\u003e \"null\"\n        case Integer i -\u003e String.format(\"int %d\", i);\n        case Long l    -\u003e String.format(\"long %d\", l);\n        case Double d  -\u003e String.format(\"double %f\", d);\n        case String s  -\u003e String.format(\"String %s\", s);\n        case default   -\u003e o.toString();\n    };\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404160425-1t2jdbn","Type":"NodeSuperBlock","Properties":{"id":"20240404160425-1t2jdbn","updated":"20240404160428"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"row"},{"ID":"20240404160351-oigewbg","Type":"NodeParagraph","Properties":{"id":"20240404160351-oigewbg","updated":"20240404160425"},"Children":[{"Type":"NodeText","Data":"另外，还支持进一步的复杂检查，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"when"},{"Type":"NodeText","Data":"​"}]},{"ID":"20240404160351-8e75mmv","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240404160351-8e75mmv","updated":"20240404160425"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"amF2YQ=="},{"Type":"NodeCodeBlockCode","Data":"Effect effect;\nGuitar guitar;\n\nswitch(effect) {\n    case Tuner tu when !guitar.isInTune() -\u003e ... ;\n    case Tuner tu                         -\u003e ... ; \n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404160351-q45mh38","Type":"NodeList","ListData":{},"Properties":{"id":"20240404160351-q45mh38","updated":"20240404160434"},"Children":[{"ID":"20240404160351-toa7rej","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404160351-toa7rej","updated":"20240404160351"},"Children":[{"ID":"20240404160351-etynrft","Type":"NodeParagraph","Properties":{"id":"20240404160351-etynrft","updated":"20240404160351"},"Children":[{"Type":"NodeText","Data":"当一个模式匹配失败时，抛出 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MatchException"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240404160351-mlwqr6f","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240404160351-mlwqr6f","updated":"20240404160351"},"Children":[{"ID":"20240404160351-9pzx56y","Type":"NodeParagraph","Properties":{"id":"20240404160351-9pzx56y","updated":"20240404160351"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"switch"},{"Type":"NodeText","Data":"​ 表达式和语句中支持推断 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"record"},{"Type":"NodeText","Data":"​ 模式类型参数，因此可以使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"var"},{"Type":"NodeText","Data":"​"}]}]}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240404160429-4wnopz0","Type":"NodeParagraph","Properties":{"id":"20240404160429-4wnopz0"}}]}