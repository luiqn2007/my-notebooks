{"ID":"20240516231352-45uo55a","Spec":"1","Type":"NodeDocument","Properties":{"icon":"scala.png","id":"20240516231352-45uo55a","title":"高阶函数","type":"doc","updated":"20240516231427"},"Children":[{"ID":"20240516231358-xzqisyx","Type":"NodeParagraph","Properties":{"id":"20240516231358-xzqisyx","updated":"20240516231358"},"Children":[{"Type":"NodeText","Data":"以函数为参数，或以函数为返回值的函数"}]},{"ID":"20240516231358-1s1ygzo","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516231358-1s1ygzo","updated":"20240516231358"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"val salaries = Seq(20000, 70000, 40000)\nval newSalaries = salaries.map(_ * 2) // _ * 2 为匿名函数，参数 Scala 通过上下文推测为一个 Int，因此可以使用 _ 替代\nprintln(newSalaries) // List(40000, 140000, 80000)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516231427-qh9ufw7","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516231427-qh9ufw7","updated":"20240516231427"},"Children":[{"Type":"NodeText","Data":"接收函数的函数"}]},{"ID":"20240516231427-k80ursq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516231427-k80ursq","updated":"20240516231427"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"object SalaryRaiser {\n    private def promotion(salaries: List[Double], promotionFunction: Double =\u003e Double): List[Double] = \n        salaries.map(promotionFunction)\n    def smallPromotion(salaries: List[Double]): List[Double] = promotion(salaries, salary =\u003e salary * 1.1)\n    def greatPromotion(salaries: List[Double]): List[Double] = \n        promotion(salaries, salary =\u003e salary * math.log(salary))\n    def hugePromotion(salaries: List[Double]): List[Double] = promotion(salaries, salary =\u003e salary * salary)\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516231427-bs3jkys","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516231427-bs3jkys","updated":"20240516231427"},"Children":[{"Type":"NodeText","Data":"返回函数的函数"}]},{"ID":"20240516231427-x3nmbc5","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516231427-x3nmbc5","updated":"20240516231427"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"def urlBuilder(ssl: Boolean, domain: String): (String, String) =\u003e String = {\n    val schema = if (ssl) \"https://\" else \"http://\"\n    (endpoint: String, query: String) =\u003e s\"$schema$domain/$endpoint?$query\"\n}\n\nval domain = \"www.example.com\"\nval getUrl = urlBuilder(ssl = true, domain)\nval endpoint = \"users\"\nval query = \"id=1\"\nval url = getUrl(endpoint, query)\nprintln(url) // https://www.example.com/users?id=1\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516231427-eaf4gvm","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516231427-eaf4gvm","updated":"20240516231427"},"Children":[{"Type":"NodeText","Data":"嵌套方法"}]},{"ID":"20240516231427-86qs5z3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516231427-86qs5z3","updated":"20240516231427"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"def factorial(x: Int): Int = {\n    def fact(x: Int, accumulator: Int): Int = {\n        if (x \u003c= 1) accumulator\n        else fact(x-1, x*accumulator)\n    }\n    fact(x, 1)\n}\n\nprintln(\"Factorial of 2: \" + factorial(2)) // Factorial of 2: 2\nprintln(\"Factorial of 3: \" + factorial(3)) // Factorial of 3: 6\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}