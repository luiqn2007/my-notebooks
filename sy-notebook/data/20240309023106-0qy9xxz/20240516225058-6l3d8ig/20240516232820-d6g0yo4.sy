{"ID":"20240516232820-d6g0yo4","Spec":"1","Type":"NodeDocument","Properties":{"icon":"scala.png","id":"20240516232820-d6g0yo4","title":"Trait","type":"doc","updated":"20240516233048"},"Children":[{"ID":"20240516232830-6nvw6ml","Type":"NodeParagraph","Properties":{"id":"20240516232830-6nvw6ml","updated":"20240516233031"},"Children":[{"Type":"NodeText","Data":"类似于 Java 的接口，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"trait"},{"Type":"NodeText","Data":"​ 定义，可被继承/实现/混入，但不能实例化"}]},{"ID":"20240516232830-sjvt49t","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232830-sjvt49t","updated":"20240516232830"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"trait GreeterTrait {\n    def greet(name: String): Unit\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516232836-t7gzb5x","Type":"NodeParagraph","Properties":{"id":"20240516232836-t7gzb5x","updated":"20240516233037"},"Children":[{"Type":"NodeText","Data":"继承：使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"extends"},{"Type":"NodeText","Data":"​ 继承，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"override"},{"Type":"NodeText","Data":"​ 标记实现基类/接口方法"}]},{"ID":"20240516232836-vzbex50","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232836-vzbex50","updated":"20240516232836"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"class Greeter extends GreeterTrait {\n    override def greet(name: String) = println(\"hello, \" + name + \"!\")\n}\nnew Greeter().greet(\"Scala\") // hello, Scala!\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516232836-6jqx1wt","Type":"NodeParagraph","Properties":{"id":"20240516232836-6jqx1wt","updated":"20240516232836"},"Children":[{"Type":"NodeText","Data":"混入：另一种实现特质的方式。混入可使一个类扩展多个特质"}]},{"ID":"20240516232836-xzxoiij","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232836-xzxoiij","updated":"20240516232836"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"abstract class A {\n    val message: String\n}\n\nclass B extends A {\n    val message = \"I'm an instance of class B\"\n}\n\ntrait C extends A {\n    def loudMessage = message.toUpperCase()\n}\n// 一个 Class 只能有一个基类 用 extends 定义\n// 可以有多个 Mixin 用 with 定义，Mixins 可以与类有相同基类\nclass D extends B with C\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516232925-cw2fqgq","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516232925-cw2fqgq","updated":"20240516233048"},"Children":[{"Type":"NodeText","Data":"自类型"}]},{"ID":"20240516232928-2ks40yc","Type":"NodeParagraph","Properties":{"id":"20240516232928-2ks40yc","updated":"20240516233045"},"Children":[{"Type":"NodeText","Data":"用于声明一个 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Trait"},{"Type":"NodeText","Data":"​ 的上下文（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"this"},{"Type":"NodeText","Data":"​）类型"}]},{"ID":"20240516232928-nftbdk1","Type":"NodeSuperBlock","Properties":{"id":"20240516232928-nftbdk1","updated":"20240516232934"},"Children":[{"Type":"NodeSuperBlockOpenMarker"},{"Type":"NodeSuperBlockLayoutMarker","Data":"col"},{"ID":"20240516232928-fhzui4n","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232928-fhzui4n","updated":"20240516232928"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"trait User {\n    def username: String\n}\n\ntrait Tweeter {\n    this: User =\u003e // 重新赋予 this 类型\n    def tweet(tweetText: String) = println(s\"$username: $tweetText\")\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240516232928-z51x4q9","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232928-z51x4q9","updated":"20240516232928"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"class VerifiedTweeter(val username_ : String) extends Tweeter with User { // 必须混入 User\n    def username = s\"real $username_\"\n}\n\nval realBeyoncé = new VerifiedTweeter(\"Beyoncé\")\n// real Beyoncé: Just spilled my glass of lemonade\nrealBeyoncé.tweet(\"Just spilled my glass of lemonade\")\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"Type":"NodeSuperBlockCloseMarker"}]},{"ID":"20240516232928-xxrq517","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240516232928-xxrq517","updated":"20240516233048"},"Children":[{"Type":"NodeText","Data":"复合类型"}]},{"ID":"20240516232944-sfq12zn","Type":"NodeParagraph","Properties":{"id":"20240516232944-sfq12zn","updated":"20240516233048"},"Children":[{"Type":"NodeText","Data":"一个对象的类型是其他多种 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Trait"},{"Type":"NodeText","Data":"​ 的子类型"}]},{"ID":"20240516232944-mawb22o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240516232944-mawb22o","updated":"20240516232944"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"c2NhbGE="},{"Type":"NodeCodeBlockCode","Data":"trait Cloneable extends java.lang.Cloneable {\n    override def clone(): Cloneable = {\n        super.clone().asInstanceOf[Cloneable]\n    }\n}\n\ntrait Resetable {\n    def reset: Unit\n}\n\n// 将 obj 同时指定为 Cloneable 和 Resetable\ndef cloneAndReset(obj: Cloneable with Resetable): Cloneable = {\n    val cloned = obj.clone()\n    obj.reset\n    cloned\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}